[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2025-12-31T16:30:07.240Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "stylus@0.52.0-alpha",
			"name": "stylus",
			"version": "0.52.0-alpha",
			"location": "https://registry.npmjs.org/stylus/-/stylus-0.52.0-alpha.tgz",
			"integrity": "sha512-BW709qNUq32HfLQM+2j8/OAfZzld9ST74nNh2iT95NZBS+uh+IuGaDwEKjFQIp/84drQnxS9wgN2kldqdNWaew==",
			"publishedAt": "2015-07-15T13:31:09.120Z",
			"publishedWith": {
				"node": null,
				"npm": "1.4.9"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/stylus/stylus",
			"spec": "github:stylus/stylus#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"Readme.md": {
					"diff": "--- published/Readme.md\n+++ rebuilt/Readme.md\n@@ -1,6 +1,46 @@\n-# Stylus [![Build Status](https://travis-ci.org/stylus/stylus.svg?branch=master)](https://travis-ci.org/stylus/stylus)\n+<p align=\"center\"><a href=\"https://stylus-lang.com\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"150\" src=\"https://raw.githubusercontent.com/stylus/stylus/dev/graphics/Logos/stylus.png\" alt=\"Stylus logo\"></a></p>\n \n- Stylus is a revolutionary new language, providing an efficient, dynamic, and expressive way to generate CSS. Supporting both an indented syntax and regular CSS style.\n+[![Build Status](https://github.com/stylus/stylus/actions/workflows/ci.yml/badge.svg?branch=dev)](https://github.com/stylus/stylus/actions?query=branch%3Adev)\n+[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-brightgreen.svg)](https://github.com/stylus/stylus/pulse)\n+[![npm version](https://img.shields.io/npm/v/stylus?color=brightgreen)](https://www.npmjs.com/package/stylus)\n+[![npm](https://img.shields.io/npm/dm/stylus.svg)](https://www.npmjs.com/package/stylus)\n+[![Join the community on github discussion](https://img.shields.io/badge/Join%20the%20community-on%20discussions-%23754ffb?logo=googlechat&logoColor=white)](https://github.com/stylus/stylus/discussions)\n+\n+Stylus is a revolutionary new language, providing an efficient, dynamic, and expressive way to generate CSS. Supporting both an indented syntax and regular CSS style.\n+\n+## Sponsors\n+\n+You can sponsor stylus ongoing development via [opencollective](https://opencollective.com/stylus/) or [paypal](https://www.paypal.com/paypalme/iChenLei/) !\n+\n+<table>\n+  <tbody>\n+    <tr>\n+      <td width=\"50%\" align=\"center\">\n+        <a href=\"https://automattic.com/\">\n+          <img alt=\"automattic\" src=\"https://user-images.githubusercontent.com/14012511/175755798-40ca295f-a0cf-45a6-b24a-303496552499.svg\" />\n+        </a>\n+      </td>\n+      <td width=\"50%\" align=\"center\">\n+        <a href=\"https://www.mojotech.com/\">\n+          <img alt=\"mojotech\" src=\"https://user-images.githubusercontent.com/14012511/175755697-0a090b42-89f8-4651-9506-b6aefac57c66.png\" />\n+        </a>\n+      </td>\n+    </tr>\n+    <tr>\n+      <td width=\"50%\" align=\"center\">\n+         <p style=\"font-size: 30px\">Your Logo</p>\n+      </td>\n+      <td width=\"50%\" align=\"center\">\n+        <a href=\"https://www.paypal.com/paypalme/iChenLei/\">\n+          <img alt=\"Paypal stylus\" src=\"https://www.paypalobjects.com/digitalassets/c/website/marketing/apac/C2/logos-buttons/optimize/Full_Online_Tray_RGB.png\" />\n+        </a>\n+      </td>\n+    </tr>\n+  </tbody>\n+</table>\n+\n+### Backers\n+[![Backers](https://opencollective.com/stylus/individuals.svg)](https://opencollective.com/stylus/)\n \n ## Installation\n \n@@ -8,160 +48,35 @@\n $ npm install stylus -g\n ```\n \n-### Example\n-\n-```stylus\n-border-radius()\n-  -webkit-border-radius: arguments\n-  -moz-border-radius: arguments\n-  border-radius: arguments\n-\n-body a\n-  font: 12px/1.4 \"Lucida Grande\", Arial, sans-serif\n-  background: black\n-  color: #ccc\n-\n-form input\n-  padding: 5px\n-  border: 1px solid\n-  border-radius: 5px\n-```\n-\n-compiles to:\n-\n-```css\n-body a {\n-  font: 12px/1.4 \"Lucida Grande\", Arial, sans-serif;\n-  background: #000;\n-  color: #ccc;\n-}\n-form input {\n-  padding: 5px;\n-  border: 1px solid;\n-  -webkit-border-radius: 5px;\n-  -moz-border-radius: 5px;\n-  border-radius: 5px;\n-}\n-```\n-\n-the following is equivalent to the indented version of Stylus source, using the CSS syntax instead:\n-\n-```stylus\n-border-radius() {\n-  -webkit-border-radius: arguments\n-  -moz-border-radius: arguments\n-  border-radius: arguments\n-}\n-\n",
					"match": false,
					"packageHash": "b225b95b2de3114d6fdddecd612764c8a3a3692222d6004191cdfb4418b98388",
					"size": 5061,
					"sourceHash": "163285700a6e03406a6798d35956c8940c35834b91359fbca48b471417a94cd3",
					"status": "content"
				},
				"bin/stylus": {
					"diff": "--- published/bin/stylus\n+++ rebuilt/bin/stylus\n@@ -11,7 +11,8 @@\n   , extname = require('path').extname\n   , resolve = require('path').resolve\n   , join = require('path').join\n-  , isWindows = process.platform === 'win32';\n+  , isWindows = process.platform === 'win32'\n+  , mkdirSync = fs.mkdirSync;\n \n /**\n  * Arguments.\n@@ -60,6 +61,12 @@\n var firebug = false;\n \n /**\n+ * Quiet flag\n+ */\n+\n+var quiet = false;\n+\n+/**\n  * Sourcemap flag\n  */\n \n@@ -144,6 +151,12 @@\n var hoist = false;\n \n /**\n+ * Specify custom file extension.\n+ */\n+\n+var ext = '.css';\n+\n+/**\n  * Usage docs.\n  */\n \n@@ -172,9 +185,10 @@\n   , '    -d, --compare           Display input along with output'\n   , '    -f, --firebug           Emits debug infos in the generated CSS that'\n   , '                            can be used by the FireStylus Firebug plugin'\n-  , '    -l, --line-numbers      Emits comments in the generated CSS'\n+\t, '    -l, --line-numbers      Emits comments in the generated CSS'\n   , '                            indicating the corresponding Stylus line'\n   , '    -m, --sourcemap         Generates a sourcemap in sourcemaps v3 format'\n+\t, '    -q, --quiet     \t\t\t\t Less noisy output'\n   , '    --sourcemap-inline      Inlines sourcemap with full source text in base64 format'\n   , '    --sourcemap-root <url>  \"sourceRoot\" property of the generated sourcemap'\n   , '    --sourcemap-base <path> Base <path> from which sourcemap and all sources are relative'\n@@ -182,10 +196,12 @@\n   , '    -p, --print             Print out the compiled CSS'\n   , '    --import <file>         Import stylus <file>'\n   , '    --include-css           Include regular CSS on @import'\n+  , '\t --ext\t\t\t Specify custom file extension for compiled file, default .css'\t\n   , '    -D, --deps              Display dependencies of the compiled file'\n   , '    --disable-cache         Disable caching'\n   , '    --hoist-atrules         Move @import and @charset to the top'\n   , '    -r, --resolve-url       Resolve relative urls inside imports'\n+  , '    --resolve-url-nocheck   Like --resolve-url but without file existence check'\n   , '    -V, --version           Display the version of Stylus'\n   , '    -h, --help              Display help information'\n   , ''\n@@ -202,7 +218,7 @@\n     case '-h':\n     case '--help':\n       console.error(usage);\n-      process.exit(0);\n+      return;\n     case '-d':\n     case '--compare':\n       compare = true;\n@@ -227,6 +243,10 @@\n     case '--sourcemap':\n       sourcemap = {};\n       break;\n+\t\tcase '-q':\n+\t\tcase '--quiet':\n+\t\t\tquiet = true;\n+\t\t\tbreak;\n     case '--sourcemap-inline':\n       sourcemap = sourcemap || {};\n       sourcemap.inline = true;\n@@ -255,8 +275,7 @@\n     case '-V':\n     case '--version':\n       console.log(stylus.version);\n-      process.exit(0);\n-      break;\n+      return;\n     case '-o':\n     case '--out':\n       dest = args.shift();\n@@ -278,6 +297,10 @@\n     case '--include-css':\n       includeCSS = true;\n       break;\n+    case '--ext':\n+      ext = args.shift();\n+      if (!ext) throw new Error('--ext <ext> required');\n",
					"match": false,
					"packageHash": "77426b82054692f086ee990f2e3db6fd4dba30037e379f71447d2549cc08253c",
					"size": 18422,
					"sourceHash": "04bd77b07b71aed9c428aaa5eb866bd045dcf0c4cec7d69dd44bc2ec4dea4a65",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,4 +1 @@\n-\n-module.exports = process.env.STYLUS_COV\n-  ? require('./lib-cov/stylus')\n-  : require('./lib/stylus');\n\\ No newline at end of file\n+module.exports = require('./lib/stylus');\n",
					"match": false,
					"packageHash": "7b5a421237efc8b28277cb4409eda936b84ba3e76c1c41a38d3e7a3458d8eab2",
					"size": 101,
					"sourceHash": "b78b2cc11ee3d8fe0bb50b1964595ef76050972698af7de450c1334954de1760",
					"status": "content"
				},
				"lib/cache/fs.js": {
					"diff": "--- published/lib/cache/fs.js\n+++ rebuilt/lib/cache/fs.js\n@@ -8,73 +8,77 @@\n   , version = require('../../package').version\n   , nodes = require('../nodes');\n \n-var FSCache = module.exports = function(options) {\n-  options = options || {};\n-  this._location = options['cache location'] || '.styl-cache';\n-  if (!fs.existsSync(this._location)) fs.mkdirSync(this._location);\n-};\n-\n-/**\n- * Set cache item with given `key` to `value`.\n- *\n- * @param {String} key\n- * @param {Object} value\n- * @api private\n- */\n-\n-FSCache.prototype.set = function(key, value) {\n-  fs.writeFileSync(join(this._location, key), JSON.stringify(value));\n-};\n-\n-/**\n- * Get cache item with given `key`.\n- *\n- * @param {String} key\n- * @return {Object}\n- * @api private\n- */\n-\n-FSCache.prototype.get = function(key) {\n-  var data = fs.readFileSync(join(this._location, key), 'utf-8');\n-  return JSON.parse(data, FSCache.fromJSON);\n-};\n+module.exports = class FSCache {\n+  constructor(options) {\n+    options = options || {};\n+    this._location = options['cache location'] || '.styl-cache';\n+    if (!fs.existsSync(this._location)) fs.mkdirSync(this._location);\n+  }\n \n-/**\n- * Check if cache has given `key`.\n- *\n- * @param {String} key\n- * @return {Boolean}\n- * @api private\n- */\n \n-FSCache.prototype.has = function(key) {\n-  return fs.existsSync(join(this._location, key));\n-};\n+  /**\n+   * Set cache item with given `key` to `value`.\n+   *\n+   * @param {String} key\n+   * @param {Object} value\n+   * @api private\n+   */\n+\n+  set(key, value) {\n+    fs.writeFileSync(join(this._location, key), JSON.stringify(value));\n+  };\n+\n+  /**\n+   * Get cache item with given `key`.\n+   *\n+   * @param {String} key\n+   * @return {Object}\n+   * @api private\n+   */\n+\n+  get(key) {\n+    var data = fs.readFileSync(join(this._location, key), 'utf-8');\n+    return JSON.parse(data, FSCache.fromJSON);\n+  };\n+\n+  /**\n+   * Check if cache has given `key`.\n+   *\n+   * @param {String} key\n+   * @return {Boolean}\n+   * @api private\n+   */\n+\n+  has(key) {\n+    return fs.existsSync(join(this._location, key));\n+  };\n+\n+  /**\n+   * Generate key for the source `str` with `options`.\n+   *\n+   * @param {String} str\n+   * @param {Object} options\n+   * @return {String}\n+   * @api private\n+   */\n+\n",
					"match": false,
					"packageHash": "f07b85c3bde9666450f865e316ef2764cf996c4972c1c2d6093160d96c1548ba",
					"size": 1641,
					"sourceHash": "4e8e12c41f8d1d49e1b8815fe2c73def19bd513fc6f00e35762a71c6799eead5",
					"status": "content"
				},
				"lib/cache/memory.js": {
					"diff": "--- published/lib/cache/memory.js\n+++ rebuilt/lib/cache/memory.js\n@@ -5,112 +5,114 @@\n var crypto = require('crypto')\n   , nodes = require('../nodes');\n \n-var MemoryCache = module.exports = function(options) {\n-  options = options || {};\n-  this.limit = options['cache limit'] || 256;\n-  this._cache = {};\n-  this.length = 0;\n-  this.head = this.tail = null;\n-};\n-\n-/**\n- * Set cache item with given `key` to `value`.\n- *\n- * @param {String} key\n- * @param {Object} value\n- * @api private\n- */\n-\n-MemoryCache.prototype.set = function(key, value) {\n-  var clone = value.clone()\n-    , item;\n-\n-  clone.filename = nodes.filename;\n-  clone.lineno = nodes.lineno;\n-  clone.column = nodes.column;\n-  item = { key: key, value: clone };\n-  this._cache[key] = item;\n-\n-  if (this.tail) {\n-    this.tail.next = item;\n-    item.prev = this.tail;\n-  } else {\n-    this.head = item;\n-  }\n-\n-  this.tail = item;\n-  if (this.length++ == this.limit) this.purge();\n-};\n-\n-/**\n- * Get cache item with given `key`.\n- *\n- * @param {String} key\n- * @return {Object}\n- * @api private\n- */\n-\n-MemoryCache.prototype.get = function(key) {\n-  var item = this._cache[key]\n-    , val = item.value.clone();\n-\n-  if (item == this.tail) return val;\n-  if (item.next) {\n-    if (item == this.head) this.head = item.next;\n-    item.next.prev = item.prev;\n+module.exports = class MemoryCache {\n+  constructor(options) {\n+    options = options || {};\n+    this.limit = options['cache limit'] || 256;\n+    this._cache = {};\n+    this.length = 0;\n+    this.head = this.tail = null;\n   }\n-  if (item.prev) item.prev.next = item.next;\n \n-  item.next = null;\n-  item.prev = this.tail;\n+  /**\n+   * Set cache item with given `key` to `value`.\n+   *\n+   * @param {String} key\n+   * @param {Object} value\n+   * @api private\n+   */\n+\n+  set(key, value) {\n+    var clone = value.clone()\n+      , item;\n+\n+    clone.filename = nodes.filename;\n+    clone.lineno = nodes.lineno;\n+    clone.column = nodes.column;\n+    item = { key: key, value: clone };\n+    this._cache[key] = item;\n+\n+    if (this.tail) {\n+      this.tail.next = item;\n+      item.prev = this.tail;\n+    } else {\n+      this.head = item;\n+    }\n+\n+    this.tail = item;\n+    if (this.length++ == this.limit) this.purge();\n+  };\n+\n",
					"match": false,
					"packageHash": "397eb8bbbb7f6f945adef0c1d7af09aef8c9437e5a9099c29c7845c152324f75",
					"size": 2189,
					"sourceHash": "5f6346d3c2e163d9741694fcdc7e65276b463b99040a68382e6369d15298169d",
					"status": "content"
				},
				"lib/cache/null.js": {
					"diff": "--- published/lib/cache/null.js\n+++ rebuilt/lib/cache/null.js\n@@ -2,49 +2,50 @@\n  * Module dependencies.\n  */\n \n-var NullCache = module.exports = function() {};\n+module.exports = class NullCache {\n \n-/**\n- * Set cache item with given `key` to `value`.\n- *\n- * @param {String} key\n- * @param {Object} value\n- * @api private\n- */\n-\n-NullCache.prototype.set = function(key, value) {};\n-\n-/**\n- * Get cache item with given `key`.\n- *\n- * @param {String} key\n- * @return {Object}\n- * @api private\n- */\n-\n-NullCache.prototype.get = function(key) {};\n-\n-/**\n- * Check if cache has given `key`.\n- *\n- * @param {String} key\n- * @return {Boolean}\n- * @api private\n- */\n-\n-NullCache.prototype.has = function(key) {\n-  return false;\n-};\n-\n-/**\n- * Generate key for the source `str` with `options`.\n- *\n- * @param {String} str\n- * @param {Object} options\n- * @return {String}\n- * @api private\n- */\n-\n-NullCache.prototype.key = function(str, options) {\n-  return '';\n-};\n+  /**\n+   * Set cache item with given `key` to `value`.\n+   *\n+   * @param {String} key\n+   * @param {Object} value\n+   * @api private\n+   */\n+\n+  set(key, value) { };\n+\n+  /**\n+   * Get cache item with given `key`.\n+   *\n+   * @param {String} key\n+   * @return {Object}\n+   * @api private\n+   */\n+\n+  get(key) { };\n+\n+  /**\n+   * Check if cache has given `key`.\n+   *\n+   * @param {String} key\n+   * @return {Boolean}\n+   * @api private\n+   */\n+\n+  has(key) {\n+    return false;\n+  };\n+\n+  /**\n+   * Generate key for the source `str` with `options`.\n+   *\n+   * @param {String} str\n+   * @param {Object} options\n+   * @return {String}\n+   * @api private\n+   */\n+\n+  key(str, options) {\n+    return '';\n+  };\n+}\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "be7366e0add5370b53c8e6805939ddc3c9ea7e6968130e449d409b120aeac299",
					"size": 796,
					"sourceHash": "24cf45a6b536e5fa4f7286abda3fd4a133669c3a1a24cfe682239033bb53e06e",
					"status": "content"
				},
				"lib/convert/css.js": {
					"diff": "--- published/lib/convert/css.js\n+++ rebuilt/lib/convert/css.js\n@@ -12,7 +12,7 @@\n  * @api public\n  */\n \n-module.exports = function(css){\n+module.exports = function (css) {\n   return new Converter(css).stylus();\n };\n \n@@ -23,285 +23,309 @@\n  * @api private\n  */\n \n-function Converter(css) {\n-  var parse = require('css-parse');\n-  this.css = css;\n-  this.root = parse(css, { position: false });\n-  this.indents = 0;\n-}\n-\n-/**\n- * Convert to Stylus.\n- *\n- * @return {String}\n- * @api private\n- */\n-\n-Converter.prototype.stylus = function(){\n-  return this.visitRules(this.root.stylesheet.rules);\n-};\n-\n-/**\n- * Return indent string.\n- *\n- * @return {String}\n- * @api private\n- */\n-\n-Converter.prototype.__defineGetter__('indent', function(){\n-  return Array(this.indents + 1).join('  ');\n-});\n-\n-/**\n- * Visit `node`.\n- *\n- * @param {*} node\n- * @return {String}\n- * @api private\n- */\n-\n-Converter.prototype.visit = function(node){\n-  switch (node.type) {\n-    case 'rule':\n-    case 'comment':\n-    case 'charset':\n-    case 'namespace':\n-    case 'media':\n-    case 'import':\n-    case 'document':\n-    case 'keyframes':\n-    case 'page':\n-    case 'host':\n-    case 'supports':\n-      var name = node.type[0].toUpperCase() + node.type.slice(1);\n-      return this['visit' + name](node);\n+class Converter {\n+  constructor(css) {\n+    var { parse } = require('@adobe/css-tools');\n+    this.css = css;\n+    this.root = parse(css, { position: false });\n+    this.indents = 0;\n   }\n-};\n-\n-/**\n- * Visit the rules on `node`.\n- *\n- * @param {Array} node\n- * @return {String}\n- * @api private\n- */\n-\n-Converter.prototype.visitRules = function(node){\n-  var buf = '';\n-  for (var i = 0, len = node.length; i < len; ++i) {\n-    buf += this.visit(node[i]);\n-  }\n-  return buf;\n-};\n-\n-/**\n- * Visit Media `node`.\n- *\n- * @param {Media} node\n- * @return {String}\n- * @api private\n- */\n-\n",
					"match": false,
					"packageHash": "0f4667add73402b844a858be2f0de0c4cc0b4f36ee4ca213c9f37187f24695e9",
					"size": 5784,
					"sourceHash": "bb303e6366a892a45e8986b501c9045a28223e163515150cbab349e06019c367",
					"status": "content"
				},
				"lib/errors.js": {
					"diff": "--- published/lib/errors.js\n+++ rebuilt/lib/errors.js\n@@ -6,53 +6,44 @@\n  */\n \n /**\n- * Expose constructors.\n- */\n-\n-exports.ParseError = ParseError;\n-exports.SyntaxError = SyntaxError;\n-\n-/**\n- * Inherit from `Error.prototype`.\n- */\n-\n-SyntaxError.prototype.__proto__ = Error.prototype;\n-\n-/**\n  * Initialize a new `ParseError` with the given `msg`.\n  *\n  * @param {String} msg\n  * @api private\n  */\n \n-function ParseError(msg) {\n-  this.name = 'ParseError';\n-  this.message = msg;\n-  Error.captureStackTrace(this, ParseError);\n+class ParseError extends Error {\n+  constructor(msg) {\n+    super();\n+    this.name = 'ParseError';\n+    this.message = msg;\n+    if (Error.captureStackTrace) {\n+      Error.captureStackTrace(this, ParseError);\n+    }\n+  }\n }\n \n /**\n- * Inherit from `Error.prototype`.\n- */\n-\n-ParseError.prototype.__proto__ = Error.prototype;\n-\n-/**\n  * Initialize a new `SyntaxError` with the given `msg`.\n  *\n  * @param {String} msg\n  * @api private\n  */\n \n-function SyntaxError(msg) {\n-  this.name = 'SyntaxError';\n-  this.message = msg;\n-  Error.captureStackTrace(this, ParseError);\n+class SyntaxError extends Error {\n+  constructor(msg) {\n+    super();\n+    this.name = 'SyntaxError';\n+    this.message = msg;\n+    if (Error.captureStackTrace) {\n+      Error.captureStackTrace(this, ParseError);\n+    }\n+  }\n }\n \n /**\n- * Inherit from `Error.prototype`.\n+ * Expose constructors.\n  */\n \n-SyntaxError.prototype.__proto__ = Error.prototype;\n-\n+exports.ParseError = ParseError;\n+exports.SyntaxError = SyntaxError;\n",
					"match": false,
					"packageHash": "f9da7c7a61078351f47808a01729447ac0af13f20f5e07d87c619e32305884bf",
					"size": 953,
					"sourceHash": "d8ded4ee5e7e11b150c2f0cc2c9b71cbbbe4ba96d403cccf636b62c8aecaba8a",
					"status": "content"
				},
				"lib/functions/image.js": {
					"diff": "--- published/lib/functions/image.js\n+++ rebuilt/lib/functions/image.js\n@@ -11,152 +11,155 @@\n  */\n \n var utils = require('../utils')\n-  , nodes = require('../nodes')\n+  , Buffer = require('buffer').Buffer\n   , fs = require('fs')\n   , path = require('path')\n   , sax = require('sax');\n \n-/**\n- * Initialize a new `Image` with the given `ctx` and `path.\n- *\n- * @param {Evaluator} ctx\n- * @param {String} path\n- * @api private\n- */\n-\n-var Image = module.exports = function Image(ctx, path) {\n-  this.ctx = ctx;\n-  this.path = utils.lookup(path, ctx.paths);\n-  if (!this.path) throw new Error('failed to locate file ' + path);\n-};\n-\n-/**\n- * Open the image for reading.\n- *\n- * @api private\n- */\n-\n-Image.prototype.open = function(){\n-  this.fd = fs.openSync(this.path, 'r');\n-  this.length = fs.fstatSync(this.fd).size;\n-  this.extname = path.extname(this.path).slice(1);\n-};\n-\n-/**\n- * Close the file.\n- *\n- * @api private\n- */\n-\n-Image.prototype.close = function(){\n-  if (this.fd) fs.closeSync(this.fd);\n-};\n-\n-/**\n- * Return the type of image, supports:\n- *\n- *  - gif\n- *  - png\n- *  - jpeg\n- *  - svg\n- *\n- * @return {String}\n- * @api private\n- */\n-\n-Image.prototype.type = function(){\n-  var type\n-    , buf = new Buffer(4);\n-  \n-  fs.readSync(this.fd, buf, 0, 4, 0);\n-\n-  // GIF\n-  if (0x47 == buf[0] && 0x49 == buf[1] && 0x46 == buf[2]) type = 'gif';\n-\n-  // PNG\n-  else if (0x50 == buf[1] && 0x4E == buf[2] && 0x47 == buf[3]) type = 'png';\n-\n-  // JPEG\n-  else if (0xff == buf[0] && 0xd8 == buf[1]) type = 'jpeg';\n-\n-  // SVG\n-  else if ('svg' == this.extname) type = this.extname;\n-\n-  return type;\n-};\n+module.exports = class Image {\n+  /**\n+   * Initialize a new `Image` with the given `ctx` and `path.\n+   *\n+   * @param {Evaluator} ctx\n+   * @param {String} path\n+   * @api private\n+   */\n+\n+  constructor(ctx, path) {\n+    this.ctx = ctx;\n+    this.path = utils.lookup(path, ctx.paths);\n+    if (!this.path) throw new Error('failed to locate file ' + path);\n+  }\n \n-/**\n- * Return image dimensions `[width, height]`.\n- *\n- * @return {Array}\n- * @api private\n",
					"match": false,
					"packageHash": "82ba02df3cabaf186810b543526445caa97135bc232db753a2cb0817a41d828b",
					"size": 3775,
					"sourceHash": "156d25ca27e42c29ea6f4a7eb5937cd08679c1af9444003894694c6501daa544",
					"status": "content"
				},
				"lib/functions/index.js": {
					"diff": "--- published/lib/functions/index.js\n+++ rebuilt/lib/functions/index.js\n@@ -5,1737 +5,68 @@\n  * MIT Licensed\n  */\n \n-/**\n- * Module dependencies.\n- */\n-\n-var Compiler = require('../visitor/compiler')\n-  , nodes = require('../nodes')\n-  , utils = require('../utils')\n-  , Image = require('./image')\n-  , units = require('../units')\n-  , colors = require('../colors')\n-  , path = require('path')\n-  , fs = require('fs');\n-\n-/**\n- * Color component name map.\n- */\n-\n-var componentMap = {\n-    red: 'r'\n-  , green: 'g'\n-  , blue: 'b'\n-  , alpha: 'a'\n-  , hue: 'h'\n-  , saturation: 's'\n-  , lightness: 'l'\n-};\n-\n-/**\n- * Color component unit type map.\n- */\n-\n-var unitMap = {\n-    hue: 'deg'\n-  , saturation: '%'\n-  , lightness: '%'\n-};\n-\n-/**\n- * Color type map.\n- */\n-\n-var typeMap = {\n-    red: 'rgba'\n-  , blue: 'rgba'\n-  , green: 'rgba'\n-  , alpha: 'rgba'\n-  , hue: 'hsla'\n-  , saturation: 'hsla'\n-  , lightness: 'hsla'\n-};\n-\n-/**\n- * Convert the given `color` to an `HSLA` node,\n- * or h,s,l,a component values.\n- *\n- * Examples:\n- *\n- *    hsla(10deg, 50%, 30%, 0.5)\n- *    // => HSLA\n- *\n- *    hsla(#ffcc00)\n- *    // => HSLA\n- *\n- * @param {RGBA|HSLA|Unit} hue\n- * @param {Unit} saturation\n- * @param {Unit} lightness\n- * @param {Unit} alpha\n- * @return {HSLA}\n- * @api public\n- */\n-\n-exports.hsla = function hsla(hue, saturation, lightness, alpha){\n-  switch (arguments.length) {\n-    case 1:\n-      utils.assertColor(hue);\n-      return hue.hsla;\n-    case 2:\n-      utils.assertColor(hue);\n-      var color = hue.hsla;\n-      utils.assertType(saturation, 'unit', 'alpha');\n-      var alpha = saturation.clone();\n-      if ('%' == alpha.type) alpha.val /= 100;\n-      return new nodes.HSLA(\n-          color.h\n-        , color.s\n-        , color.l\n-        , alpha.val);\n-    default:\n-      utils.assertType(hue, 'unit', 'hue');\n-      utils.assertType(saturation, 'unit', 'saturation');\n-      utils.assertType(lightness, 'unit', 'lightness');\n-      utils.assertType(alpha, 'unit', 'alpha');\n-      var alpha = alpha.clone();\n-      if (alpha && '%' == alpha.type) alpha.val /= 100;\n",
					"match": false,
					"packageHash": "8cd99a4d98b5f5e752cd175c2fe1574b23cbd67b27a80dec8f4866b556e0c70d",
					"size": 38446,
					"sourceHash": "1d8cea02adf60293354c3a74b38bed916f18771fbeceb5dd8856304792dd20c7",
					"status": "content"
				},
				"lib/functions/index.styl": {
					"diff": "--- published/lib/functions/index.styl\n+++ rebuilt/lib/functions/index.styl\n@@ -38,14 +38,14 @@\n   angle * (180 / PI)\n \n degrees-to-radians(angle)\n-  unit(angle * (PI / 180),'')\n+  angle * (PI / 180)\n \n sin(n)\n-  n = degrees-to-radians(n) if unit(n) == 'deg'\n+  n = unit(n) == 'deg' ? degrees-to-radians(unit(n, '')) : unit(n, '')\n   round(math(n, 'sin'), 9)\n \n cos(n)\n-  n = degrees-to-radians(n) if unit(n) == 'deg'\n+  n = unit(n) == 'deg' ? degrees-to-radians(unit(n, '')) : unit(n, '')\n   round(math(n, 'cos'), 9)\n \n // Rounding Math functions\n@@ -284,3 +284,14 @@\n     /$cache_placeholder_for_{$id}\n       $stylus_mixin_cache[$key] = $id\n       {block}\n+\n+// Percentage function to convert a number, e.g. \".45\", into a percentage, e.g. \"45%\"\n+\n+percentage(num)\n+  return unit(num * 100, '%')\n+\n+// Returns the position of a `value` within a `list`\n+\n+index(list, value)\n+  for val, i in list\n+    return i if val == value\n",
					"match": false,
					"packageHash": "ca9788f86ae1e741e712fe3802106c5cbd7a6b73a03bf3af0389b20984380f85",
					"size": 5588,
					"sourceHash": "04c7a9d8e6f7b62a60204038e34ee889879f5190e2beaa722c5994315592acba",
					"status": "content"
				},
				"lib/functions/resolver.js": {
					"diff": "--- published/lib/functions/resolver.js\n+++ rebuilt/lib/functions/resolver.js\n@@ -8,29 +8,38 @@\n   , relative = require('path').relative\n   , join = require('path').join\n   , dirname = require('path').dirname\n-  , extname = require('path').extname;\n+  , extname = require('path').extname\n+  , sep = require('path').sep;\n \n /**\n- * Return a url() function that resolves urls.\n+ * Return a url() function which resolves urls.\n+ *\n+ * Options:\n+ *\n+ *    - `paths` resolution path(s), merged with general lookup paths\n+ *    - `nocheck` don't check file existence\n  *\n  * Examples:\n  *\n  *    stylus(str)\n  *      .set('filename', __dirname + '/css/test.styl')\n- *      .define('url', stylus.resolver())\n+ *      .define('url', stylus.resolver({ nocheck: true }))\n  *      .render(function(err, css){ ... })\n  *\n+ * @param {Object} [options]\n  * @return {Function}\n  * @api public\n  */\n \n-module.exports = function() {\n-  function url(url) {\n+module.exports = function(options) {\n+  options = options || {};\n+\n+  function resolver(url) {\n     // Compile the url\n     var compiler = new Compiler(url)\n       , filename = url.filename;\n     compiler.isURL = true;\n-    var url = parse(url.nodes.map(function(node){\n+    url = parse(url.nodes.map(function(node){\n       return compiler.visit(node);\n     }).join(''));\n \n@@ -44,21 +53,33 @@\n     // Absolute or hash\n     if (url.protocol || !path || '/' == path[0]) return literal;\n \n+    // Check that file exists\n+    if (!options.nocheck) {\n+      var _paths = options.paths || [];\n+      path = require('../utils').lookup(path, _paths.concat(this.paths));\n+      if (!path) return literal;\n+    }\n+\n+    if (this.includeCSS && extname(path) == '.css')\n+      return new nodes.Literal(url.href);\n+\n     if (url.search) tail += url.search;\n     if (url.hash) tail += url.hash;\n \n-    if (this.includeCSS && extname(path) == '.css') {\n-      return new nodes.Literal(path + tail);\n-    } else {\n-      if (dest && extname(dest) == '.css') {\n-        dest = dirname(dest);\n-      }\n+    if (dest && extname(dest) == '.css')\n+      dest = dirname(dest);\n \n-      res = relative(dest || dirname(this.filename), join(dirname(filename), path)) + tail;\n-      return new nodes.Literal('url(\"' + res + '\")');\n-    }\n+    res = relative(dest || dirname(this.filename), options.nocheck\n+      ? join(dirname(filename), path)\n+      : path) + tail;\n+\n+    if ('\\\\' == sep) res = res.replace(/\\\\/g, '/');\n+\n+    return new nodes.Literal('url(\"' + res + '\")');\n   };\n \n-  url.raw = true;\n-  return url;\n+  // Expose options to Evaluator\n+  resolver.options = options;\n+  resolver.raw = true;\n+  return resolver;\n };\n",
					"match": false,
					"packageHash": "9399b047a2cce3b9d97657217e295d61c66678fdab89befb8d75a0692bce9964",
					"size": 1577,
					"sourceHash": "ab184d3c65885ec25af39c0b876c1df16bd631019192cf2354a61756c55ac2d6",
					"status": "content"
				},
				"lib/functions/url.js": {
					"diff": "--- published/lib/functions/url.js\n+++ rebuilt/lib/functions/url.js\n@@ -35,6 +35,14 @@\n };\n \n /**\n+ * Supported encoding types\n+ */\n+var encodingTypes = {\n+  BASE_64: 'base64',\n+  UTF8: 'charset=utf-8'\n+}\n+\n+/**\n  * Return a url() function with the given `options`.\n  *\n  * Options:\n@@ -47,7 +55,7 @@\n  *    stylus(str)\n  *      .set('filename', __dirname + '/css/test.styl')\n  *      .define('url', stylus.url({ paths: [__dirname + '/public'] }))\n- *      .render(function(err, css){ ... })\n+ *      .render(function(err, css) { ... })\n  *\n  * @param {Object} options\n  * @return {Function}\n@@ -61,34 +69,42 @@\n   var sizeLimit = null != options.limit ? options.limit : 30000;\n   var mimes = options.mimes || defaultMimes;\n \n-  function fn(url){\n+  /**\n+   * @param {object} url - The path to the image you want to encode.\n+   * @param {object} enc - The encoding for the image. Defaults to base64, the \n+   * other valid option is `utf8`.\n+   */\n+  function fn(url, enc) {\n     // Compile the url\n-    var compiler = new Compiler(url);\n+    var compiler = new Compiler(url)\n+      , encoding = encodingTypes.BASE_64;\n+\n     compiler.isURL = true;\n-    url = url.nodes.map(function(node){\n+    url = url.nodes.map(function(node) {\n       return compiler.visit(node);\n     }).join('');\n \n     // Parse literal\n     url = parse(url);\n-    var ext = extname(url.pathname)\n+    var ext = extname(url.pathname || '')\n       , mime = mimes[ext]\n       , hash = url.hash || ''\n       , literal = new nodes.Literal('url(\"' + url.href + '\")')\n       , paths = _paths.concat(this.paths)\n-      , buf;\n+      , buf\n+      , result;\n \n     // Not supported\n-    if (!mime) return literal;\n+    if(!mime) return literal;\n \n     // Absolute\n-    if (url.protocol) return literal;\n+    if(url.protocol) return literal;\n \n     // Lookup\n     var found = utils.lookup(url.pathname, paths);\n \n     // Failed to lookup\n-    if (!found) {\n+    if(!found) {\n       events.emit(\n           'file not found'\n         , 'File ' + literal + ' could not be found, literal url retained!'\n@@ -101,10 +117,20 @@\n     buf = fs.readFileSync(found);\n \n     // Too large\n-    if (false !== sizeLimit && buf.length > sizeLimit) return literal;\n+    if(false !== sizeLimit && buf.length > sizeLimit) return literal;\n+\n+    if(enc && 'utf8' == enc.first.val.toLowerCase()) {\n+      encoding = encodingTypes.UTF8;\n+      result = buf.toString().replace(/\\s+/g, ' ')\n+        .replace(/[{}\\|\\\\\\^~\\[\\]`\"<>#%]/g, function(match) {\n+          return '%' + match[0].charCodeAt(0).toString(16).toUpperCase();\n+        }).trim();\n+    } else {\n+      result = buf.toString(encoding) + hash;\n+    }\n \n     // Encode\n-    return new nodes.Literal('url(\"data:' + mime + ';base64,' + buf.toString('base64') + hash + '\")');\n+    return new nodes.Literal('url(\"data:' + mime + ';' +  encoding + ',' + result + '\")');\n   };\n \n   fn.raw = true;\n",
					"match": false,
					"packageHash": "7777657b5e5eb6dee72b9ae7e859d78cea203266e25ec8e6cbdd402e1e668b91",
					"size": 2661,
					"sourceHash": "c1c1875c200344e5b409d4fff129df0e0f927af05cebdcd078ad354eb79d9df9",
					"status": "content"
				},
				"lib/lexer.js": {
					"diff": "--- published/lib/lexer.js\n+++ rebuilt/lib/lexer.js\n@@ -11,21 +11,14 @@\n \n var Token = require('./token')\n   , nodes = require('./nodes')\n-  , errors = require('./errors')\n-  , units = require('./units');\n-\n-/**\n- * Expose `Lexer`.\n- */\n-\n-exports = module.exports = Lexer;\n+  , errors = require('./errors');\n \n /**\n  * Operator aliases.\n  */\n \n var alias = {\n-    'and': '&&'\n+  'and': '&&'\n   , 'or': '||'\n   , 'is': '=='\n   , 'isnt': '!='\n@@ -33,82 +26,65 @@\n   , ':=': '?='\n };\n \n-/**\n- * Units.\n- */\n-\n-units = units.join('|');\n-\n-/**\n- * Unit RegExp.\n- */\n-\n-var unit = new RegExp('^(-)?(\\\\d+\\\\.\\\\d+|\\\\d+|\\\\.\\\\d+)(' + units + ')?[ \\\\t]*');\n-\n-/**\n- * Initialize a new `Lexer` with the given `str` and `options`.\n- *\n- * @param {String} str\n- * @param {Object} options\n- * @api private\n- */\n+exports = module.exports = class Lexer {\n+  /**\n+   * Initialize a new `Lexer` with the given `str` and `options`.\n+   *\n+   * @param {String} str\n+   * @param {Object} options\n+   * @api private\n+   */\n \n-function Lexer(str, options) {\n-  options = options || {};\n-  this.stash = [];\n-  this.indentStack = [];\n-  this.indentRe = null;\n-  this.lineno = 1;\n-  this.column = 1;\n-\n-  // HACK!\n-  function comment(str, val, offset, s) {\n-    var inComment = s.lastIndexOf('/*', offset) > s.lastIndexOf('*/', offset)\n-      , commentIdx = s.lastIndexOf('//', offset)\n-      , i = s.lastIndexOf('\\n', offset)\n-      , double = 0\n-      , single = 0;\n-\n-    if (~commentIdx && commentIdx > i) {\n-      while (i != offset) {\n-        if (\"'\" == s[i]) single ? single-- : single++;\n-        if ('\"' == s[i]) double ? double-- : double++;\n-\n-        if ('/' == s[i] && '/' == s[i + 1]) {\n-          inComment = !single && !double;\n-          break;\n+  constructor(str, options) {\n+    options = options || {};\n+    this.stash = [];\n+    this.indentStack = [];\n+    this.indentRe = null;\n+    this.lineno = 1;\n+    this.column = 1;\n+\n+    // HACK!\n+    function comment(str, val, offset, s) {\n+      var inComment = s.lastIndexOf('/*', offset) > s.lastIndexOf('*/', offset)\n+        , commentIdx = s.lastIndexOf('//', offset)\n+        , i = s.lastIndexOf('\\n', offset)\n+        , double = 0\n+        , single = 0;\n+\n+      if (~commentIdx && commentIdx > i) {\n+        while (i != offset) {\n",
					"match": false,
					"packageHash": "f3810e9419a9622be4a8e2f5e01d683dad6d0ed930badde66c0a1d72cab5ea07",
					"size": 18414,
					"sourceHash": "78c93577e2a1b0ab01666cce07d7d04602127429dcbd25c5482b4f88a15e52d3",
					"status": "content"
				},
				"lib/middleware.js": {
					"diff": "--- published/lib/middleware.js\n+++ rebuilt/lib/middleware.js\n@@ -12,10 +12,10 @@\n   , fs = require('fs')\n   , url = require('url')\n   , dirname = require('path').dirname\n-  , mkdirp = require('mkdirp')\n   , join = require('path').join\n   , sep = require('path').sep\n-  , debug = require('debug')('stylus:middleware');\n+  , debug = require('debug')('stylus:middleware')\n+  , mkdir = fs.mkdir;\n \n /**\n  * Import map.\n@@ -39,40 +39,40 @@\n  *    `compress`  Whether the output .css files should be compressed\n  *    `firebug`   Emits debug infos in the generated CSS that can\n  *                be used by the FireStylus Firebug plugin\n- *    `linenos`   Emits comments in the generated CSS indicating \n+ *    `linenos`   Emits comments in the generated CSS indicating\n  *                the corresponding Stylus line\n  *    'sourcemap' Generates a sourcemap in sourcemaps v3 format\n  *\n  * Examples:\n- * \n+ *\n  * Here we set up the custom compile function so that we may\n  * set the `compress` option, or define additional functions.\n- * \n+ *\n  * By default the compile function simply sets the `filename`\n  * and renders the CSS.\n- * \n+ *\n  *      function compile(str, path) {\n  *        return stylus(str)\n  *          .set('filename', path)\n  *          .set('compress', true);\n  *      }\n- * \n+ *\n  * Pass the middleware to Connect, grabbing .styl files from this directory\n  * and saving .css files to _./public_. Also supplying our custom `compile` function.\n- * \n+ *\n  * Following that we have a `static()` layer setup to serve the .css\n  * files generated by Stylus.\n- * \n+ *\n  *      var app = connect();\n- * \n+ *\n  *      app.middleware({\n  *          src: __dirname\n  *        , dest: __dirname + '/public'\n  *        , compile: compile\n  *      })\n- * \n+ *\n  *      app.use(connect.static(__dirname + '/public'));\n- * \n+ *\n  * @param {Object} options\n  * @return {Function}\n  * @api public\n@@ -122,7 +122,7 @@\n       if (typeof dest == 'string') {\n         // check for dest-path overlap\n         var overlap = compare(dest, path).length;\n-        if (sep == path.charAt(0)) overlap++;\n+        if ('/' == path.charAt(0)) overlap++;\n         path = path.slice(overlap);\n       }\n \n@@ -156,7 +156,7 @@\n             if (err) return next(err);\n             debug('render %s', stylusPath);\n             imports[stylusPath] = paths;\n-            mkdirp(dirname(cssPath), 0700, function(err){\n+            mkdir(dirname(cssPath), { mode: parseInt('0700', 8), recursive: true }, function(err){\n               if (err) return error(err);\n               fs.writeFile(cssPath, css, 'utf8', next);\n             });\n@@ -243,7 +243,7 @@\n \n function compare(pathA, pathB) {\n   pathA = pathA.split(sep);\n-  pathB = pathB.split(sep);\n+  pathB = pathB.split('/');\n   if (!pathA[pathA.length - 1]) pathA.pop();\n   if (!pathB[0]) pathB.shift();\n   var overlap = [];\n@@ -252,5 +252,5 @@\n     overlap.push(pathA.pop());\n     pathB.shift();\n   }\n-  return overlap.join(sep);\n+  return overlap.join('/');\n }\n",
					"match": false,
					"packageHash": "9f52b5bc97a65f952b2299d64e6ebb367a42d94e629421e21a32a8bcab8044cf",
					"size": 7082,
					"sourceHash": "183f0d8c91c4016dd55f52ae919a31b36cd3c804fc6bc41b24c817c670c8d3fd",
					"status": "content"
				},
				"lib/nodes/arguments.js": {
					"diff": "--- published/lib/nodes/arguments.js\n+++ rebuilt/lib/nodes/arguments.js\n@@ -9,83 +9,82 @@\n  * Module dependencies.\n  */\n \n-var Node = require('./node')\n-  , nodes = require('../nodes')\n-  , utils = require('../utils');\n-\n-/**\n- * Initialize a new `Arguments`.\n- *\n- * @api public\n- */\n+var nodes = require('../nodes');\n \n-var Arguments = module.exports = function Arguments(){\n-  nodes.Expression.call(this);\n-  this.map = {};\n-};\n+module.exports = class Arguments extends nodes.Expression {\n+  /**\n+   * Initialize a new `Arguments`.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.map = {};\n+  }\n \n-/**\n- * Inherit from `nodes.Expression.prototype`.\n- */\n+  /**\n+   * Initialize an `Arguments` object with the nodes\n+   * from the given `expr`.\n+   *\n+   * @param {Expression} expr\n+   * @return {Arguments}\n+   * @api public\n+   */\n+\n+  static fromExpression(expr) {\n+    var args = new Arguments\n+      , len = expr.nodes.length;\n+    args.lineno = expr.lineno;\n+    args.column = expr.column;\n+    args.isList = expr.isList;\n+    for (var i = 0; i < len; ++i) {\n+      args.push(expr.nodes[i]);\n+    }\n+    return args;\n+  };\n \n-Arguments.prototype.__proto__ = nodes.Expression.prototype;\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = super.clone(parent);\n+    clone.map = {};\n+    for (var key in this.map) {\n+      clone.map[key] = this.map[key].clone(parent, clone);\n+    }\n+    clone.isList = this.isList;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Initialize an `Arguments` object with the nodes\n- * from the given `expr`.\n- *\n- * @param {Expression} expr\n- * @return {Arguments}\n- * @api public\n- */\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Arguments',\n+      map: this.map,\n+      isList: this.isList,\n+      preserve: this.preserve,\n+      lineno: this.lineno,\n",
					"match": false,
					"packageHash": "a544185f78407c50192351bd2aa55dc51c7135fc9b85498d8abcb6467fcf103b",
					"size": 1708,
					"sourceHash": "b080ca841846ee92b9e25375acb11be3f7fbb77e135c5ab7be43765fa8b607a2",
					"status": "content"
				},
				"lib/nodes/atblock.js": {
					"diff": "--- published/lib/nodes/atblock.js\n+++ rebuilt/lib/nodes/atblock.js\n@@ -10,70 +10,66 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `@block` node.\n- *\n- * @api public\n- */\n-\n-var Atblock = module.exports = function Atblock(){\n-  Node.call(this);\n-};\n-\n-/**\n- * Return `block` nodes.\n- */\n-\n-Atblock.prototype.__defineGetter__('nodes', function(){\n-  return this.block.nodes;\n-});\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Atblock.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Atblock.prototype.clone = function(parent){\n-  var clone = new Atblock;\n-  clone.block = this.block.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Atblock extends Node {\n+  /**\n+   * Initialize a new `@block` node.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+  }\n+\n+  /**\n+   * Return `block` nodes.\n+   */\n+\n+  get nodes() {\n+    return this.block.nodes;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Atblock;\n+    clone.block = this.block.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return @block.\n- *\n- * @return {String}\n- * @api public\n- */\n+  /**\n+   * Return @block.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-Atblock.prototype.toString = function(){\n-  return '@block';\n-};\n+  toString() {\n+    return '@block';\n+  };\n \n",
					"match": false,
					"packageHash": "8b6f8108b7b0b3a14abea677ec096c0b8ce0fcaba0269dc8a784723d87c3eff8",
					"size": 1221,
					"sourceHash": "95c205adfe36ad5f8bc34c5373c84f1ee2166b83ab8f7443b370c9886eb430ed",
					"status": "content"
				},
				"lib/nodes/atrule.js": {
					"diff": "--- published/lib/nodes/atrule.js\n+++ rebuilt/lib/nodes/atrule.js\n@@ -10,118 +10,114 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new at-rule node.\n- *\n- * @param {String} type\n- * @api public\n- */\n-\n-var Atrule = module.exports = function Atrule(type){\n-  Node.call(this);\n-  this.type = type;\n-};\n+module.exports = class Atrule extends Node {\n+  /**\n+   * Initialize a new at-rule node.\n+   *\n+   * @param {String} type\n+   * @api public\n+   */\n+\n+  constructor(type) {\n+    super()\n+    this.type = type;\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Atrule.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Check if at-rule's block has only properties.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Atrule.prototype.__defineGetter__('hasOnlyProperties', function(){\n-  if (!this.block) return false;\n-\n-  var nodes = this.block.nodes;\n-  for (var i = 0, len = nodes.length; i < len; ++i) {\n-    var nodeName = nodes[i].nodeName;\n-    switch(nodes[i].nodeName) {\n-      case 'property':\n-      case 'expression':\n-      case 'comment':\n-        continue;\n-      default:\n-        return false;\n+  /**\n+   * Check if at-rule's block has only properties.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n+\n+  get hasOnlyProperties() {\n+    if (!this.block) return false;\n+\n+    var nodes = this.block.nodes;\n+    for (var i = 0, len = nodes.length; i < len; ++i) {\n+      var nodeName = nodes[i].nodeName;\n+      switch (nodes[i].nodeName) {\n+        case 'property':\n+        case 'expression':\n+        case 'comment':\n+          continue;\n+        default:\n+          return false;\n+      }\n     }\n+    return true;\n   }\n-  return true;\n-});\n \n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Atrule.prototype.clone = function(parent){\n-  var clone = new Atrule(this.type);\n-  if (this.block) clone.block = this.block.clone(parent, clone);\n-  clone.segments = this.segments.map(function(node){ return node.clone(parent, clone); });\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+  /**\n",
					"match": false,
					"packageHash": "6969b9da1e29125662579879bc44dc06ec53ae5f32a0eccedc6a4745ab56b373",
					"size": 2597,
					"sourceHash": "d7fb474f00fbe87d2eb573118eecbeb6d8865574de4af6967f3d8368c95fea29",
					"status": "content"
				},
				"lib/nodes/binop.js": {
					"diff": "--- published/lib/nodes/binop.js\n+++ rebuilt/lib/nodes/binop.js\n@@ -11,73 +11,70 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `BinOp` with `op`, `left` and `right`.\n- *\n- * @param {String} op\n- * @param {Node} left\n- * @param {Node} right\n- * @api public\n- */\n-\n-var BinOp = module.exports = function BinOp(op, left, right){\n-  Node.call(this);\n-  this.op = op;\n-  this.left = left;\n-  this.right = right;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-BinOp.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-BinOp.prototype.clone = function(parent){\n-  var clone = new BinOp(this.op);\n-  clone.left = this.left.clone(parent, clone);\n-  clone.right = this.right && this.right.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  if (this.val) clone.val = this.val.clone(parent, clone);\n-  return clone;\n-};\n+module.exports = class BinOp extends Node {\n+  /**\n+   * Initialize a new `BinOp` with `op`, `left` and `right`.\n+   *\n+   * @param {String} op\n+   * @param {Node} left\n+   * @param {Node} right\n+   * @api public\n+   */\n+\n+  constructor(op, left, right) {\n+    super();\n+    this.op = op;\n+    this.left = left;\n+    this.right = right;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new BinOp(this.op);\n+    clone.left = this.left.clone(parent, clone);\n+    clone.right = this.right && this.right.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    if (this.val) clone.val = this.val.clone(parent, clone);\n+    return clone;\n+  };\n \n-/**\n- * Return <left> <op> <right>\n- *\n- * @return {String}\n- * @api public\n- */\n-BinOp.prototype.toString = function() {\n-  return this.left.toString() + ' ' + this.op + ' ' + this.right.toString();\n-};\n+  /**\n+   * Return <left> <op> <right>\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+  toString() {\n+    return this.left.toString() + ' ' + this.op + ' ' + this.right.toString();\n+  };\n \n-/**\n",
					"match": false,
					"packageHash": "d652f6362207c40a5124cbf47889d639cca622777a0fa158005a058b231c96bc",
					"size": 1545,
					"sourceHash": "ed2e7a61aad8f197bf90006176f559f7ad2e549f35f91472b11836e94b1ad556",
					"status": "content"
				},
				"lib/nodes/block.js": {
					"diff": "--- published/lib/nodes/block.js\n+++ rebuilt/lib/nodes/block.js\n@@ -11,117 +11,114 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Block` node with `parent` Block.\n- *\n- * @param {Block} parent\n- * @api public\n- */\n-\n-var Block = module.exports = function Block(parent, node){\n-  Node.call(this);\n-  this.nodes = [];\n-  this.parent = parent;\n-  this.node = node;\n-  this.scope = true;\n-};\n+module.exports = class Block extends Node {\n+  /**\n+   * Initialize a new `Block` node with `parent` Block.\n+   *\n+   * @param {Block} parent\n+   * @api public\n+   */\n+\n+  constructor(parent, node) {\n+    super();\n+    this.nodes = [];\n+    this.parent = parent;\n+    this.node = node;\n+    this.scope = true;\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Block.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Check if this block has properties..\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Block.prototype.__defineGetter__('hasProperties', function(){\n-  for (var i = 0, len = this.nodes.length; i < len; ++i) {\n-    if ('property' == this.nodes[i].nodeName) {\n-      return true;\n+  /**\n+   * Check if this block has properties..\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n+\n+  get hasProperties() {\n+    for (var i = 0, len = this.nodes.length; i < len; ++i) {\n+      if ('property' == this.nodes[i].nodeName) {\n+        return true;\n+      }\n     }\n-  }\n-});\n+  };\n \n-/**\n- * Check if this block has @media nodes.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Block.prototype.__defineGetter__('hasMedia', function(){\n-  for (var i = 0, len = this.nodes.length; i < len; ++i) {\n-    var nodeName = this.nodes[i].nodeName;\n-    if ('media' == nodeName) {\n-      return true;\n+  /**\n+   * Check if this block has @media nodes.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n+\n+  get hasMedia() {\n+    for (var i = 0, len = this.nodes.length; i < len; ++i) {\n+      var nodeName = this.nodes[i].nodeName;\n+      if ('media' == nodeName) {\n+        return true;\n+      }\n     }\n-  }\n-  return false;\n-});\n+    return false;\n",
					"match": false,
					"packageHash": "6dcd36561478ce51dd551c11051b8b02d73674bd7aa8ca974a53721416074a14",
					"size": 2247,
					"sourceHash": "4ded76f394966f51f40d78391f9a395457b8144521a76c551bdd57d45739e091",
					"status": "content"
				},
				"lib/nodes/boolean.js": {
					"diff": "--- published/lib/nodes/boolean.js\n+++ rebuilt/lib/nodes/boolean.js\n@@ -12,106 +12,102 @@\n var Node = require('./node')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `Boolean` node with the given `val`.\n- *\n- * @param {Boolean} val\n- * @api public\n- */\n-\n-var Boolean = module.exports = function Boolean(val){\n-  Node.call(this);\n-  if (this.nodeName) {\n-    this.val = !!val;\n-  } else {\n-    return new Boolean(val);\n+module.exports = class Boolean extends Node {\n+  /**\n+   * Initialize a new `Boolean` node with the given `val`.\n+   *\n+   * @param {Boolean} val\n+   * @api public\n+   */\n+\n+  constructor(val) {\n+    super();\n+    if (this.nodeName) {\n+      this.val = !!val;\n+    } else {\n+      return new Boolean(val);\n+    }\n   }\n-};\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Boolean.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return `this` node.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n+  /**\n+   * Return `this` node.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-Boolean.prototype.toBoolean = function(){\n-  return this;\n-};\n+  toBoolean() {\n+    return this;\n+  };\n \n-/**\n- * Return `true` if this node represents `true`.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Boolean.prototype.__defineGetter__('isTrue', function(){\n-  return this.val;\n-});\n-\n-/**\n- * Return `true` if this node represents `false`.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Boolean.prototype.__defineGetter__('isFalse', function(){\n-  return ! this.val;\n-});\n-\n-/**\n- * Negate the value.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n+  /**\n+   * Return `true` if this node represents `true`.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-Boolean.prototype.negate = function(){\n-  return new Boolean(!this.val);\n",
					"match": false,
					"packageHash": "d396b51c84786da556a39db4d52d7885c2e87fbbf6f86a894197f547e6488a3a",
					"size": 1701,
					"sourceHash": "0601f6eda796551a07c2fa432a0f7a706cc3f12e3cd5e3278b096c39196c42c6",
					"status": "content"
				},
				"lib/nodes/call.js": {
					"diff": "--- published/lib/nodes/call.js\n+++ rebuilt/lib/nodes/call.js\n@@ -11,75 +11,71 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Call` with `name` and `args`.\n- *\n- * @param {String} name\n- * @param {Expression} args\n- * @api public\n- */\n-\n-var Call = module.exports = function Call(name, args){\n-  Node.call(this);\n-  this.name = name;\n-  this.args = args;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Call.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Call.prototype.clone = function(parent){\n-  var clone = new Call(this.name);\n-  clone.args = this.args.clone(parent, clone);\n-  if (this.block) clone.block = this.block.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Call extends Node {\n+  /**\n+   * Initialize a new `Call` with `name` and `args`.\n+   *\n+   * @param {String} name\n+   * @param {Expression} args\n+   * @api public\n+   */\n+\n+  constructor(name, args) {\n+    super();\n+    this.name = name;\n+    this.args = args;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Call(this.name);\n+    clone.args = this.args.clone(parent, clone);\n+    if (this.block) clone.block = this.block.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return <name>(param1, param2, ...).\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Call.prototype.toString = function(){\n-  var args = this.args.nodes.map(function(node) {\n-    var str = node.toString();\n-    return str.slice(1, str.length - 1);\n-  }).join(', ');\n+  /**\n+   * Return <name>(param1, param2, ...).\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    var args = this.args.nodes.map(function (node) {\n+      var str = node.toString();\n+      return str.slice(1, str.length - 1);\n+    }).join(', ');\n \n-  return this.name + '(' + args + ')';\n",
					"match": false,
					"packageHash": "eaff75e5d1280cc00e780378a23f63455b70ec9995aed1b420130c375aa533a1",
					"size": 1533,
					"sourceHash": "abad7a0bb292dd5ca468409cfd590ecb1668abc5c9bff028ba5a651d8977f60d",
					"status": "content"
				},
				"lib/nodes/charset.js": {
					"diff": "--- published/lib/nodes/charset.js\n+++ rebuilt/lib/nodes/charset.js\n@@ -11,48 +11,45 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Charset` with the given `val`\n- *\n- * @param {String} val\n- * @api public\n- */\n-\n-var Charset = module.exports = function Charset(val){\n-  Node.call(this);\n-  this.val = val;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Charset.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return @charset \"val\".\n- *\n- * @return {String}\n- * @api public\n- */\n+module.exports = class Charset extends Node {\n+  /**\n+   * Initialize a new `Charset` with the given `val`\n+   *\n+   * @param {String} val\n+   * @api public\n+   */\n+\n+  constructor(val) {\n+    super();\n+    this.val = val;\n+  }\n+\n+  /**\n+   * Return @charset \"val\".\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-Charset.prototype.toString = function(){\n-  return '@charset ' + this.val;\n-};\n+  toString() {\n+    return '@charset ' + this.val;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Charset.prototype.toJSON = function(){\n-  return {\n-    __type: 'Charset',\n-    val: this.val,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Charset',\n+      val: this.val,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n+    };\n   };\n+\n };\n",
					"match": false,
					"packageHash": "dd5d42d2a4e072d776234667dc9a6b07d8f862e376ad8310edd6ad1087d93bb6",
					"size": 872,
					"sourceHash": "aadbb240a3488d9465ba23a8795198e899f6dad58c28271933be37eae19c114b",
					"status": "content"
				},
				"lib/nodes/comment.js": {
					"diff": "--- published/lib/nodes/comment.js\n+++ rebuilt/lib/nodes/comment.js\n@@ -11,54 +11,51 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Comment` with the given `str`.\n- *\n- * @param {String} str\n- * @param {Boolean} suppress\n- * @param {Boolean} inline\n- * @api public\n- */\n-\n-var Comment = module.exports = function Comment(str, suppress, inline){\n-  Node.call(this);\n-  this.str = str;\n-  this.suppress = suppress;\n-  this.inline = inline;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Comment.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Comment.prototype.toJSON = function(){\n-  return {\n-    __type: 'Comment',\n-    str: this.str,\n-    suppress: this.suppress,\n-    inline: this.inline,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+module.exports = class Comment extends Node {\n+  /**\n+   * Initialize a new `Comment` with the given `str`.\n+   *\n+   * @param {String} str\n+   * @param {Boolean} suppress\n+   * @param {Boolean} inline\n+   * @api public\n+   */\n+\n+  constructor(str, suppress, inline) {\n+    super();\n+    this.str = str;\n+    this.suppress = suppress;\n+    this.inline = inline;\n+  }\n+\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Comment',\n+      str: this.str,\n+      suppress: this.suppress,\n+      inline: this.inline,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n+    };\n   };\n-};\n \n-/**\n- * Return comment.\n- *\n- * @return {String}\n- * @api public\n- */\n+  /**\n+   * Return comment.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    return this.str;\n+  };\n \n-Comment.prototype.toString = function(){\n-  return this.str;\n",
					"match": false,
					"packageHash": "f0f3fd2c3d8ee57e2e4f8f05091577ce95235f39085c96db043dceca7d326398",
					"size": 1032,
					"sourceHash": "94e9138f853242a0e6a4bf696c1d5dd5ef1e2b1fa5ce104d844a5fe0a6ba978d",
					"status": "content"
				},
				"lib/nodes/each.js": {
					"diff": "--- published/lib/nodes/each.js\n+++ rebuilt/lib/nodes/each.js\n@@ -12,64 +12,61 @@\n var Node = require('./node')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `Each` node with the given `val` name,\n- * `key` name, `expr`, and `block`.\n- *\n- * @param {String} val\n- * @param {String} key\n- * @param {Expression} expr\n- * @param {Block} block\n- * @api public\n- */\n-\n-var Each = module.exports = function Each(val, key, expr, block){\n-  Node.call(this);\n-  this.val = val;\n-  this.key = key;\n-  this.expr = expr;\n-  this.block = block;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Each.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Each.prototype.clone = function(parent){\n-  var clone = new Each(this.val, this.key);\n-  clone.expr = this.expr.clone(parent, clone);\n-  clone.block = this.block.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n-\n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Each.prototype.toJSON = function(){\n-  return {\n-    __type: 'Each',\n-    val: this.val,\n-    key: this.key,\n-    expr: this.expr,\n-    block: this.block,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+module.exports = class Each extends Node {\n+  /**\n+   * Initialize a new `Each` node with the given `val` name,\n+   * `key` name, `expr`, and `block`.\n+   *\n+   * @param {String} val\n+   * @param {String} key\n+   * @param {Expression} expr\n+   * @param {Block} block\n+   * @api public\n+   */\n+\n+  constructor(val, key, expr, block) {\n+    super();\n+    this.val = val;\n+    this.key = key;\n+    this.expr = expr;\n+    this.block = block;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Each(this.val, this.key);\n+    clone.expr = this.expr.clone(parent, clone);\n+    clone.block = this.block.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n",
					"match": false,
					"packageHash": "3ecb49309f6be6501c7f5a1c0bb35c3b58992b0c2946cd7968ab6bbcbd4fb4a7",
					"size": 1362,
					"sourceHash": "b2a46483a24d7f1f89ce078118962f05407c9055486d233781d116acb0e69c77",
					"status": "content"
				},
				"lib/nodes/expression.js": {
					"diff": "--- published/lib/nodes/expression.js\n+++ rebuilt/lib/nodes/expression.js\n@@ -13,208 +13,204 @@\n   , nodes = require('../nodes')\n   , utils = require('../utils');\n \n-/**\n- * Initialize a new `Expression`.\n- *\n- * @param {Boolean} isList\n- * @api public\n- */\n-\n-var Expression = module.exports = function Expression(isList){\n-  Node.call(this);\n-  this.nodes = [];\n-  this.isList = isList;\n-};\n+module.exports = class Expression extends Node {\n+  /**\n+   * Initialize a new `Expression`.\n+   *\n+   * @param {Boolean} isList\n+   * @api public\n+   */\n+\n+  constructor(isList) {\n+    super();\n+    this.nodes = [];\n+    this.isList = isList;\n+  }\n \n-/**\n- * Check if the variable has a value.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Expression.prototype.__defineGetter__('isEmpty', function(){\n-  return !this.nodes.length;\n-});\n-\n-/**\n- * Return the first node in this expression.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Expression.prototype.__defineGetter__('first', function(){\n-  return this.nodes[0]\n-    ? this.nodes[0].first\n-    : nodes.null;\n-});\n-\n-/**\n- * Hash all the nodes in order.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Expression.prototype.__defineGetter__('hash', function(){\n-  return this.nodes.map(function(node){\n-    return node.hash;\n-  }).join('::');\n-});\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Expression.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Expression.prototype.clone = function(parent){\n-  var clone = new this.constructor(this.isList);\n-  clone.preserve = this.preserve;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  clone.nodes = this.nodes.map(function(node) {\n-    return node.clone(parent, clone);\n-  });\n-  return clone;\n-};\n+  /**\n+   * Check if the variable has a value.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n",
					"match": false,
					"packageHash": "e3ecd79fc83a4d51b98e60d595eb54a3b93c86dab8babebd766c9d9a870b7065",
					"size": 4668,
					"sourceHash": "3fc0a63d3c400aa1bf99a3d9fab8d5af3f403a94899a1434399e43ec5d7e5b48",
					"status": "content"
				},
				"lib/nodes/extend.js": {
					"diff": "--- published/lib/nodes/extend.js\n+++ rebuilt/lib/nodes/extend.js\n@@ -11,59 +11,56 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Extend` with the given `selectors` array.\n- *\n- * @param {Array} selectors array of the selectors\n- * @api public\n- */\n-\n-var Extend = module.exports = function Extend(selectors){\n-  Node.call(this);\n-  this.selectors = selectors;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Extend.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Extend.prototype.clone = function(){\n-  return new Extend(this.selectors);\n-};\n-\n-/**\n- * Return `@extend selectors`.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Extend.prototype.toString = function(){\n-  return '@extend ' + this.selectors.join(', ');\n-};\n-\n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Extend.prototype.toJSON = function(){\n-  return {\n-    __type: 'Extend',\n-    selectors: this.selectors,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+module.exports = class Extend extends Node {\n+  /**\n+   * Initialize a new `Extend` with the given `selectors` array.\n+   *\n+   * @param {Array} selectors array of the selectors\n+   * @api public\n+   */\n+\n+  constructor(selectors) {\n+    super();\n+    this.selectors = selectors;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone() {\n+    return new Extend(this.selectors);\n+  };\n+\n+  /**\n+   * Return `@extend selectors`.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    return '@extend ' + this.selectors.join(', ');\n   };\n-};\n+\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n",
					"match": false,
					"packageHash": "939d7c4d587b1ef0a8c8c7f15e53a22fa6341a44ce05033c26a4186b8ae7f8f8",
					"size": 1112,
					"sourceHash": "42221ba3ffe000ad74b949ead0052cb7e30635430a0a41166e25ae7204288f87",
					"status": "content"
				},
				"lib/nodes/feature.js": {
					"diff": "--- published/lib/nodes/feature.js\n+++ rebuilt/lib/nodes/feature.js\n@@ -11,74 +11,70 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Feature` with the given `segs`.\n- *\n- * @param {Array} segs\n- * @api public\n- */\n-\n-var Feature = module.exports = function Feature(segs){\n-  Node.call(this);\n-  this.segments = segs;\n-  this.expr = null;\n-};\n+module.exports = class Feature extends Node {\n+  /**\n+   * Initialize a new `Feature` with the given `segs`.\n+   *\n+   * @param {Array} segs\n+   * @api public\n+   */\n+\n+  constructor(segs) {\n+    super();\n+    this.segments = segs;\n+    this.expr = null;\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Feature.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Feature.prototype.clone = function(parent){\n-  var clone = new Feature;\n-  clone.segments = this.segments.map(function(node){ return node.clone(parent, clone); });\n-  if (this.expr) clone.expr = this.expr.clone(parent, clone);\n-  if (this.name) clone.name = this.name;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Feature;\n+    clone.segments = this.segments.map(function (node) { return node.clone(parent, clone); });\n+    if (this.expr) clone.expr = this.expr.clone(parent, clone);\n+    if (this.name) clone.name = this.name;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return \"<ident>\" or \"(<ident>: <expr>)\"\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Feature.prototype.toString = function(){\n-  if (this.expr) {\n-    return '(' + this.segments.join('') + ': ' + this.expr.toString() + ')';\n-  } else {\n-    return this.segments.join('');\n-  }\n-};\n+  /**\n+   * Return \"<ident>\" or \"(<ident>: <expr>)\"\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    if (this.expr) {\n+      return '(' + this.segments.join('') + ': ' + this.expr.toString() + ')';\n+    } else {\n+      return this.segments.join('');\n+    }\n",
					"match": false,
					"packageHash": "803222a491837a95614d1748fe9d12bc80596cb86fa29f874398699af48a7a23",
					"size": 1597,
					"sourceHash": "35eea4ff7c6cdc744ee57e45eee69a8a460449bfce0739eee2cae108fe8f8b57",
					"status": "content"
				},
				"lib/nodes/function.js": {
					"diff": "--- published/lib/nodes/function.js\n+++ rebuilt/lib/nodes/function.js\n@@ -11,118 +11,115 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Function` with `name`, `params`, and `body`.\n- *\n- * @param {String} name\n- * @param {Params|Function} params\n- * @param {Block} body\n- * @api public\n- */\n-\n-var Function = module.exports = function Function(name, params, body){\n-  Node.call(this);\n-  this.name = name;\n-  this.params = params;\n-  this.block = body;\n-  if ('function' == typeof params) this.fn = params;\n-};\n+module.exports = class Function extends Node {\n+  /**\n+   * Initialize a new `Function` with `name`, `params`, and `body`.\n+   *\n+   * @param {String} name\n+   * @param {Params|Function} params\n+   * @param {Block} body\n+   * @api public\n+   */\n+\n+  constructor(name, params, body) {\n+    super();\n+    this.name = name;\n+    this.params = params;\n+    this.block = body;\n+    if ('function' == typeof params) this.fn = params;\n+  }\n+\n+  /**\n+   * Check function arity.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n+\n+  get arity() {\n+    return this.params.length;\n+  };\n+\n+  /**\n+   * Return hash.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  get hash() {\n+    return 'function ' + this.name;\n+  };\n \n-/**\n- * Check function arity.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Function.prototype.__defineGetter__('arity', function(){\n-  return this.params.length;\n-});\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Function.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return hash.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Function.prototype.__defineGetter__('hash', function(){\n-  return 'function ' + this.name;\n-});\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Function.prototype.clone = function(parent){\n-  if (this.fn) {\n-    var clone = new Function(\n",
					"match": false,
					"packageHash": "96f042ae3bc804931d83555c08ff6e069a8339b7ce52af8b4f15a3ab75940889",
					"size": 2254,
					"sourceHash": "eaf689c4955c8a3da0a44d799278afa53670ff0344549efab1d160be12ec5c25",
					"status": "content"
				},
				"lib/nodes/group.js": {
					"diff": "--- published/lib/nodes/group.js\n+++ rebuilt/lib/nodes/group.js\n@@ -11,100 +11,96 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Group`.\n- *\n- * @api public\n- */\n-\n-var Group = module.exports = function Group(){\n-  Node.call(this);\n-  this.nodes = [];\n-  this.extends = [];\n-};\n+module.exports = class Group extends Node {\n+  /**\n+   * Initialize a new `Group`.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.nodes = [];\n+    this.extends = [];\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Group.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Push the given `selector` node.\n- *\n- * @param {Selector} selector\n- * @api public\n- */\n+  /**\n+   * Push the given `selector` node.\n+   *\n+   * @param {Selector} selector\n+   * @api public\n+   */\n \n-Group.prototype.push = function(selector){\n-  this.nodes.push(selector);\n-};\n+  push(selector) {\n+    this.nodes.push(selector);\n+  };\n \n-/**\n- * Return this set's `Block`.\n- */\n-\n-Group.prototype.__defineGetter__('block', function(){\n-  return this.nodes[0].block;\n-});\n-\n-/**\n- * Assign `block` to each selector in this set.\n- *\n- * @param {Block} block\n- * @api public\n- */\n-\n-Group.prototype.__defineSetter__('block', function(block){\n-  for (var i = 0, len = this.nodes.length; i < len; ++i) {\n-    this.nodes[i].block = block;\n-  }\n-});\n+  /**\n+   * Return this set's `Block`.\n+   */\n \n-/**\n- * Check if this set has only placeholders.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Group.prototype.__defineGetter__('hasOnlyPlaceholders', function(){\n-  return this.nodes.every(function(selector) { return selector.isPlaceholder; });\n-});\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Group.prototype.clone = function(parent){\n-  var clone = new Group;\n",
					"match": false,
					"packageHash": "e1577f4ac3baefa15bf8519e82c422a8786fd9cc605666c9b75658a44d7c2bb5",
					"size": 1906,
					"sourceHash": "f05fc0befdc6bd6fea08f367304be7ba45b94499edc249ce0294e0fb210bbcd4",
					"status": "content"
				},
				"lib/nodes/hsla.js": {
					"diff": "--- published/lib/nodes/hsla.js\n+++ rebuilt/lib/nodes/hsla.js\n@@ -22,221 +22,219 @@\n  * @api public\n  */\n \n-var HSLA = exports = module.exports = function HSLA(h,s,l,a){\n-  Node.call(this);\n-  this.h = clampDegrees(h);\n-  this.s = clampPercentage(s);\n-  this.l = clampPercentage(l);\n-  this.a = clampAlpha(a);\n-  this.hsla = this;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-HSLA.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return hsla(n,n,n,n).\n- *\n- * @return {String}\n- * @api public\n- */\n+exports = module.exports = class HSLA extends Node {\n+  constructor(h, s, l, a) {\n+    super();\n+    this.h = clampDegrees(h);\n+    this.s = clampPercentage(s);\n+    this.l = clampPercentage(l);\n+    this.a = clampAlpha(a);\n+    this.hsla = this;\n+  }\n \n-HSLA.prototype.toString = function(){\n-  return 'hsla('\n-    + this.h + ','\n-    + this.s.toFixed(0) + '%,'\n-    + this.l.toFixed(0) + '%,'\n-    + this.a + ')';\n-};\n+  /**\n+   * Return hsla(n,n,n,n).\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    return 'hsla('\n+      + this.h + ','\n+      + this.s.toFixed(0) + '%,'\n+      + this.l.toFixed(0) + '%,'\n+      + this.a + ')';\n+  };\n \n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n \n-HSLA.prototype.clone = function(parent){\n-  var clone = new HSLA(\n+  clone(parent) {\n+    var clone = new HSLA(\n       this.h\n-    , this.s\n-    , this.l\n-    , this.a);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n-\n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n+      , this.s\n+      , this.l\n+      , this.a);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n",
					"match": false,
					"packageHash": "28e87ed8edade2247d191a5534e7292e9c509c812e4e1ae45ee749fc4d6ab8bd",
					"size": 4541,
					"sourceHash": "1702394d3348a134a6109837cca955302b50e34bd837bbfe2ad2e4b4b841d066",
					"status": "content"
				},
				"lib/nodes/ident.js": {
					"diff": "--- published/lib/nodes/ident.js\n+++ rebuilt/lib/nodes/ident.js\n@@ -12,145 +12,141 @@\n var Node = require('./node')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `Ident` by `name` with the given `val` node.\n- *\n- * @param {String} name\n- * @param {Node} val\n- * @api public\n- */\n-\n-var Ident = module.exports = function Ident(name, val, mixin){\n-  Node.call(this);\n-  this.name = name;\n-  this.string = name;\n-  this.val = val || nodes.null;\n-  this.mixin = !!mixin;\n-};\n+module.exports = class Ident extends Node {\n+  /**\n+   * Initialize a new `Ident` by `name` with the given `val` node.\n+   *\n+   * @param {String} name\n+   * @param {Node} val\n+   * @api public\n+   */\n+\n+  constructor(name, val, mixin) {\n+    super();\n+    this.name = name;\n+    this.string = name;\n+    this.val = val || nodes.null;\n+    this.mixin = !!mixin;\n+  }\n \n-/**\n- * Check if the variable has a value.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Ident.prototype.__defineGetter__('isEmpty', function(){\n-  return undefined == this.val;\n-});\n-\n-/**\n- * Return hash.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Ident.prototype.__defineGetter__('hash', function(){\n-  return this.name;\n-});\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Ident.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Ident.prototype.clone = function(parent){\n-  var clone = new Ident(this.name);\n-  clone.val = this.val.clone(parent, clone);\n-  clone.mixin = this.mixin;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  clone.property = this.property;\n-  clone.rest = this.rest;\n-  return clone;\n-};\n+  /**\n+   * Check if the variable has a value.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Ident.prototype.toJSON = function(){\n-  return {\n",
					"match": false,
					"packageHash": "1f4fb43e7a12021f252db568c09af74a7270af3609f4c660555b3d83218410bb",
					"size": 2800,
					"sourceHash": "7dc6932f6aa4d1981a631c0ef14a943ef55b595985e5b2b8873dae29114453ef",
					"status": "content"
				},
				"lib/nodes/if.js": {
					"diff": "--- published/lib/nodes/if.js\n+++ rebuilt/lib/nodes/if.js\n@@ -11,68 +11,64 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `If` with the given `cond`.\n- *\n- * @param {Expression} cond\n- * @param {Boolean|Block} negate, block\n- * @api public\n- */\n-\n-var If = module.exports = function If(cond, negate){\n-  Node.call(this);\n-  this.cond = cond;\n-  this.elses = [];\n-  if (negate && negate.nodeName) {\n-    this.block = negate;\n-  } else {\n-    this.negate = negate;\n+module.exports = class If extends Node {\n+  /**\n+   * Initialize a new `If` with the given `cond`.\n+   *\n+   * @param {Expression} cond\n+   * @param {Boolean|Block} negate, block\n+   * @api public\n+   */\n+\n+  constructor(cond, negate) {\n+    super();\n+    this.cond = cond;\n+    this.elses = [];\n+    if (negate && negate.nodeName) {\n+      this.block = negate;\n+    } else {\n+      this.negate = negate;\n+    }\n   }\n-};\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-If.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-If.prototype.clone = function(parent){\n-  var clone = new If();\n-  clone.cond = this.cond.clone(parent, clone);\n-  clone.block = this.block.clone(parent, clone);\n-  clone.elses = this.elses.map(function(node){ return node.clone(parent, clone); });\n-  clone.negate = this.negate;\n-  clone.postfix = this.postfix;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new If();\n+    clone.cond = this.cond.clone(parent, clone);\n+    clone.block = this.block.clone(parent, clone);\n+    clone.elses = this.elses.map(function (node) { return node.clone(parent, clone); });\n+    clone.negate = this.negate;\n+    clone.postfix = this.postfix;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-If.prototype.toJSON = function(){\n-  return {\n-    __type: 'If',\n-    cond: this.cond,\n-    block: this.block,\n",
					"match": false,
					"packageHash": "072d6879de773d480e1e8e983a35ac419dabb957550691ecaf9339124938b7fc",
					"size": 1462,
					"sourceHash": "1c4f17ca4a09f15750e5fd6093140c8cb699139d415196335a716335039eced8",
					"status": "content"
				},
				"lib/nodes/import.js": {
					"diff": "--- published/lib/nodes/import.js\n+++ rebuilt/lib/nodes/import.js\n@@ -11,58 +11,55 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Import` with the given `expr`.\n- *\n- * @param {Expression} expr\n- * @api public\n- */\n-\n-var Import = module.exports = function Import(expr, once){\n-  Node.call(this);\n-  this.path = expr;\n-  this.once = once || false;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Import.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Import.prototype.clone = function(parent){\n-  var clone = new Import();\n-  clone.path = this.path.nodeName ? this.path.clone(parent, clone) : this.path;\n-  clone.once = this.once;\n-  clone.mtime = this.mtime;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Import extends Node {\n+  /**\n+   * Initialize a new `Import` with the given `expr`.\n+   *\n+   * @param {Expression} expr\n+   * @api public\n+   */\n+\n+  constructor(expr, once) {\n+    super();\n+    this.path = expr;\n+    this.once = once || false;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Import();\n+    clone.path = this.path.nodeName ? this.path.clone(parent, clone) : this.path;\n+    clone.once = this.once;\n+    clone.mtime = this.mtime;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Import.prototype.toJSON = function(){\n-  return {\n-    __type: 'Import',\n-    path: this.path,\n-    once: this.once,\n-    mtime: this.mtime,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Import',\n",
					"match": false,
					"packageHash": "2927c33f04f3d05e06a490d5d4ea3400a5ce37a2f5e1c06269a22ff87101c927",
					"size": 1201,
					"sourceHash": "14247aa794c93b5758512ae5aad360109c5e9fe55b9388b22a00db8bdfa687ac",
					"status": "content"
				},
				"lib/nodes/index.js": {
					"diff": "--- published/lib/nodes/index.js\n+++ rebuilt/lib/nodes/index.js\n@@ -5,6 +5,10 @@\n  * MIT Licensed\n  */\n \n+exports.lineno = null;\n+exports.column = null;\n+exports.filename = null;\n+\n /**\n  * Constructors\n  */\n",
					"match": false,
					"packageHash": "462de5c79dc73b3c30197b9cd4dbf26dcb820fa09dbdbd6052f007e0b3056a51",
					"size": 1800,
					"sourceHash": "c12330cbbe0dab296d847873725e643878ba1bdfb5afbd2ee536fd564f49ecaa",
					"status": "content"
				},
				"lib/nodes/keyframes.js": {
					"diff": "--- published/lib/nodes/keyframes.js\n+++ rebuilt/lib/nodes/keyframes.js\n@@ -11,71 +11,68 @@\n \n var Atrule = require('./atrule');\n \n-/**\n- * Initialize a new `Keyframes` with the given `segs`,\n- * and optional vendor `prefix`.\n- *\n- * @param {Array} segs\n- * @param {String} prefix\n- * @api public\n- */\n-\n-var Keyframes = module.exports = function Keyframes(segs, prefix){\n-  Atrule.call(this, 'keyframes');\n-  this.segments = segs;\n-  this.prefix = prefix || 'official';\n-};\n-\n-/**\n- * Inherit from `Atrule.prototype`.\n- */\n-\n-Keyframes.prototype.__proto__ = Atrule.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Keyframes.prototype.clone = function(parent){\n-  var clone = new Keyframes;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  clone.segments = this.segments.map(function(node) { return node.clone(parent, clone); });\n-  clone.prefix = this.prefix;\n-  clone.block = this.block.clone(parent, clone);\n-  return clone;\n-};\n-\n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Keyframes.prototype.toJSON = function(){\n-  return {\n-    __type: 'Keyframes',\n-    segments: this.segments,\n-    prefix: this.prefix,\n-    block: this.block,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+module.exports = class Keyframes extends Atrule {\n+  /**\n+   * Initialize a new `Keyframes` with the given `segs`,\n+   * and optional vendor `prefix`.\n+   *\n+   * @param {Array} segs\n+   * @param {String} prefix\n+   * @api public\n+   */\n+\n+  constructor(segs, prefix) {\n+    super('keyframes')\n+    this.segments = segs;\n+    this.prefix = prefix || 'official';\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Keyframes;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    clone.segments = this.segments.map(function (node) { return node.clone(parent, clone); });\n+    clone.prefix = this.prefix;\n+    clone.block = this.block.clone(parent, clone);\n+    return clone;\n   };\n-};\n \n-/**\n- * Return `@keyframes name`.\n- *\n- * @return {String}\n",
					"match": false,
					"packageHash": "49852853b39ef771a17a498d780455419f85cf2ce6b59283dbe7106043f4d8a5",
					"size": 1540,
					"sourceHash": "7f6c7d9d9c2a9802bf42b960862ae1c29f3bbdece00ab54f5206662585660933",
					"status": "content"
				},
				"lib/nodes/literal.js": {
					"diff": "--- published/lib/nodes/literal.js\n+++ rebuilt/lib/nodes/literal.js\n@@ -12,101 +12,98 @@\n var Node = require('./node')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `Literal` with the given `str`.\n- *\n- * @param {String} str\n- * @api public\n- */\n-\n-var Literal = module.exports = function Literal(str){\n-  Node.call(this);\n-  this.val = str;\n-  this.string = str;\n-  this.prefixed = false;\n-};\n+module.exports = class Literal extends Node {\n+  /**\n+   * Initialize a new `Literal` with the given `str`.\n+   *\n+   * @param {String} str\n+   * @api public\n+   */\n+\n+  constructor(str) {\n+    super();\n+    this.val = str;\n+    this.string = str;\n+    this.prefixed = false;\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Literal.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return hash.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Literal.prototype.__defineGetter__('hash', function(){\n-  return this.val;\n-});\n-\n-/**\n- * Return literal value.\n- *\n- * @return {String}\n- * @api public\n- */\n+  /**\n+   * Return hash.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-Literal.prototype.toString = function(){\n-  return this.val;\n-};\n+  get hash() {\n+    return this.val;\n+  };\n \n-/**\n- * Coerce `other` to a literal.\n- *\n- * @param {Node} other\n- * @return {String}\n- * @api public\n- */\n-\n-Literal.prototype.coerce = function(other){\n-  switch (other.nodeName) {\n-    case 'ident':\n-    case 'string':\n-    case 'literal':\n-      return new Literal(other.string);\n-    default:\n-      return Node.prototype.coerce.call(this, other);\n-  }\n-};\n+  /**\n+   * Return literal value.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-/**\n- * Operate on `right` with the given `op`.\n- *\n- * @param {String} op\n",
					"match": false,
					"packageHash": "be05bbea26f490033ef2ebcc051678fe65312c575666ac00863266ca0ca37cb9",
					"size": 1860,
					"sourceHash": "e0338ce974cfc5dc8323553582d653e7377f8b6cd2afe2efcdc750d082d74c35",
					"status": "content"
				},
				"lib/nodes/media.js": {
					"diff": "--- published/lib/nodes/media.js\n+++ rebuilt/lib/nodes/media.js\n@@ -11,66 +11,62 @@\n \n var Atrule = require('./atrule');\n \n-/**\n- * Initialize a new `Media` with the given `val`\n- *\n- * @param {String} val\n- * @api public\n- */\n-\n-var Media = module.exports = function Media(val){\n-  Atrule.call(this, 'media');\n-  this.val = val;\n-};\n-\n-/**\n- * Inherit from `Atrule.prototype`.\n- */\n-\n-Media.prototype.__proto__ = Atrule.prototype;\n-\n-/**\n- * Clone this node.\n- *\n- * @return {Media}\n- * @api public\n- */\n-\n-Media.prototype.clone = function(parent){\n-  var clone = new Media;\n-  clone.val = this.val.clone(parent, clone);\n-  clone.block = this.block.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Media extends Atrule {\n+  /**\n+   * Initialize a new `Media` with the given `val`\n+   *\n+   * @param {String} val\n+   * @api public\n+   */\n+\n+  constructor(val) {\n+    super('media');\n+    this.val = val;\n+  }\n+\n+  /**\n+   * Clone this node.\n+   *\n+   * @return {Media}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Media;\n+    clone.val = this.val.clone(parent, clone);\n+    clone.block = this.block.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Media.prototype.toJSON = function(){\n-  return {\n-    __type: 'Media',\n-    val: this.val,\n-    block: this.block,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Media',\n+      val: this.val,\n+      block: this.block,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n",
					"match": false,
					"packageHash": "b379d363abf56876d4d36a3e02cdb931b21629a54100661951933ca1d2ca5533",
					"size": 1235,
					"sourceHash": "d72d12423747eaf8f88f165e70b4f1c9e414bf4140135b3d29d28b6ec0a8f382",
					"status": "content"
				},
				"lib/nodes/member.js": {
					"diff": "--- published/lib/nodes/member.js\n+++ rebuilt/lib/nodes/member.js\n@@ -11,72 +11,68 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Member` with `left` and `right`.\n- *\n- * @param {Node} left\n- * @param {Node} right\n- * @api public\n- */\n-\n-var Member = module.exports = function Member(left, right){\n-  Node.call(this);\n-  this.left = left;\n-  this.right = right;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Member.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Member.prototype.clone = function(parent){\n-  var clone = new Member;\n-  clone.left = this.left.clone(parent, clone);\n-  clone.right = this.right.clone(parent, clone);\n-  if (this.val) clone.val = this.val.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Member extends Node {\n+  /**\n+   * Initialize a new `Member` with `left` and `right`.\n+   *\n+   * @param {Node} left\n+   * @param {Node} right\n+   * @api public\n+   */\n+\n+  constructor(left, right) {\n+    super();\n+    this.left = left;\n+    this.right = right;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Member;\n+    clone.left = this.left.clone(parent, clone);\n+    clone.right = this.right.clone(parent, clone);\n+    if (this.val) clone.val = this.val.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Member.prototype.toJSON = function(){\n-  var json = {\n-    __type: 'Member',\n-    left: this.left,\n-    right: this.right,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    var json = {\n",
					"match": false,
					"packageHash": "c296ba546c216522d505bee2f608a7112b025fb5e677070214eb685cc8afca52",
					"size": 1472,
					"sourceHash": "8822375d4cd5d4626afa2eb625538800fbc2272413d99de5562ffc1425e02760",
					"status": "content"
				},
				"lib/nodes/namespace.js": {
					"diff": "--- published/lib/nodes/namespace.js\n+++ rebuilt/lib/nodes/namespace.js\n@@ -10,51 +10,47 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Namespace` with the given `val` and `prefix`\n- *\n- * @param {String|Call} val\n- * @param {String} [prefix]\n- * @api public\n- */\n-\n-var Namespace = module.exports = function Namespace(val, prefix){\n-  Node.call(this);\n-  this.val = val;\n-  this.prefix = prefix;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Namespace.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return @namespace \"val\".\n- *\n- * @return {String}\n- * @api public\n- */\n+module.exports = class Namespace extends Node {\n+  /**\n+   * Initialize a new `Namespace` with the given `val` and `prefix`\n+   *\n+   * @param {String|Call} val\n+   * @param {String} [prefix]\n+   * @api public\n+   */\n+\n+  constructor(val, prefix) {\n+    super();\n+    this.val = val;\n+    this.prefix = prefix;\n+  }\n+\n+  /**\n+   * Return @namespace \"val\".\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-Namespace.prototype.toString = function(){\n-  return '@namespace ' + (this.prefix ? this.prefix + ' ' : '') + this.val;\n-};\n+  toString() {\n+    return '@namespace ' + (this.prefix ? this.prefix + ' ' : '') + this.val;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Namespace.prototype.toJSON = function(){\n-  return {\n-    __type: 'Namespace',\n-    val: this.val,\n-    prefix: this.prefix,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Namespace',\n+      val: this.val,\n+      prefix: this.prefix,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n+    };\n   };\n };\n",
					"match": false,
					"packageHash": "12dae49e544b31db5a31ec1123082b4fd23df257eb95ffdb0abc9133591d02e8",
					"size": 1035,
					"sourceHash": "45407550f867f7253a45ee2cd3498c7d892cbdd1d67a19a9d9c9646f222fd385",
					"status": "content"
				},
				"lib/nodes/node.js": {
					"diff": "--- published/lib/nodes/node.js\n+++ rebuilt/lib/nodes/node.js\n@@ -13,39 +13,38 @@\n   , utils = require('../utils')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `CoercionError` with the given `msg`.\n- *\n- * @param {String} msg\n- * @api private\n- */\n-\n-function CoercionError(msg) {\n-  this.name = 'CoercionError'\n-  this.message = msg\n-  Error.captureStackTrace(this, CoercionError);\n+class CoercionError extends Error {\n+  /**\n+   * Initialize a new `CoercionError` with the given `msg`.\n+   *\n+   * @param {String} msg\n+   * @api private\n+   */\n+\n+  constructor(msg) {\n+    super();\n+    this.name = 'CoercionError'\n+    this.message = msg\n+    if (Error.captureStackTrace) {\n+      Error.captureStackTrace(this, CoercionError);\n+    }\n+  }\n }\n \n-/**\n- * Inherit from `Error.prototype`.\n- */\n-\n-CoercionError.prototype.__proto__ = Error.prototype;\n-\n-/**\n- * Node constructor.\n- *\n- * @api public\n- */\n-\n-var Node = module.exports = function Node(){\n-  this.lineno = nodes.lineno || 1;\n-  this.column = nodes.column || 1;\n-  this.filename = nodes.filename;\n-};\n \n-Node.prototype = {\n-  constructor: Node,\n+\n+module.exports = class Node {\n+  /**\n+   * Node constructor.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    this.lineno = nodes.lineno || 1;\n+    this.column = nodes.column || 1;\n+    this.filename = nodes.filename;\n+  }\n \n   /**\n    * Return this node.\n@@ -56,7 +55,7 @@\n \n   get first() {\n     return this;\n-  },\n+  }\n \n   /**\n    * Return hash.\n@@ -67,7 +66,7 @@\n \n   get hash() {\n     return this.val;\n-  },\n+  }\n \n   /**\n    * Return node name.\n@@ -78,7 +77,7 @@\n \n   get nodeName() {\n     return this.constructor.name.toLowerCase();\n-  },\n+  }\n \n   /**\n    * Return this node.\n@@ -87,9 +86,9 @@\n    * @api public\n",
					"match": false,
					"packageHash": "3edd700397e2a96a2216fa970a750f11ecb32a412eac8379b2cb2ff799b0c111",
					"size": 4753,
					"sourceHash": "e5433bc1205087963ee7a8a86780b2ef27df04c28fef50f2884ea7b940c77d31",
					"status": "content"
				},
				"lib/nodes/null.js": {
					"diff": "--- published/lib/nodes/null.js\n+++ rebuilt/lib/nodes/null.js\n@@ -18,71 +18,68 @@\n  * @api public\n  */\n \n-var Null = module.exports = function Null(){};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Null.prototype.__proto__ = Node.prototype;\n-\n-/**\n+module.exports = class Null extends Node {\n+  /**\n  * Return 'Null'.\n  *\n  * @return {String}\n  * @api public\n  */\n \n-Null.prototype.inspect = \n-Null.prototype.toString = function(){\n-  return 'null';\n-};\n-\n-/**\n- * Return false.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n+  toString() {\n+    return 'null';\n+  };\n \n-Null.prototype.toBoolean = function(){\n-  return nodes.false;\n-};\n+  inspect() {\n+    return 'null';\n+  }\n+\n+  /**\n+  * Return false.\n+  *\n+  * @return {Boolean}\n+  * @api public\n+  */\n \n-/**\n- * Check if the node is a null node.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n+  toBoolean() {\n+    return nodes.false;\n+  };\n \n-Null.prototype.__defineGetter__('isNull', function(){\n-  return true;\n-});\n+  /**\n+  * Check if the node is a null node.\n+  *\n+  * @return {Boolean}\n+  * @api public\n+  */\n \n-/**\n- * Return hash.\n- *\n- * @return {String}\n- * @api public\n- */\n+  get isNull() {\n+    return true;\n+  };\n \n-Null.prototype.__defineGetter__('hash', function(){\n-  return null;\n-});\n+  /**\n+  * Return hash.\n+  *\n+  * @return {String}\n+  * @api public\n+  */\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n+  get hash() {\n+    return null;\n",
					"match": false,
					"packageHash": "2af0a201f20271e2f22df70ea7f08318124115b7c588cdd6ae68a5bc50c618c7",
					"size": 1202,
					"sourceHash": "a2cbd361646948ac63a7baefe0aa20bc8044ba3e7bafe0ad4988d044c1d6f3a8",
					"status": "content"
				},
				"lib/nodes/object.js": {
					"diff": "--- published/lib/nodes/object.js\n+++ rebuilt/lib/nodes/object.js\n@@ -13,201 +13,232 @@\n   , nodes = require('./')\n   , nativeObj = {}.constructor;\n \n-/**\n- * Initialize a new `Object`.\n- *\n- * @api public\n- */\n-\n-var Object = module.exports = function Object(){\n-  Node.call(this);\n-  this.vals = {};\n-};\n+module.exports = class Object extends Node {\n+  /**\n+   * Initialize a new `Object`.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.vals = {};\n+    this.keys = {};\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Object.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Set `key` to `val`.\n- *\n- * @param {String} key\n- * @param {Node} val\n- * @return {Object} for chaining\n- * @api public\n- */\n-\n-Object.prototype.set = function(key, val){\n-  this.vals[key] = val;\n-  return this;\n-};\n+  /**\n+   * Set `key` to `val`.\n+   *\n+   * @param {String} key\n+   * @param {Node} val\n+   * @return {Object} for chaining\n+   * @api public\n+   */\n+\n+  setValue(key, val) {\n+    this.vals[key] = val;\n+    return this;\n+  };\n \n-/**\n- * Return length.\n- *\n- * @return {Number}\n- * @api public\n- */\n-\n-Object.prototype.__defineGetter__('length', function() {\n-  return nativeObj.keys(this.vals).length;\n-});\n-\n-/**\n- * Get `key`.\n- *\n- * @param {String} key\n- * @return {Node}\n- * @api public\n- */\n+  /**\n+   * Alias for `setValue` for compatible API\n+   */\n \n-Object.prototype.get = function(key){\n-  return this.vals[key] || nodes.null;\n-};\n+  get set() {\n+    return this.setValue;\n+  }\n \n-/**\n- * Has `key`?\n- *\n- * @param {String} key\n- * @return {Boolean}\n- * @api public\n- */\n+  /**\n+   * Set `key` to `val`.\n",
					"match": false,
					"packageHash": "ee2165b7012cd2e58dd7fb23f46a477a5638c88bd86f31d6db4cd921e853d5cb",
					"size": 3766,
					"sourceHash": "b66cb0a6578b2c4a973a4435a34adda45c7cc7b68ff7d9c667094bdda295a806",
					"status": "content"
				},
				"lib/nodes/params.js": {
					"diff": "--- published/lib/nodes/params.js\n+++ rebuilt/lib/nodes/params.js\n@@ -11,80 +11,75 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Params` with `name`, `params`, and `body`.\n- *\n- * @param {String} name\n- * @param {Params} params\n- * @param {Expression} body\n- * @api public\n- */\n-\n-var Params = module.exports = function Params(){\n-  Node.call(this);\n-  this.nodes = [];\n-};\n+module.exports = class Params extends Node {\n+  /**\n+   * Initialize a new `Params` with `name`, `params`, and `body`.\n+   *\n+   * @param {String} name\n+   * @param {Params} params\n+   * @param {Expression} body\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.nodes = [];\n+  }\n+\n+  /**\n+   * Check function arity.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-/**\n- * Check function arity.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Params.prototype.__defineGetter__('length', function(){\n-  return this.nodes.length;\n-});\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Params.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Push the given `node`.\n- *\n- * @param {Node} node\n- * @api public\n- */\n+  get length() {\n+    return this.nodes.length;\n+  };\n \n-Params.prototype.push = function(node){\n-  this.nodes.push(node);\n-};\n+  /**\n+   * Push the given `node`.\n+   *\n+   * @param {Node} node\n+   * @api public\n+   */\n \n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Params.prototype.clone = function(parent){\n-  var clone = new Params;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  this.nodes.forEach(function(node){\n-    clone.push(node.clone(parent, clone));\n-  });\n-  return clone;\n-};\n+  push(node) {\n+    this.nodes.push(node);\n+  };\n \n-/**\n",
					"match": false,
					"packageHash": "a505b125050b38de4b5286cbe943b5f68f9c4d9206808ef43c230deedac0c7f6",
					"size": 1439,
					"sourceHash": "4ba27bbb0ba88a850cf2a78ccc10d14dc2c6e12e0b3133dda002edd97baaf4d8",
					"status": "content"
				},
				"lib/nodes/property.js": {
					"diff": "--- published/lib/nodes/property.js\n+++ rebuilt/lib/nodes/property.js\n@@ -11,86 +11,82 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Property` with the given `segs` and optional `expr`.\n- *\n- * @param {Array} segs\n- * @param {Expression} expr\n- * @api public\n- */\n-\n-var Property = module.exports = function Property(segs, expr){\n-  Node.call(this);\n-  this.segments = segs;\n-  this.expr = expr;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Property.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Property.prototype.clone = function(parent){\n-  var clone = new Property(this.segments);\n-  clone.name = this.name;\n-  if (this.literal) clone.literal = this.literal;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  clone.segments = this.segments.map(function(node){ return node.clone(parent, clone); });\n-  if (this.expr) clone.expr = this.expr.clone(parent, clone);\n-  return clone;\n-};\n+module.exports = class Property extends Node {\n+  /**\n+   * Initialize a new `Property` with the given `segs` and optional `expr`.\n+   *\n+   * @param {Array} segs\n+   * @param {Expression} expr\n+   * @api public\n+   */\n+\n+  constructor(segs, expr) {\n+    super();\n+    this.segments = segs;\n+    this.expr = expr;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Property(this.segments);\n+    clone.name = this.name;\n+    if (this.literal) clone.literal = this.literal;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    clone.segments = this.segments.map(function (node) { return node.clone(parent, clone); });\n+    if (this.expr) clone.expr = this.expr.clone(parent, clone);\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Property.prototype.toJSON = function(){\n-  var json = {\n-    __type: 'Property',\n-    segments: this.segments,\n-    name: this.name,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n",
					"match": false,
					"packageHash": "f4fc957c7104a5bbb8c160bb465cbd855d5a8c87bb25490aa6fa84e2ca8d2f4b",
					"size": 1902,
					"sourceHash": "1e79b7a2d2706f1ec7d1efc88aacd1e0418cb709d34c38ce2c983e9c9b0912e4",
					"status": "content"
				},
				"lib/nodes/query-list.js": {
					"diff": "--- published/lib/nodes/query-list.js\n+++ rebuilt/lib/nodes/query-list.js\n@@ -11,98 +11,95 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `QueryList`.\n- *\n- * @api public\n- */\n-\n-var QueryList = module.exports = function QueryList(){\n-  Node.call(this);\n-  this.nodes = [];\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-QueryList.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-QueryList.prototype.clone = function(parent){\n-  var clone = new QueryList;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  for (var i = 0; i < this.nodes.length; ++i) {\n-    clone.push(this.nodes[i].clone(parent, clone));\n+module.exports = class QueryList extends Node {\n+  /**\n+   * Initialize a new `QueryList`.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.nodes = [];\n   }\n-  return clone;\n-};\n \n-/**\n- * Push the given `node`.\n- *\n- * @param {Node} node\n- * @api public\n- */\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new QueryList;\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    for (var i = 0; i < this.nodes.length; ++i) {\n+      clone.push(this.nodes[i].clone(parent, clone));\n+    }\n+    return clone;\n+  };\n \n-QueryList.prototype.push = function(node){\n-  this.nodes.push(node);\n-};\n+  /**\n+   * Push the given `node`.\n+   *\n+   * @param {Node} node\n+   * @api public\n+   */\n \n-/**\n- * Merges this query list with the `other`.\n- *\n- * @param {QueryList} other\n- * @return {QueryList}\n- * @api private\n- */\n-\n-QueryList.prototype.merge = function(other){\n-  var list = new QueryList\n-    , merged;\n-  this.nodes.forEach(function(query){\n-    for (var i = 0, len = other.nodes.length; i < len; ++i){\n-      merged = query.merge(other.nodes[i]);\n-      if (merged) list.push(merged);\n",
					"match": false,
					"packageHash": "8052ed648993d4b030d0967978f32f9896678b23d77ecdcf5ac70a0b988607a7",
					"size": 1849,
					"sourceHash": "662a28b9aa33acb4719736e3680bf2c0a5538d89406133cd1ccaf34be0c62724",
					"status": "content"
				},
				"lib/nodes/query.js": {
					"diff": "--- published/lib/nodes/query.js\n+++ rebuilt/lib/nodes/query.js\n@@ -11,160 +11,156 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Query`.\n- *\n- * @api public\n- */\n-\n-var Query = module.exports = function Query(){\n-  Node.call(this);\n-  this.nodes = [];\n-  this.type = '';\n-  this.predicate = '';\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Query.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Query.prototype.clone = function(parent){\n-  var clone = new Query;\n-  clone.predicate = this.predicate;\n-  clone.type = this.type;\n-  for (var i = 0, len = this.nodes.length; i < len; ++i) {\n-    clone.push(this.nodes[i].clone(parent, clone));\n+module.exports = class Query extends Node {\n+  /**\n+   * Initialize a new `Query`.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.nodes = [];\n+    this.type = '';\n+    this.predicate = '';\n   }\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n \n-/**\n- * Push the given `feature`.\n- *\n- * @param {Feature} feature\n- * @api public\n- */\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Query;\n+    clone.predicate = this.predicate;\n+    clone.type = this.type;\n+    for (var i = 0, len = this.nodes.length; i < len; ++i) {\n+      clone.push(this.nodes[i].clone(parent, clone));\n+    }\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-Query.prototype.push = function(feature){\n-  this.nodes.push(feature);\n-};\n+  /**\n+   * Push the given `feature`.\n+   *\n+   * @param {Feature} feature\n+   * @api public\n+   */\n \n-/**\n- * Return resolved type of this query.\n- *\n- * @return {String}\n- * @api private\n- */\n-\n",
					"match": false,
					"packageHash": "232cac2aee84937482898785eb53e8fd2fe5c1a7db8a9319874e04110b55a027",
					"size": 3117,
					"sourceHash": "43da16650683605add371bd94760fb750414ff03171e7e9a78344cb6ee4c3221",
					"status": "content"
				},
				"lib/nodes/return.js": {
					"diff": "--- published/lib/nodes/return.js\n+++ rebuilt/lib/nodes/return.js\n@@ -19,45 +19,42 @@\n  * @api public\n  */\n \n-var Return = module.exports = function Return(expr){\n-  this.expr = expr || nodes.null;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Return.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Return.prototype.clone = function(parent){\n-  var clone = new Return();\n-  clone.expr = this.expr.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Return extends Node {\n+  constructor(expr) {\n+    super();\n+    this.expr = expr || nodes.null;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Return();\n+    clone.expr = this.expr.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-Return.prototype.toJSON = function(){\n-  return {\n-    __type: 'Return',\n-    expr: this.expr,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Return',\n+      expr: this.expr,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n+    };\n   };\n };\n",
					"match": false,
					"packageHash": "0c4f090eb4763f8f3b78fdd7f3e7349d85fef8a01aa5251dde9eed1aefe02863",
					"size": 1062,
					"sourceHash": "7ce888ed80e0dcafbd5d6d76f09eb4dd95c3565147bdb9af7d2f8365a33236cc",
					"status": "content"
				},
				"lib/nodes/rgba.js": {
					"diff": "--- published/lib/nodes/rgba.js\n+++ rebuilt/lib/nodes/rgba.js\n@@ -15,331 +15,328 @@\n   , adjust = functions.adjust\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `RGBA` with the given r,g,b,a component values.\n- *\n- * @param {Number} r\n- * @param {Number} g\n- * @param {Number} b\n- * @param {Number} a\n- * @api public\n- */\n-\n-var RGBA = exports = module.exports = function RGBA(r,g,b,a){\n-  Node.call(this);\n-  this.r = clamp(r);\n-  this.g = clamp(g);\n-  this.b = clamp(b);\n-  this.a = clampAlpha(a);\n-  this.name = '';\n-  this.rgba = this;\n-};\n+exports = module.exports = class RGBA extends Node {\n+  /**\n+   * Initialize a new `RGBA` with the given r,g,b,a component values.\n+   *\n+   * @param {Number} r\n+   * @param {Number} g\n+   * @param {Number} b\n+   * @param {Number} a\n+   * @api public\n+   */\n+\n+  constructor(r, g, b, a) {\n+    super();\n+    this.r = clamp(r);\n+    this.g = clamp(g);\n+    this.b = clamp(b);\n+    this.a = clampAlpha(a);\n+    this.name = '';\n+    this.rgba = this;\n+  }\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n+  /**\n+   * Return an `RGBA` without clamping values.\n+   * \n+   * @param {Number} r\n+   * @param {Number} g\n+   * @param {Number} b\n+   * @param {Number} a\n+   * @return {RGBA}\n+   * @api public\n+   */\n+\n+  static withoutClamping(r, g, b, a) {\n+    var rgba = new RGBA(0, 0, 0, 0);\n+    rgba.r = r;\n+    rgba.g = g;\n+    rgba.b = b;\n+    rgba.a = a;\n+    return rgba;\n+  };\n \n-RGBA.prototype.__proto__ = Node.prototype;\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n \n-/**\n- * Return an `RGBA` without clamping values.\n- * \n- * @param {Number} r\n- * @param {Number} g\n- * @param {Number} b\n- * @param {Number} a\n- * @return {RGBA}\n- * @api public\n- */\n-\n-RGBA.withoutClamping = function(r,g,b,a){\n-  var rgba = new RGBA(0,0,0,0);\n-  rgba.r = r;\n-  rgba.g = g;\n-  rgba.b = b;\n-  rgba.a = a;\n-  return rgba;\n-};\n+  clone() {\n+    var clone = new RGBA(\n+      this.r\n+      , this.g\n",
					"match": false,
					"packageHash": "f0126b9409bdf5604ef4190c4ba1723db584006a1a8f13923452a70c5a3e6123",
					"size": 6838,
					"sourceHash": "fe8ce6526a86573c37cf2de2e61eaa2b62a845dc964e122628d0e9763221d0d1",
					"status": "content"
				},
				"lib/nodes/root.js": {
					"diff": "--- published/lib/nodes/root.js\n+++ rebuilt/lib/nodes/root.js\n@@ -11,86 +11,84 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Root` node.\n- *\n- * @api public\n- */\n+module.exports = class Root extends Node {\n+  /**\n+   * Initialize a new `Root` node.\n+   *\n+   * @api public\n+   */\n+\n+  constructor() {\n+    super();\n+    this.nodes = [];\n+  }\n+\n+  /**\n+   * Push a `node` to this block.\n+   *\n+   * @param {Node} node\n+   * @api public\n+   */\n \n-var Root = module.exports = function Root(){\n-  this.nodes = [];\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Root.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Push a `node` to this block.\n- *\n- * @param {Node} node\n- * @api public\n- */\n-\n-Root.prototype.push = function(node){\n-  this.nodes.push(node);\n-};\n+  push(node) {\n+    this.nodes.push(node);\n+  };\n \n-/**\n- * Unshift a `node` to this block.\n- *\n- * @param {Node} node\n- * @api public\n- */\n+  /**\n+   * Unshift a `node` to this block.\n+   *\n+   * @param {Node} node\n+   * @api public\n+   */\n \n-Root.prototype.unshift = function(node){\n-  this.nodes.unshift(node);\n-};\n+  unshift(node) {\n+    this.nodes.unshift(node);\n+  };\n \n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Root.prototype.clone = function(){\n-  var clone = new Root();\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  this.nodes.forEach(function(node){\n-    clone.push(node.clone(clone, clone));\n-  });\n-  return clone;\n-};\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone() {\n+    var clone = new Root();\n",
					"match": false,
					"packageHash": "fe4e93aabb00a83192833214ad92049d4f9f8c99e0f1dd352da4c7bf4fe9384e",
					"size": 1413,
					"sourceHash": "715381d2f733c6d8f8781cb598d7254a46461808d16ae1ad81a275bc7b4ffcf7",
					"status": "content"
				},
				"lib/nodes/selector.js": {
					"diff": "--- published/lib/nodes/selector.js\n+++ rebuilt/lib/nodes/selector.js\n@@ -12,83 +12,80 @@\n var Block = require('./block')\n   , Node = require('./node');\n \n-/**\n- * Initialize a new `Selector` with the given `segs`.\n- *\n- * @param {Array} segs\n- * @api public\n- */\n-\n-var Selector = module.exports = function Selector(segs){\n-  Node.call(this);\n-  this.inherits = true;\n-  this.segments = segs;\n-  this.optional = false;\n-};\n+module.exports = class Selector extends Node {\n+  /**\n+   * Initialize a new `Selector` with the given `segs`.\n+   *\n+   * @param {Array} segs\n+   * @api public\n+   */\n+\n+  constructor(segs) {\n+    super();\n+    this.inherits = true;\n+    this.segments = segs;\n+    this.optional = false;\n+  }\n+\n+  /**\n+   * Return the selector string.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Selector.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return the selector string.\n- *\n- * @return {String}\n- * @api public\n- */\n+  toString() {\n+    return this.segments.join('') + (this.optional ? ' !optional' : '');\n+  };\n \n-Selector.prototype.toString = function(){\n-  return this.segments.join('') + (this.optional ? ' !optional' : '');\n-};\n+  /**\n+   * Check if this is placeholder selector.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-/**\n- * Check if this is placeholder selector.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n-\n-Selector.prototype.__defineGetter__('isPlaceholder', function(){\n-  return this.val && ~this.val.substr(0, 2).indexOf('$');\n-});\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Selector.prototype.clone = function(parent){\n-  var clone = new Selector;\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  clone.inherits = this.inherits;\n-  clone.val = this.val;\n-  clone.segments = this.segments.map(function(node){ return node.clone(parent, clone); });\n-  clone.optional = this.optional;\n-  return clone;\n-};\n+  get isPlaceholder() {\n+    return this.val && ~this.val.substr(0, 2).indexOf('$');\n+  };\n+\n",
					"match": false,
					"packageHash": "b86995a5f50556e8906480f06662be84ffad171df236bc57145fa909823c44cb",
					"size": 1765,
					"sourceHash": "75bed90316093c30f993afe7ea8b8c74213ca8d0b8a1edb9a83efddb42751a70",
					"status": "content"
				},
				"lib/nodes/string.js": {
					"diff": "--- published/lib/nodes/string.js\n+++ rebuilt/lib/nodes/string.js\n@@ -13,135 +13,132 @@\n   , utils = require('../utils')\n   , nodes = require('./');\n \n-/**\n- * Initialize a new `String` with the given `val`.\n- *\n- * @param {String} val\n- * @param {String} quote\n- * @api public\n- */\n-\n-var String = module.exports = function String(val, quote){\n-  Node.call(this);\n-  this.val = val;\n-  this.string = val;\n-  this.prefixed = false;\n-  if (typeof quote !== 'string') {\n-    this.quote = \"'\";\n-  } else {\n-    this.quote = quote;\n+module.exports = class String extends Node {\n+  /**\n+   * Initialize a new `String` with the given `val`.\n+   *\n+   * @param {String} val\n+   * @param {String} quote\n+   * @api public\n+   */\n+\n+  constructor(val, quote) {\n+    super();\n+    this.val = val;\n+    this.string = val;\n+    this.prefixed = false;\n+    if (typeof quote !== 'string') {\n+      this.quote = \"'\";\n+    } else {\n+      this.quote = quote;\n+    }\n   }\n-};\n \n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-String.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return quoted string.\n- *\n- * @return {String}\n- * @api public\n- */\n+  /**\n+   * Return quoted string.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n \n-String.prototype.toString = function(){\n-  return this.quote + this.val + this.quote;\n-};\n+  toString() {\n+    return this.quote + this.val + this.quote;\n+  };\n \n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-String.prototype.clone = function(){\n-  var clone = new String(this.val, this.quote);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone() {\n+    var clone = new String(this.val, this.quote);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n",
					"match": false,
					"packageHash": "77b3c207a50c9f942f0932f904de68525f61f6a0882b7269c613a467a7a6c9ee",
					"size": 2741,
					"sourceHash": "c4ed2c45341599a817e608f40ced351d18d0275d3b92c03502c7e1a3f550a4ad",
					"status": "content"
				},
				"lib/nodes/supports.js": {
					"diff": "--- published/lib/nodes/supports.js\n+++ rebuilt/lib/nodes/supports.js\n@@ -10,66 +10,62 @@\n \n var Atrule = require('./atrule');\n \n-/**\n- * Initialize a new supports node.\n- *\n- * @param {Expression} condition\n- * @api public\n- */\n-\n-var Supports = module.exports = function Supports(condition){\n-  Atrule.call(this, 'supports');\n-  this.condition = condition;\n-};\n-\n-/**\n- * Inherit from `Atrule.prototype`.\n- */\n-\n-Supports.prototype.__proto__ = Atrule.prototype;\n-\n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n-\n-Supports.prototype.clone = function(parent){\n-  var clone = new Supports;\n-  clone.condition = this.condition.clone(parent, clone);\n-  clone.block = this.block.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Supports extends Atrule {\n+  /**\n+   * Initialize a new supports node.\n+   *\n+   * @param {Expression} condition\n+   * @api public\n+   */\n+\n+  constructor(condition) {\n+    super('supports');\n+    this.condition = condition;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   *\n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Supports;\n+    clone.condition = this.condition.clone(parent, clone);\n+    clone.block = this.block.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Supports.prototype.toJSON = function(){\n-  return {\n-    __type: 'Supports',\n-    condition: this.condition,\n-    block: this.block,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'Supports',\n+      condition: this.condition,\n+      block: this.block,\n+      lineno: this.lineno,\n+      column: this.column,\n+      filename: this.filename\n",
					"match": false,
					"packageHash": "63ca9cef739d1eed444ab51e50cc5505be9d47475467769fcf73f33417d4ee2e",
					"size": 1318,
					"sourceHash": "644ba27f3c007ce426e6d15775f93cbfac627c3a1242916bf83204de323c43b7",
					"status": "content"
				},
				"lib/nodes/ternary.js": {
					"diff": "--- published/lib/nodes/ternary.js\n+++ rebuilt/lib/nodes/ternary.js\n@@ -11,61 +11,57 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `Ternary` with `cond`, `trueExpr` and `falseExpr`.\n- *\n- * @param {Expression} cond\n- * @param {Expression} trueExpr\n- * @param {Expression} falseExpr\n- * @api public\n- */\n-\n-var Ternary = module.exports = function Ternary(cond, trueExpr, falseExpr){\n-  Node.call(this);\n-  this.cond = cond;\n-  this.trueExpr = trueExpr;\n-  this.falseExpr = falseExpr;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Ternary.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-Ternary.prototype.clone = function(parent){\n-  var clone = new Ternary();\n-  clone.cond = this.cond.clone(parent, clone);\n-  clone.trueExpr = this.trueExpr.clone(parent, clone);\n-  clone.falseExpr = this.falseExpr.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class Ternary extends Node {\n+  /**\n+   * Initialize a new `Ternary` with `cond`, `trueExpr` and `falseExpr`.\n+   *\n+   * @param {Expression} cond\n+   * @param {Expression} trueExpr\n+   * @param {Expression} falseExpr\n+   * @api public\n+   */\n+\n+  constructor(cond, trueExpr, falseExpr) {\n+    super();\n+    this.cond = cond;\n+    this.trueExpr = trueExpr;\n+    this.falseExpr = falseExpr;\n+  }\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new Ternary();\n+    clone.cond = this.cond.clone(parent, clone);\n+    clone.trueExpr = this.trueExpr.clone(parent, clone);\n+    clone.falseExpr = this.falseExpr.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-Ternary.prototype.toJSON = function(){\n-  return {\n-    __type: 'Ternary',\n-    cond: this.cond,\n-    trueExpr: this.trueExpr,\n-    falseExpr: this.falseExpr,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n",
					"match": false,
					"packageHash": "5455be9bbb1887f17e6ec45e8c2a3045b6d35cc078d9158311a3662997d42cdb",
					"size": 1379,
					"sourceHash": "029ac8a52eaba6aed1d2fa42a7e04b82a34017c1999a8c4c3e4e680ebad75a1e",
					"status": "content"
				},
				"lib/nodes/unaryop.js": {
					"diff": "--- published/lib/nodes/unaryop.js\n+++ rebuilt/lib/nodes/unaryop.js\n@@ -11,56 +11,54 @@\n \n var Node = require('./node');\n \n-/**\n- * Initialize a new `UnaryOp` with `op`, and `expr`.\n- *\n- * @param {String} op\n- * @param {Node} expr\n- * @api public\n- */\n-\n-var UnaryOp = module.exports = function UnaryOp(op, expr){\n-  Node.call(this);\n-  this.op = op;\n-  this.expr = expr;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-UnaryOp.prototype.__proto__ = Node.prototype;\n-\n-/**\n- * Return a clone of this node.\n- * \n- * @return {Node}\n- * @api public\n- */\n-\n-UnaryOp.prototype.clone = function(parent){\n-  var clone = new UnaryOp(this.op);\n-  clone.expr = this.expr.clone(parent, clone);\n-  clone.lineno = this.lineno;\n-  clone.column = this.column;\n-  clone.filename = this.filename;\n-  return clone;\n-};\n+module.exports = class UnaryOp extends Node {\n+  /**\n+   * Initialize a new `UnaryOp` with `op`, and `expr`.\n+   *\n+   * @param {String} op\n+   * @param {Node} expr\n+   * @api public\n+   */\n+\n+  constructor(op, expr) {\n+    super();\n+    this.op = op;\n+    this.expr = expr;\n+  }\n+\n+\n+  /**\n+   * Return a clone of this node.\n+   * \n+   * @return {Node}\n+   * @api public\n+   */\n+\n+  clone(parent) {\n+    var clone = new UnaryOp(this.op);\n+    clone.expr = this.expr.clone(parent, clone);\n+    clone.lineno = this.lineno;\n+    clone.column = this.column;\n+    clone.filename = this.filename;\n+    return clone;\n+  };\n \n-/**\n- * Return a JSON representation of this node.\n- *\n- * @return {Object}\n- * @api public\n- */\n-\n-UnaryOp.prototype.toJSON = function(){\n-  return {\n-    __type: 'UnaryOp',\n-    op: this.op,\n-    expr: this.expr,\n-    lineno: this.lineno,\n-    column: this.column,\n-    filename: this.filename\n+  /**\n+   * Return a JSON representation of this node.\n+   *\n+   * @return {Object}\n+   * @api public\n+   */\n+\n+  toJSON() {\n+    return {\n+      __type: 'UnaryOp',\n+      op: this.op,\n+      expr: this.expr,\n",
					"match": false,
					"packageHash": "10b41a02ff033cb29c012427503fd22b11dbab68d2d7da41fcaff3bcfce38cd8",
					"size": 1105,
					"sourceHash": "21ff2185eed64feefebfe2de9c48da4a570ec4594bd3a86b463bd8b18e9b0cae",
					"status": "content"
				},
				"lib/nodes/unit.js": {
					"diff": "--- published/lib/nodes/unit.js\n+++ rebuilt/lib/nodes/unit.js\n@@ -17,198 +17,194 @@\n  */\n \n var FACTOR_TABLE = {\n-  'mm': {val: 1, label: 'mm'},\n-  'cm': {val: 10, label: 'mm'},\n-  'in': {val: 25.4, label: 'mm'},\n-  'pt': {val: 25.4/72, label: 'mm'},\n-  'ms': {val: 1, label: 'ms'},\n-  's': {val: 1000, label: 'ms'},\n-  'Hz': {val: 1, label: 'Hz'},\n-  'kHz': {val: 1000, label: 'Hz'}\n-};\n-\n-/**\n- * Initialize a new `Unit` with the given `val` and unit `type`\n- * such as \"px\", \"pt\", \"in\", etc.\n- *\n- * @param {String} val\n- * @param {String} type\n- * @api public\n- */\n-\n-var Unit = module.exports = function Unit(val, type){\n-  Node.call(this);\n-  this.val = val;\n-  this.type = type;\n-};\n-\n-/**\n- * Inherit from `Node.prototype`.\n- */\n-\n-Unit.prototype.__proto__ = Node.prototype;\n+  'mm': { val: 1, label: 'mm' },\n+  'cm': { val: 10, label: 'mm' },\n+  'in': { val: 25.4, label: 'mm' },\n+  'pt': { val: 25.4 / 72, label: 'mm' },\n+  'ms': { val: 1, label: 'ms' },\n+  's': { val: 1000, label: 'ms' },\n+  'Hz': { val: 1, label: 'Hz' },\n+  'kHz': { val: 1000, label: 'Hz' }\n+};\n+\n+module.exports = class Unit extends Node {\n+  /**\n+   * Initialize a new `Unit` with the given `val` and unit `type`\n+   * such as \"px\", \"pt\", \"in\", etc.\n+   *\n+   * @param {String} val\n+   * @param {String} type\n+   * @api public\n+   */\n+\n+  constructor(val, type) {\n+    super();\n+    this.val = val;\n+    this.type = type;\n+  }\n \n-/**\n- * Return Boolean based on the unit value.\n- *\n- * @return {Boolean}\n- * @api public\n- */\n+  /**\n+   * Return Boolean based on the unit value.\n+   *\n+   * @return {Boolean}\n+   * @api public\n+   */\n \n-Unit.prototype.toBoolean = function(){\n-  return nodes.Boolean(this.type\n+  toBoolean() {\n+    return new nodes.Boolean(this.type\n       ? true\n       : this.val);\n-};\n-\n-/**\n- * Return unit string.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Unit.prototype.toString = function(){\n-  return this.val + (this.type || '');\n-};\n-\n-/**\n- * Return a clone of this node.\n- *\n- * @return {Node}\n- * @api public\n- */\n",
					"match": false,
					"packageHash": "03fc7c6c702c13fb02575049cdc42d7051a0e720dcedac2ee823e7ff047988b2",
					"size": 4529,
					"sourceHash": "f5b887a64c75b3cf466778808dc05564f0ef9a3ccac04148b22c34a0c275654f",
					"status": "content"
				},
				"lib/parser.js": {
					"diff": "--- published/lib/parser.js\n+++ rebuilt/lib/parser.js\n@@ -18,7 +18,7 @@\n // debuggers\n \n var debug = {\n-    lexer: require('debug')('stylus:lexer')\n+  lexer: require('debug')('stylus:lexer')\n   , selector: require('debug')('stylus:parser:selector')\n };\n \n@@ -27,7 +27,7 @@\n  */\n \n var selectorTokens = [\n-    'ident'\n+  'ident'\n   , 'string'\n   , 'selector'\n   , 'function'\n@@ -51,10 +51,12 @@\n   , '='\n   , ':'\n   , '&'\n+  , '&&'\n   , '~'\n   , '{'\n   , '}'\n   , '.'\n+  , '..'\n   , '/'\n ];\n \n@@ -64,8 +66,11 @@\n  */\n \n var pseudoSelectors = [\n+  // https://www.w3.org/TR/selectors-4/#logical-combination\n   // Logical Combinations\n-    'matches'\n+  'is'\n+  , 'has'\n+  , 'where'\n   , 'not'\n \n   // Linguistic Pseudo-classes\n@@ -138,59 +143,49 @@\n   , 'selection'\n ];\n \n-/**\n- * Initialize a new `Parser` with the given `str` and `options`.\n- *\n- * @param {String} str\n- * @param {Object} options\n- * @api private\n- */\n+module.exports = class Parser {\n+  /**\n+   * Initialize a new `Parser` with the given `str` and `options`.\n+   *\n+   * @param {String} str\n+   * @param {Object} options\n+   * @api private\n+   */\n \n-var Parser = module.exports = function Parser(str, options) {\n-  var self = this;\n-  options = options || {};\n-  Parser.cache = Parser.cache || Parser.getCache(options);\n-  this.hash = Parser.cache.key(str, options);\n-  this.lexer = {};\n-  if (!Parser.cache.has(this.hash)) {\n-    this.lexer = new Lexer(str, options);\n-  }\n-  this.prefix = options.prefix || '';\n-  this.root = options.root || new nodes.Root;\n-  this.state = ['root'];\n-  this.stash = [];\n-  this.parens = 0;\n-  this.css = 0;\n-  this.state.pop = function(){\n-    self.prevState = [].pop.call(this);\n+  constructor(str, options) {\n+    var self = this;\n+    options = options || {};\n+    Parser.cache = Parser.cache || Parser.getCache(options);\n+    this.hash = Parser.cache.key(str, options);\n+    this.lexer = {};\n+    if (!Parser.cache.has(this.hash)) {\n+      this.lexer = new Lexer(str, options);\n+    }\n+    this.prefix = options.prefix || '';\n+    this.root = options.root || new nodes.Root;\n+    this.state = ['root'];\n+    this.stash = [];\n+    this.parens = 0;\n+    this.css = 0;\n+    this.state.pop = function () {\n+      self.prevState = [].pop.call(this);\n",
					"match": false,
					"packageHash": "4578c96674abb73e4719fe101faaed6ef758bc6cb8d38e95cf2dc3899e564a70",
					"size": 47548,
					"sourceHash": "30492467ead864ba430b9cecdcc239c241b690fe005609b2eb3edf8d018f2fd0",
					"status": "content"
				},
				"lib/renderer.js": {
					"diff": "--- published/lib/renderer.js\n+++ rebuilt/lib/renderer.js\n@@ -18,228 +18,225 @@\n   , nodes = require('./nodes')\n   , join = require('path').join;\n \n-/**\n- * Expose `Renderer`.\n- */\n-\n-module.exports = Renderer;\n-\n-/**\n- * Initialize a new `Renderer` with the given `str` and `options`.\n- *\n- * @param {String} str\n- * @param {Object} options\n- * @api public\n- */\n-\n-function Renderer(str, options) {\n-  options = options || {};\n-  options.globals = options.globals || {};\n-  options.functions = options.functions || {};\n-  options.use = options.use || [];\n-  options.use = Array.isArray(options.use) ? options.use : [options.use];\n-  options.imports = [join(__dirname, 'functions')];\n-  options.paths = options.paths || [];\n-  options.filename = options.filename || 'stylus';\n-  options.Evaluator = options.Evaluator || Evaluator;\n-  this.options = options;\n-  this.str = str;\n-  this.events = events;\n-};\n-\n-/**\n- * Inherit from `EventEmitter.prototype`.\n- */\n-\n-Renderer.prototype.__proto__ = EventEmitter.prototype;\n-\n-/**\n- * Expose events explicitly.\n- */\n-\n-module.exports.events = events;\n-\n-/**\n- * Parse and evaluate AST, then callback `fn(err, css, js)`.\n- *\n- * @param {Function} fn\n- * @api public\n- */\n-\n-Renderer.prototype.render = function(fn){\n-  var parser = this.parser = new Parser(this.str, this.options);\n-\n-  // use plugin(s)\n-  for (var i = 0, len = this.options.use.length; i < len; i++) {\n-    this.use(this.options.use[i]);\n-  }\n-\n-  try {\n-    nodes.filename = this.options.filename;\n-    // parse\n-    var ast = parser.parse();\n-\n-    // evaluate\n-    this.evaluator = new this.options.Evaluator(ast, this.options);\n-    this.nodes = nodes;\n-    this.evaluator.renderer = this;\n-    ast = this.evaluator.evaluate();\n-\n-    // normalize\n-    var normalizer = new Normalizer(ast, this.options);\n-    ast = normalizer.normalize();\n-\n-    // compile\n-    var compiler = this.options.sourcemap\n-      ? new (require('./visitor/sourcemapper'))(ast, this.options)\n-      : new (require('./visitor/compiler'))(ast, this.options)\n-      , css = compiler.compile();\n-\n-    // expose sourcemap\n-    if (this.options.sourcemap) this.sourcemap = compiler.map.toJSON();\n-  } catch (err) {\n-    var options = {};\n-    options.input = err.input || this.str;\n-    options.filename = err.filename || this.options.filename;\n-    options.lineno = err.lineno || parser.lexer.lineno;\n-    options.column = err.column || parser.lexer.column;\n-    if (!fn) throw utils.formatException(err, options);\n-    return fn(utils.formatException(err, options));\n+class Renderer extends EventEmitter {\n+  /**\n+   * Initialize a new `Renderer` with the given `str` and `options`.\n+   *\n+   * @param {String} str\n+   * @param {Object} options\n+   * @api public\n",
					"match": false,
					"packageHash": "1619ad3bb60aec19b616b1f1bf31294942da98b97def657caf37c6f2d31d7b0d",
					"size": 5515,
					"sourceHash": "ca35dd593bb34c44c5fa4c8f2313d8904197aee3c2074da4cbc52a4843368bbd",
					"status": "content"
				},
				"lib/stack/frame.js": {
					"diff": "--- published/lib/stack/frame.js\n+++ rebuilt/lib/stack/frame.js\n@@ -11,55 +11,57 @@\n \n var Scope = require('./scope');\n \n-/**\n- * Initialize a new `Frame` with the given `block`.\n- *\n- * @param {Block} block\n- * @api private\n- */\n-\n-var Frame = module.exports = function Frame(block) {\n-  this._scope = false === block.scope\n-    ? null\n-    : new Scope;\n-  this.block = block;\n-};\n-\n-/**\n- * Return this frame's scope or the parent scope\n- * for scope-less blocks.\n- *\n- * @return {Scope}\n- * @api public\n- */\n-\n-Frame.prototype.__defineGetter__('scope', function(){\n-  return this._scope || this.parent.scope;\n-});\n-\n-/**\n- * Lookup the given local variable `name`.\n- *\n- * @param {String} name\n- * @return {Node}\n- * @api private\n- */\n-\n-Frame.prototype.lookup = function(name){\n-  return this.scope.lookup(name)\n-};\n-\n-/**\n- * Custom inspect.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Frame.prototype.inspect = function(){\n-  return '[Frame '\n-    + (false === this.block.scope\n+module.exports = class Frame {\n+  /**\n+   * Initialize a new `Frame` with the given `block`.\n+   *\n+   * @param {Block} block\n+   * @api private\n+   */\n+\n+  constructor(block) {\n+    this._scope = false === block.scope\n+      ? null\n+      : new Scope;\n+    this.block = block;\n+  }\n+\n+  /**\n+   * Return this frame's scope or the parent scope\n+   * for scope-less blocks.\n+   *\n+   * @return {Scope}\n+   * @api public\n+   */\n+\n+  get scope() {\n+    return this._scope || this.parent.scope;\n+  };\n+\n+  /**\n+   * Lookup the given local variable `name`.\n+   *\n+   * @param {String} name\n+   * @return {Node}\n+   * @api private\n+   */\n+\n+  lookup(name) {\n+    return this.scope.lookup(name)\n+  };\n+\n+  /**\n+   * Custom inspect.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n",
					"match": false,
					"packageHash": "e46d09f1e32e581f80b296c71116e383ebde84fb22932f2d5903dddd3d72c2ef",
					"size": 1061,
					"sourceHash": "daba4c7dfc800171b1231dc1aaf365ed13a725183785ba5788a48d193b9f7265",
					"status": "content"
				},
				"lib/stack/index.js": {
					"diff": "--- published/lib/stack/index.js\n+++ rebuilt/lib/stack/index.js\n@@ -5,131 +5,128 @@\n  * MIT Licensed\n  */\n \n-/**\n- * Initialize a new `Stack`.\n- *\n- * @api private\n- */\n-\n-var Stack = module.exports = function Stack() {\n-  Array.apply(this, arguments);\n-};\n-\n-/**\n- * Inherit from `Array.prototype`.\n- */\n-\n-Stack.prototype.__proto__ = Array.prototype;\n-\n-/**\n- * Push the given `frame`.\n- *\n- * @param {Frame} frame\n- * @api public\n- */\n-\n-Stack.prototype.push = function(frame){\n-  frame.stack = this;\n-  frame.parent = this.currentFrame;\n-  return [].push.apply(this, arguments);\n-};\n-\n-/**\n- * Return the current stack `Frame`.\n- *\n- * @return {Frame}\n- * @api private\n- */\n-\n-Stack.prototype.__defineGetter__('currentFrame', function(){\n-  return this[this.length - 1];\n-});\n-\n-/**\n- * Lookup stack frame for the given `block`.\n- *\n- * @param {Block} block\n- * @return {Frame}\n- * @api private\n- */\n-\n-Stack.prototype.getBlockFrame = function(block){\n-  for (var i = 0; i < this.length; ++i) {\n-    if (block == this[i].block) {\n-      return this[i];\n-    }\n+module.exports = class Stack extends Array {\n+  /**\n+   * Initialize a new `Stack`.\n+   *\n+   * @api private\n+   */\n+\n+  constructor() {\n+    super()\n+    Array.apply(this, arguments);\n   }\n-};\n \n-/**\n- * Lookup the given local variable `name`, relative\n- * to the lexical scope of the current frame's `Block`.\n- *\n- * When the result of a lookup is an identifier\n- * a recursive lookup is performed, defaulting to\n- * returning the identifier itself.\n- *\n- * @param {String} name\n- * @return {Node}\n- * @api private\n- */\n-\n-Stack.prototype.lookup = function(name){\n-  var block = this.currentFrame.block\n-    , val\n-    , ret;\n-\n-  do {\n-    var frame = this.getBlockFrame(block);\n-    if (frame && (val = frame.lookup(name))) {\n-      return val;\n+  /**\n+   * Push the given `frame`.\n+   *\n+   * @param {Frame} frame\n+   * @api public\n+   */\n",
					"match": false,
					"packageHash": "5519be20c22903996e82d8cc0b72fb002c2707b12ce7778f8921acdd2f9df788",
					"size": 2495,
					"sourceHash": "52bd2c1a1f55241b9fd65de1f734cdd0c7ea22dcc520b82139b54179b0f2c38e",
					"status": "content"
				},
				"lib/stack/scope.js": {
					"diff": "--- published/lib/stack/scope.js\n+++ rebuilt/lib/stack/scope.js\n@@ -5,49 +5,51 @@\n  * MIT Licensed\n  */\n \n-/**\n- * Initialize a new `Scope`.\n- *\n- * @api private\n- */\n-\n-var Scope = module.exports = function Scope() {\n-  this.locals = {};\n-};\n-\n-/**\n- * Add `ident` node to the current scope.\n- *\n- * @param {Ident} ident\n- * @api private\n- */\n-\n-Scope.prototype.add = function(ident){\n-  this.locals[ident.name] = ident.val;\n-};\n-\n-/**\n- * Lookup the given local variable `name`.\n- *\n- * @param {String} name\n- * @return {Node}\n- * @api private\n- */\n-\n-Scope.prototype.lookup = function(name){\n-  return this.locals[name];\n-};\n-\n-/**\n- * Custom inspect.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Scope.prototype.inspect = function(){\n-  var keys = Object.keys(this.locals).map(function(key){ return '@' + key; });\n-  return '[Scope'\n-    + (keys.length ? ' ' + keys.join(', ') : '')\n-    + ']';\n+module.exports = class Scope {\n+  /**\n+   * Initialize a new `Scope`.\n+   *\n+   * @api private\n+   */\n+\n+  constructor() {\n+    this.locals = {};\n+  }\n+\n+  /**\n+   * Add `ident` node to the current scope.\n+   *\n+   * @param {Ident} ident\n+   * @api private\n+   */\n+\n+  add(ident) {\n+    this.locals[ident.name] = ident.val;\n+  };\n+\n+  /**\n+   * Lookup the given local variable `name`.\n+   *\n+   * @param {String} name\n+   * @return {Node}\n+   * @api private\n+   */\n+\n+  lookup(name) {\n+    return this.locals.hasOwnProperty(name) ? this.locals[name] : undefined;\n+  };\n+\n+  /**\n+   * Custom inspect.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  inspect() {\n+    var keys = Object.keys(this.locals).map(function (key) { return '@' + key; });\n+    return '[Scope'\n+      + (keys.length ? ' ' + keys.join(', ') : '')\n+      + ']';\n+  };\n };\n",
					"match": false,
					"packageHash": "a6d803a42b59321cd04954d6df117952d9e567ee3042da3f2f4ce3399208122b",
					"size": 861,
					"sourceHash": "c139993b73d45df7c9769e6708f7481ddb0334874ba499cff72f27ccf4ba8e9b",
					"status": "content"
				},
				"lib/token.js": {
					"diff": "--- published/lib/token.js\n+++ rebuilt/lib/token.js\n@@ -11,43 +11,45 @@\n \n var inspect = require('util').inspect;\n \n-/**\n- * Initialize a new `Token` with the given `type` and `val`.\n- *\n- * @param {String} type\n- * @param {Mixed} val\n- * @api private\n- */\n-\n-var Token = exports = module.exports = function Token(type, val) {\n-  this.type = type;\n-  this.val = val;\n-};\n-\n-/**\n- * Custom inspect.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Token.prototype.inspect = function(){\n-  var val = ' ' + inspect(this.val);\n-  return '[Token:' + this.lineno + ':' + this.column + ' '\n-    + '\\x1b[32m' + this.type + '\\x1b[0m'\n-    + '\\x1b[33m' + (this.val ? val : '') + '\\x1b[0m'\n-    + ']';\n-};\n-\n-/**\n- * Return type or val.\n- *\n- * @return {String}\n- * @api public\n- */\n-\n-Token.prototype.toString = function(){\n-  return (undefined === this.val\n-    ? this.type\n-    : this.val).toString();\n+exports = module.exports = class Token {\n+  /**\n+   * Initialize a new `Token` with the given `type` and `val`.\n+   *\n+   * @param {String} type\n+   * @param {Mixed} val\n+   * @api private\n+   */\n+\n+  constructor(type, val) {\n+    this.type = type;\n+    this.val = val;\n+  }\n+\n+  /**\n+   * Custom inspect.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  inspect() {\n+    var val = ' ' + inspect(this.val);\n+    return '[Token:' + this.lineno + ':' + this.column + ' '\n+      + '\\x1b[32m' + this.type + '\\x1b[0m'\n+      + '\\x1b[33m' + (this.val ? val : '') + '\\x1b[0m'\n+      + ']';\n+  };\n+\n+  /**\n+   * Return type or val.\n+   *\n+   * @return {String}\n+   * @api public\n+   */\n+\n+  toString() {\n+    return (undefined === this.val\n+      ? this.type\n+      : this.val).toString();\n+  };\n };\n",
					"match": false,
					"packageHash": "f8a5ecd759dfb94da42135fcdf90339ebd605b7868b4293575d9114178a4d529",
					"size": 913,
					"sourceHash": "e6de1f2ed3f26210ec011325d18719d0a7e366f28cb491122f6691b2df8cf6d0",
					"status": "content"
				},
				"lib/units.js": {
					"diff": "--- published/lib/units.js\n+++ rebuilt/lib/units.js\n@@ -6,10 +6,18 @@\n  */\n \n // units found in http://www.w3.org/TR/css3-values\n+// and in https://www.w3.org/TR/css-values-4\n \n module.exports = [\n     'em', 'ex', 'ch', 'rem' // relative lengths\n-  , 'vw', 'vh', 'vmin', 'vmax' // relative viewport-percentage lengths\n+\n+  , 'vw', 'svw', 'lvw', 'dvw' // relative viewport-percentage lengths (including de-facto standard)\n+  , 'vh', 'svh', 'lvh', 'dvh'\n+  , 'vi', 'svi', 'lvi', 'dvi'\n+  , 'vb', 'svb', 'lvb', 'dvb'\n+  , 'vmin', 'svmin', 'lvmin', 'dvmin'\n+  , 'vmax', 'svmax', 'lvmax', 'dvmax'\n+\n   , 'cm', 'mm', 'in', 'pt', 'pc', 'px' // absolute lengths\n   , 'deg', 'grad', 'rad', 'turn' // angles\n   , 's', 'ms' // times\n",
					"match": false,
					"packageHash": "b0ca4cf070d6bc7f90bb6ea3cb4ab959b82d3951ce718d7b267912f6e4026372",
					"size": 585,
					"sourceHash": "74cf6cc85d023f5d03ff4cd44604f4d2ee3ceb98283714418cc530334e3052d7",
					"status": "content"
				},
				"lib/utils.js": {
					"diff": "--- published/lib/utils.js\n+++ rebuilt/lib/utils.js\n@@ -13,6 +13,7 @@\n   , basename = require('path').basename\n   , relative = require('path').relative\n   , join = require('path').join\n+  , isAbsolute = require('path').isAbsolute\n   , glob = require('glob')\n   , fs = require('fs');\n \n@@ -24,9 +25,10 @@\n  * @api private\n  */\n \n-exports.absolute = function(path){\n-  // On Windows the path could start with a drive letter, i.e. a:\\\\ or two leading backslashes\n-  return path.substr(0, 2) == '\\\\\\\\' || '/' === path.charAt(0) || /^[a-z]:\\\\/i.test(path);\n+exports.absolute = isAbsolute || function(path){\n+  // On Windows the path could start with a drive letter, i.e. a:\\\\ or two leading backslashes.\n+  // Also on Windows, the path may have been normalized to forward slashes, so check for this too.\n+  return path.substr(0, 2) == '\\\\\\\\' || '/' === path.charAt(0) || /^[a-z]:[\\\\\\/]/i.test(path);\n };\n \n /**\n@@ -86,8 +88,8 @@\n \n   // Absolute\n   if (exports.absolute(path)) {\n-    if ((found = glob.sync(path)).length) {\n-      return found;\n+    if ((found = glob.sync(path, {windowsPathsNoEscape: true, posix: true})).length) {\n+      return found.sort();\n     }\n   }\n \n@@ -95,8 +97,8 @@\n   while (i--) {\n     lookup = join(paths[i], path);\n     if (ignore == lookup) continue;\n-    if ((found = glob.sync(lookup)).length) {\n-      return found;\n+    if ((found = glob.sync(lookup, {windowsPathsNoEscape: true, posix: true})).length) {\n+      return found.sort();\n     }\n   }\n };\n@@ -123,11 +125,11 @@\n   return found;\n \n   function lookupPackage(dir) {\n-    var package = exports.lookup(join(dir, 'package.json'), paths, filename);\n-    if (!package) {\n+    var pkg = exports.lookup(join(dir, 'package.json'), paths, filename);\n+    if (!pkg) {\n       return /\\.styl$/i.test(dir) ? exports.lookupIndex(dir, paths, filename) : lookupPackage(dir + '.styl');\n     }\n-    var main = require(relative(__dirname, package)).main;\n+    var main = require(relative(__dirname, pkg)).main;\n     if (main) {\n       found = exports.find(join(dir, main), paths, filename);\n     } else {\n@@ -178,9 +180,6 @@\n         : '');\n   }).join('\\n');\n \n-  // Don't show JS stack trace for Stylus errors\n-  if (err.fromStylus) err.stack = '';\n-\n   err.message = filename\n     + ':' + lineno\n     + ':' + column\n@@ -188,6 +187,9 @@\n     + '\\n\\n' + err.message + '\\n'\n     + (err.stylusStack ? err.stylusStack + '\\n' : '');\n \n+  // Don't show JS stack trace for Stylus errors\n+  if (err.fromStylus) err.stack = 'Error: ' + err.message;\n+\n   return err;\n };\n \n@@ -204,8 +206,8 @@\n   exports.assertPresent(node, param);\n   if (node.nodeName == type) return;\n   var actual = node.nodeName\n-    , msg = 'expected \"'\n-      + param + '\" to be a '\n+    , msg = 'expected '\n+      + (param ? '\"' + param + '\" to be a ' :  '')\n       + type + ', but got '\n       + actual + ':' + node;\n   throw new Error('TypeError: ' + msg);\n@@ -445,25 +447,27 @@\n  * @api private\n  */\n \n-var HIDDEN_SELECTOR_RX = /^\\s*\\/?\\$/\n-  , ROOT_SELECTOR_RX = /^\\//g\n-  , PARENT_SELECTOR_RX = /^&|([^\\\\])&/g\n-  , ESCAPED_PARENT_SELECTOR_RX = /\\\\&/g;\n",
					"match": false,
					"packageHash": "d53cc13f83d7302e499d7495ecf78a9f0c6067eed3b0f4fa17ff832d3635ba47",
					"size": 11544,
					"sourceHash": "22d35cc83fae5f1cd9cc1b170621352318cad2c45cb733d3d6dffe7e14cf4f3c",
					"status": "content"
				},
				"lib/visitor/compiler.js": {
					"diff": "--- published/lib/visitor/compiler.js\n+++ rebuilt/lib/visitor/compiler.js\n@@ -12,557 +12,576 @@\n   , utils = require('../utils')\n   , fs = require('fs');\n \n-/**\n- * Initialize a new `Compiler` with the given `root` Node\n- * and the following `options`.\n- *\n- * Options:\n- *\n- *   - `compress`  Compress the CSS output (default: false)\n- *\n- * @param {Node} root\n- * @api public\n- */\n-\n-var Compiler = module.exports = function Compiler(root, options) {\n-  options = options || {};\n-  this.compress = options.compress;\n-  this.firebug = options.firebug;\n-  this.linenos = options.linenos;\n-  this.spaces = options['indent spaces'] || 2;\n-  this.includeCSS = options['include css'];\n-  this.indents = 1;\n-  Visitor.call(this, root);\n-  this.stack = [];\n-};\n-\n-/**\n- * Inherit from `Visitor.prototype`.\n- */\n-\n-Compiler.prototype.__proto__ = Visitor.prototype;\n-\n-/**\n- * Compile to css, and return a string of CSS.\n- *\n- * @return {String}\n- * @api private\n- */\n-\n-Compiler.prototype.compile = function(){\n-  return this.visit(this.root);\n-};\n-\n-/**\n- * Output `str`\n- *\n- * @param {String} str\n- * @param {Node} node\n- * @return {String}\n- * @api private\n- */\n-\n-Compiler.prototype.out = function(str, node){\n-  return str;\n-};\n+module.exports = class Compiler extends Visitor {\n+  /**\n+   * Initialize a new `Compiler` with the given `root` Node\n+   * and the following `options`.\n+   *\n+   * Options:\n+   *\n+   *   - `compress`  Compress the CSS output (default: false)\n+   *\n+   * @param {Node} root\n+   * @api public\n+   */\n+\n+  constructor(root, options) {\n+    super(root);\n+    options = options || {};\n+    this.compress = options.compress;\n+    this.firebug = options.firebug;\n+    this.linenos = options.linenos;\n+    this.spaces = options['indent spaces'] || 2;\n+    this.indents = 1;\n+    this.stack = [];\n+  }\n+\n+  /**\n+   * Compile to css, and return a string of CSS.\n+   *\n+   * @return {String}\n+   * @api private\n+   */\n+\n+  compile() {\n+    return this.visit(this.root);\n+  };\n+\n+  /**\n+   * Output `str`\n+   *\n+   * @param {String} str\n+   * @param {Node} node\n+   * @return {String}\n",
					"match": false,
					"packageHash": "09c71670d964e35a4f6e2d8a6811f3f71c9b265b45e40fe129b2ac0a6b956e05",
					"size": 12322,
					"sourceHash": "03a75182976e4c621fb2bad663b3c6b2d2f833e44f61e841aec1b4dd9de2853d",
					"status": "content"
				},
				"lib/visitor/deps-resolver.js": {
					"diff": "--- published/lib/visitor/deps-resolver.js\n+++ rebuilt/lib/visitor/deps-resolver.js\n@@ -10,160 +10,158 @@\n   , dirname = require('path').dirname\n   , fs = require('fs');\n \n-/**\n- * Initialize a new `DepsResolver` with the given `root` Node\n- * and the `options`.\n- *\n- * @param {Node} root\n- * @param {Object} options\n- * @api private\n- */\n-\n-var DepsResolver = module.exports = function DepsResolver(root, options) {\n-  this.root = root;\n-  this.filename = options.filename;\n-  this.paths = options.paths || [];\n-  this.paths.push(dirname(options.filename || '.'));\n-  this.options = options;\n-  this.functions = {};\n-  this.deps = [];\n-};\n-\n-/**\n- * Inherit from `Visitor.prototype`.\n- */\n-\n-DepsResolver.prototype.__proto__ = Visitor.prototype;\n-\n-var visit = DepsResolver.prototype.visit;\n-\n-DepsResolver.prototype.visit = function(node) {\n-  switch (node.nodeName) {\n-    case 'root':\n-    case 'block':\n-    case 'expression':\n-      this.visitRoot(node);\n-      break;\n-    case 'group':\n-    case 'media':\n-    case 'atblock':\n-    case 'atrule':\n-    case 'keyframes':\n-    case 'each':\n-    case 'supports':\n-      this.visit(node.block);\n-      break;\n-    default:\n-      visit.call(this, node);\n+module.exports = class DepsResolver extends Visitor {\n+  /**\n+   * Initialize a new `DepsResolver` with the given `root` Node\n+   * and the `options`.\n+   *\n+   * @param {Node} root\n+   * @param {Object} options\n+   * @api private\n+   */\n+\n+  constructor(root, options) {\n+    super(root)\n+    this.filename = options.filename;\n+    this.paths = options.paths || [];\n+    this.paths.push(dirname(options.filename || '.'));\n+    this.options = options;\n+    this.functions = {};\n+    this.deps = [];\n   }\n-};\n \n-/**\n- * Visit Root.\n- */\n-\n-DepsResolver.prototype.visitRoot = function(block) {\n-  for (var i = 0, len = block.nodes.length; i < len; ++i) {\n-    this.visit(block.nodes[i]);\n-  }\n-};\n \n-/**\n- * Visit Ident.\n- */\n+  visit(node) {\n+    switch (node.nodeName) {\n+      case 'root':\n+      case 'block':\n+      case 'expression':\n+        this.visitRoot(node);\n+        break;\n+      case 'group':\n+      case 'media':\n+      case 'atblock':\n+      case 'atrule':\n+      case 'keyframes':\n+      case 'each':\n+      case 'supports':\n+        this.visit(node.block);\n",
					"match": false,
					"packageHash": "db530d4fbd17977574549e0adf7112399d35b6a1605a88afbfc85809ec0accad",
					"size": 3366,
					"sourceHash": "1a9f3596bbb5eb67594916d2427c354f914b67a14247b1571d478a6f4c9a95e2",
					"status": "content"
				},
				"lib/visitor/evaluator.js": {
					"diff": "--- published/lib/visitor/evaluator.js\n+++ rebuilt/lib/visitor/evaluator.js\n@@ -41,6 +41,15 @@\n     }\n   }\n \n+  // Avoid overflows from importing the same file over again\n+  if (~importStack.indexOf(file))\n+    throw new Error('import loop has been found');\n+\n+  var str = fs.readFileSync(file, 'utf8');\n+\n+  // shortcut for empty files\n+  if (!str.trim()) return nodes.null;\n+\n   // Expose imports\n   node.path = file;\n   node.dirname = dirname(file);\n@@ -49,17 +58,12 @@\n   node.mtime = stat.mtime;\n   this.paths.push(node.dirname);\n \n-  // Avoid overflows from importing the same file over again\n-  if (~importStack.indexOf(file))\n-    throw new Error('import loop has been found');\n-\n   if (this.options._imports) this.options._imports.push(node.clone());\n \n   // Parse the file\n   importStack.push(file);\n   nodes.filename = file;\n \n-  var str = fs.readFileSync(file, 'utf8');\n   if (literal) {\n     literal = new nodes.Literal(str.replace(/\\r\\n?/g, '\\n'));\n     literal.lineno = literal.column = 1;\n@@ -76,7 +80,7 @@\n     var line = parser.lexer.lineno\n       , column = parser.lexer.column;\n \n-    if (this.includeCSS && this.resolveURL) {\n+    if (literal && this.includeCSS && this.resolveURL) {\n       this.warn('ParseError: ' + file + ':' + line + ':' + column + '. This file included as-is');\n       return literal;\n     } else {\n@@ -94,1501 +98,1513 @@\n   block.scope = false;\n   var ret = this.visit(block);\n   importStack.pop();\n-  this.paths.pop();\n+  if (!this.resolveURL || this.resolveURL.nocheck) this.paths.pop();\n \n   return ret;\n }\n \n-/**\n- * Initialize a new `Evaluator` with the given `root` Node\n- * and the following `options`.\n- *\n- * Options:\n- *\n- *   - `compress`  Compress the css output, defaults to false\n- *   - `warn`  Warn the user of duplicate function definitions etc\n- *\n- * @param {Node} root\n- * @api private\n- */\n-\n-var Evaluator = module.exports = function Evaluator(root, options) {\n-  options = options || {};\n-  Visitor.call(this, root);\n-  this.stack = new Stack;\n-  this.imports = options.imports || [];\n-  this.functions = options.functions || {};\n-  this.globals = options.globals || {};\n-  this.paths = options.paths || [];\n-  this.prefix = options.prefix || '';\n-  this.filename = options.filename;\n-  this.includeCSS = options['include css'];\n-  this.resolveURL = options['resolve url'];\n-  this.paths.push(dirname(options.filename || '.'));\n-  this.stack.push(this.global = new Frame(root));\n-  this.warnings = options.warn;\n-  this.options = options;\n-  this.calling = []; // TODO: remove, use stack\n-  this.importStack = [];\n-  this.requireHistory = {};\n-  this.return = 0;\n-};\n-\n-/**\n- * Inherit from `Visitor.prototype`.\n- */\n-\n-Evaluator.prototype.__proto__ = Visitor.prototype;\n-\n-/**\n- * Proxy visit to expose node line numbers.\n- *\n- * @param {Node} node\n",
					"match": false,
					"packageHash": "a005ca95e9c702166260a18df58cfbaed38900d04b8d57b72d43999bf17a9849",
					"size": 35290,
					"sourceHash": "9c69db91fcb2b137a6bb10dfaeea56c59b381ad3c1ea4705680c84d314f413e5",
					"status": "content"
				},
				"lib/visitor/index.js": {
					"diff": "--- published/lib/visitor/index.js\n+++ rebuilt/lib/visitor/index.js\n@@ -5,27 +5,28 @@\n  * MIT Licensed\n  */\n \n-/**\n- * Initialize a new `Visitor` with the given `root` Node.\n- *\n- * @param {Node} root\n- * @api private\n- */\n+module.exports = class Visitor {\n+  /**\n+   * Initialize a new `Visitor` with the given `root` Node.\n+   *\n+   * @param {Node} root\n+   * @api private\n+   */\n \n-var Visitor = module.exports = function Visitor(root) {\n-  this.root = root;\n-};\n+  constructor(root) {\n+    this.root = root;\n+  }\n \n-/**\n- * Visit the given `node`.\n- *\n- * @param {Node|Array} node\n- * @api public\n- */\n+  /**\n+   * Visit the given `node`.\n+   *\n+   * @param {Node|Array} node\n+   * @api public\n+   */\n \n-Visitor.prototype.visit = function(node, fn){\n-  var method = 'visit' + node.constructor.name;\n-  if (this[method]) return this[method](node);\n-  return node;\n+  visit(node, fn) {\n+    var method = 'visit' + node.constructor.name;\n+    if (this[method]) return this[method](node);\n+    return node;\n+  };\n };\n-\n",
					"match": false,
					"packageHash": "4ae90620deb98420198b828a549181023fd8fb90f8cd2de4526e687f2fd6f2f8",
					"size": 530,
					"sourceHash": "07c1848b627306b2c032119e73088410389a9a80d3402a36719ae58fcf44b599",
					"status": "content"
				},
				"lib/visitor/normalizer.js": {
					"diff": "--- published/lib/visitor/normalizer.js\n+++ rebuilt/lib/visitor/normalizer.js\n@@ -13,412 +13,427 @@\n   , nodes = require('../nodes')\n   , utils = require('../utils');\n \n-/**\n- * Initialize a new `Normalizer` with the given `root` Node.\n- *\n- * This visitor implements the first stage of the duel-stage\n- * compiler, tasked with stripping the \"garbage\" from\n- * the evaluated nodes, ditching null rules, resolving\n- * ruleset selectors etc. This step performs the logic\n- * necessary to facilitate the \"@extend\" functionality,\n- * as these must be resolved _before_ buffering output.\n- *\n- * @param {Node} root\n- * @api public\n- */\n-\n-var Normalizer = module.exports = function Normalizer(root, options) {\n-  options = options || {};\n-  Visitor.call(this, root);\n-  this.hoist = options['hoist atrules'];\n-  this.stack = [];\n-  this.map = {};\n-  this.imports = [];\n-};\n-\n-/**\n- * Inherit from `Visitor.prototype`.\n- */\n-\n-Normalizer.prototype.__proto__ = Visitor.prototype;\n-\n-/**\n- * Normalize the node tree.\n- *\n- * @return {Node}\n- * @api private\n- */\n-\n-Normalizer.prototype.normalize = function(){\n-  var ret = this.visit(this.root);\n-\n-  if (this.hoist) {\n-    // hoist @import\n-    if (this.imports.length) ret.nodes = this.imports.concat(ret.nodes);\n-\n-    // hoist @charset\n-    if (this.charset) ret.nodes = [this.charset].concat(ret.nodes);\n+module.exports = class Normalizer extends Visitor {\n+  /**\n+   * Initialize a new `Normalizer` with the given `root` Node.\n+   *\n+   * This visitor implements the first stage of the duel-stage\n+   * compiler, tasked with stripping the \"garbage\" from\n+   * the evaluated nodes, ditching null rules, resolving\n+   * ruleset selectors etc. This step performs the logic\n+   * necessary to facilitate the \"@extend\" functionality,\n+   * as these must be resolved _before_ buffering output.\n+   *\n+   * @param {Node} root\n+   * @api public\n+   */\n+\n+  constructor(root, options) {\n+    super(root);\n+    options = options || {};\n+    this.hoist = options['hoist atrules'];\n+    this.stack = [];\n+    this.map = {};\n+    this.imports = [];\n   }\n \n-  return ret;\n-};\n-\n-/**\n- * Bubble up the given `node`.\n- *\n- * @param {Node} node\n- * @api private\n- */\n-\n-Normalizer.prototype.bubble = function(node){\n-  var props = []\n-    , other = []\n-    , self = this;\n-\n-  function filterProps(block) {\n-    block.nodes.forEach(function(node) {\n-      node = self.visit(node);\n+  /**\n+   * Normalize the node tree.\n+   *\n+   * @return {Node}\n+   * @api private\n+   */\n+\n",
					"match": false,
					"packageHash": "bfaff65f08ede159d1e3d122e7f68edb7da4767a325d61f01ba1e2f60eb01600",
					"size": 8939,
					"sourceHash": "adb2a725a4ff5a107715ecf6dde8697764d061a1295cb514d8ddb318ba2c2aff",
					"status": "content"
				},
				"lib/visitor/sourcemapper.js": {
					"diff": "--- published/lib/visitor/sourcemapper.js\n+++ rebuilt/lib/visitor/sourcemapper.js\n@@ -9,6 +9,7 @@\n  */\n \n var Compiler = require('./compiler')\n+  , Buffer = require('buffer').Buffer\n   , SourceMapGenerator = require('source-map').SourceMapGenerator\n   , basename = require('path').basename\n   , extname = require('path').extname\n@@ -18,172 +19,180 @@\n   , sep = require('path').sep\n   , fs = require('fs');\n \n-/**\n- * Initialize a new `SourceMapper` generator with the given `root` Node\n- * and the following `options`.\n- *\n- * @param {Node} root\n- * @api public\n- */\n-\n-var SourceMapper = module.exports = function SourceMapper(root, options){\n-  options = options || {};\n-  this.column = 1;\n-  this.lineno = 1;\n-  this.contents = {};\n-  this.filename = options.filename;\n-  this.dest = options.dest;\n-\n-  var sourcemap = options.sourcemap;\n-  this.basePath = sourcemap.basePath || '.';\n-  this.inline = sourcemap.inline;\n-  this.comment = sourcemap.comment;\n-  if (extname(this.dest) === '.css') {\n-    this.basename = basename(this.dest);\n-  } else {\n-    this.basename = basename(this.filename, extname(this.filename)) + '.css';\n-  }\n-\n-  this.map = new SourceMapGenerator({\n-    file: this.basename,\n-    sourceRoot: sourcemap.sourceRoot || null\n-  });\n-  Compiler.call(this, root, options);\n-};\n-\n-/**\n- * Inherit from `Compiler.prototype`.\n- */\n-\n-SourceMapper.prototype.__proto__ = Compiler.prototype;\n-\n-/**\n- * Generate and write source map.\n- *\n- * @return {String}\n- * @api private\n- */\n-\n-var compile = Compiler.prototype.compile;\n-SourceMapper.prototype.compile = function(){\n-  var css = compile.call(this)\n-    , out = this.basename + '.map'\n-    , url = this.normalizePath(this.dest\n-      ? join(this.dest, out)\n-      : join(dirname(this.filename), out))\n-    , map;\n-\n-  if (this.inline) {\n-    map = this.map.toString();\n-    url = 'data:application/json;charset=utf-8;base64,' + new Buffer(map).toString('base64');\n-  }\n-  if (this.inline || false !== this.comment)\n-    css += '/*# sourceMappingURL=' + url + ' */';\n-  return css;\n-};\n-\n-/**\n- * Add mapping information.\n- *\n- * @param {String} str\n- * @param {Node} node\n- * @return {String}\n- * @api private\n- */\n-\n-SourceMapper.prototype.out = function(str, node){\n-  if (node && node.lineno) {\n-    var filename = this.normalizePath(node.filename);\n-\n-    this.map.addMapping({\n-      original: {\n-        line: node.lineno,\n-        column: node.column - 1\n-      },\n-      generated: {\n-        line: this.lineno,\n-        column: this.column - 1\n-      },\n",
					"match": false,
					"packageHash": "95b7d46a2c321a1ad2446cd81a09f1effe99142ee73e83cc5772c03293220214",
					"size": 4241,
					"sourceHash": "1232db56db8a3bd4361fb4b270f461054b266c7279ffa5b8be077a43d19e7935",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"stylus\",\n   \"description\": \"Robust, expressive, and feature-rich CSS superset\",\n-  \"version\": \"0.52.0-alpha\",\n+  \"version\": \"0.64.0\",\n   \"author\": \"TJ Holowaychuk <tj@vision-media.ca>\",\n   \"keywords\": [\n     \"css\",\n@@ -13,33 +13,30 @@\n   ],\n   \"repository\": {\n     \"type\": \"git\",\n-    \"url\": \"git://github.com/stylus/stylus\"\n+    \"url\": \"git://github.com/stylus/stylus.git\"\n   },\n   \"main\": \"./index.js\",\n   \"browserify\": \"./lib/browserify.js\",\n   \"engines\": {\n-    \"node\": \"*\"\n+    \"node\": \">=16\"\n   },\n   \"bin\": {\n-    \"stylus\": \"./bin/stylus\"\n+    \"stylus\": \"bin/stylus\"\n   },\n   \"scripts\": {\n     \"prepublish\": \"npm prune\",\n-    \"test\": \"mocha test/ test/middleware/ --require should --bail --reporter dot\",\n-    \"test-cov\": \"mocha test/ test/middleware/ --require should --bail --reporter html-cov > coverage.html\"\n+    \"test\": \"mocha test/ test/middleware/ --require chai --bail --check-leaks --reporter dot\"\n   },\n   \"dependencies\": {\n-    \"css-parse\": \"1.7.x\",\n-    \"mkdirp\": \"0.3.x\",\n-    \"debug\": \"*\",\n-    \"sax\": \"0.5.x\",\n-    \"glob\": \"3.2.x\",\n-    \"source-map\": \"0.1.x\"\n+    \"@adobe/css-tools\": \"~4.3.3\",\n+    \"debug\": \"^4.3.2\",\n+    \"glob\": \"^10.4.5\",\n+    \"sax\": \"~1.4.1\",\n+    \"source-map\": \"^0.7.3\"\n   },\n   \"devDependencies\": {\n-    \"should\": \"2.x\",\n-    \"mocha\": \"*\",\n-    \"jscoverage\": \"0.3.8\"\n+    \"chai\": \"^4.3.6\",\n+    \"mocha\": \"^11.1.0\"\n   },\n   \"bugs\": {\n     \"url\": \"https://github.com/stylus/stylus/issues\"\n@@ -50,5 +47,6 @@\n     \"example\": \"examples\",\n     \"test\": \"test\"\n   },\n-  \"license\": \"MIT\"\n+  \"license\": \"MIT\",\n+  \"funding\": \"https://opencollective.com/stylus\"\n }\n",
					"match": false,
					"packageHash": "92756225f844ba12e52b2d5c0e22b851149e4c46659b77c47a2e72c6ab0afbae",
					"size": 1230,
					"sourceHash": "46a0f9150886681eb08c6146f1d6e1afc7a19fdb50e923cf9d1e31b9c12cd060",
					"status": "content"
				},
				"lib/functions/acos.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/add-property.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/adjust.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/alpha.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/asin.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/atan.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/base-convert.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/basename.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/blend.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/blue.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/clone.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/component.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/contrast.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/convert-angle.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/convert.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/current-media.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/define.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/dirname.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/error.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/extname.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/green.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/hsl.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/hsla.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/hue.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/image-size.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/json.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/length.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/lightness.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/list-separator.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/lookup.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/luminosity.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/match.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/math-prop.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/math.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/merge.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/operate.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/opposite-position.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/p.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/pathjoin.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/pop.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/prefix-classes.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/push.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/range.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/red.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/remove.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/replace.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/rgb.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/rgba.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/s.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/saturation.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/selector-exists.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/selector.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/selectors.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/shift.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/slice.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/split.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/substr.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/tan.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/trace.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/transparentify.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/type.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/unit.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/unquote.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/unshift.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/use.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/functions/warn.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/selector-parser.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 71,
				"matchingFiles": 5,
				"missingInPackage": 67,
				"missingInSource": 0,
				"score": 0.03496503496503497,
				"totalFiles": 143
			}
		}
	}
]
