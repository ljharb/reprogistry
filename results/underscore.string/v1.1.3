[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-02T08:55:18.400Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:2.15.11",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "underscore.string@1.1.3",
			"name": "underscore.string",
			"version": "1.1.3",
			"location": "https://registry.npmjs.org/underscore.string/-/underscore.string-1.1.3.tgz",
			"integrity": "sha512-81z1g8ly9RokjuclbkLhoypxHW0+yf0EpCUD1JrOsRvHwlXCQdK81m/6//W5D9i+CY9Zw60FH/JjeLEx4TrUNw==",
			"publishedAt": "2011-11-10T16:34:19.092Z",
			"publishedWith": {
				"node": "v0.6.0",
				"npm": "1.0.104"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/edtsech/underscore.string.git",
			"spec": "github:edtsech/underscore.string#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".gitignore": {
					"match": false,
					"packageHash": "e2eb93a61ffd7877ea5c751abcb3a618e8e2e9a2073a27f66d4114fe10819f86",
					"size": 9,
					"status": "missing-in-source"
				},
				".hgignore": {
					"match": false,
					"packageHash": "cfd6a8591ee12228bbf547a00a8152ecdd6f89a377c4802300c4c885e48b6785",
					"size": 65,
					"status": "missing-in-source"
				},
				"README.markdown": {
					"diff": "--- published/README.markdown\n+++ rebuilt/README.markdown\n@@ -1,11 +1,9 @@\n-# Underscore.string #\n+# Underscore.string [![Build Status](https://secure.travis-ci.org/epeli/underscore.string.png?branch=master)](http://travis-ci.org/epeli/underscore.string) #\n \n-Idea: Esa-Matti Suuronen (esa-matti aet suuronen dot org)\n \n-Authors: Esa-Matti Suuronen, Edward Tsech\n \n Javascript lacks complete string manipulation operations.\n-This an attempt to fill that cap. List of buildin methods can be found\n+This an attempt to fill that gap. List of build-in methods can be found\n for example from [Dive Into JavaScript][d].\n \n [d]: http://www.diveintojavascript.com/core-javascript-reference/the-string-object\n@@ -17,8 +15,16 @@\n \n [u]: http://documentcloud.github.com/underscore/\n \n-    _(\"   epeli  \").chain().trim().capitalize().value()\n-    => \"Epeli\"\n+```javascript\n+_(\"   epeli  \").chain().trim().capitalize().value()\n+=> \"Epeli\"\n+```\n+\n+## Download ##\n+\n+  * [Development version](https://raw.github.com/epeli/underscore.string/master/lib/underscore.string.js) *Uncompressed with Comments 18kb*\n+  * [Production version](https://github.com/epeli/underscore.string/raw/master/dist/underscore.string.min.js) *Minified 7kb*\n+\n \n ## Node.js installation ##\n \n@@ -28,119 +34,232 @@\n \n **Standalone usage**:\n \n-    var _s = require('undescore.string');\n+```javascript\n+var _s = require('underscore.string');\n+```\n \n **Integrate with Underscore.js**:\n \n-    var _  = require('underscore');\n-    _.mixin(require('underscore.string'));\n+```javascript\n+var _  = require('underscore');\n+\n+// Import Underscore.string to separate object, because there are conflict functions (include, reverse, contains)\n+_.str = require('underscore.string');\n+\n+// Mix in non-conflict functions to Underscore namespace if you want\n+_.mixin(_.str.exports());\n+\n+// All functions, include conflict, will be available through _.str object\n+_.str.include('Underscore.string', 'string'); // => true\n+```\n \n ## String Functions ##\n \n+For availability of functions in this way you need to mix in Underscore.string functions:\n+\n+```javascript\n+_.mixin(_.string.exports());\n+```\n+\n+otherwise functions from examples will be available through _.string or _.str objects:\n+\n+```javascript\n+_.str.capitalize('epeli')\n+=> \"Epeli\"\n+```\n+\n+**numberFormat** _.numberFormat(number, [ decimals=0, decimalSeparator='.', orderSeparator=','])\n+\n+Formats the numbers.\n+\n+```javascript\n+_.numberFormat(1000, 2)\n+=> \"1,000.00\"\n+\n+_.numberFormat(123456789.123, 5, '.', ',')\n+=> \"123,456,789.12300\"\n+```\n+\n+\n+**levenshtein** _.levenshtein(string1, string2)\n+\n+Calculates [Levenshtein distance][ld] between two strings.\n+[ld]: http://en.wikipedia.org/wiki/Levenshtein_distance\n+\n+```javascript\n+_.levenshtein('kitten', 'kittah')\n+=> 2\n+```\n+\n **capitalize** _.capitalize(string)\n",
					"match": false,
					"packageHash": "924be48b54583cfd2ed34296b994e735d2b05b01bd258e016b3f84340313f3ef",
					"size": 6841,
					"sourceHash": "f6b1b34069b998e72f7b7cc8a6932bf5332eab09f418150fb2e3e5a33a3adbc0",
					"status": "content"
				},
				"Rakefile": {
					"diff": "--- published/Rakefile\n+++ rebuilt/Rakefile\n@@ -1,8 +1,23 @@\n-require 'rubygems'\n-require 'closure-compiler'\n+# encoding: utf-8\n+task default: :test\n \n-desc 'Use the Closure Compiler to compress Underscore.string'\n+desc 'Use UglifyJS to compress Underscore.string'\n task :build do\n-  File.open('dist/underscore.string.min.js', 'w').write \\\n-    Closure::Compiler.new.compile(File.open('lib/underscore.string.js', 'r'))\n+  require 'uglifier'\n+  source = File.read('lib/underscore.string.js')\n+  compressed = Uglifier.compile(source, copyright: false)\n+  File.open('dist/underscore.string.min.js', 'w'){ |f| f.write compressed }\n+  compression_rate = compressed.length.to_f/source.length\n+  puts \"compressed dist/underscore.string.min.js: #{compressed.length}/#{source.length} #{(compression_rate * 100).round}%\"\n end\n+\n+desc 'Run tests'\n+task :test do\n+  puts \"Running underscore.string test suite.\"\n+  result1 = system %{phantomjs ./test/run-qunit.js \"test/test.html\"}\n+\n+  puts \"Running Underscore test suite.\"\n+  result2 = system %{phantomjs ./test/run-qunit.js \"test/test_underscore/index.html\"}\n+\n+  exit(result1 && result2 ? 0 : 1)\n+end\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "bfab543ca3f8ef67c281826ae1b7525606c81bd374934e01d9d704969152f0c8",
					"size": 264,
					"sourceHash": "90dd95e115fc19a147efc73f8134331928893a8ebe436aa45b69da8dc2289f93",
					"status": "content"
				},
				"dist/underscore.string.min.js": {
					"diff": "--- published/dist/underscore.string.min.js\n+++ rebuilt/dist/underscore.string.min.js\n@@ -1,8 +1 @@\n-(function(){function g(b){if(b)return e.escapeRegExp(b);return\"\\\\s\"}var h=String.prototype.trim,e={isBlank:function(b){return!!b.match(/^\\s*$/)},capitalize:function(b){return b.charAt(0).toUpperCase()+b.substring(1).toLowerCase()},chop:function(b,a){a=a||b.length;for(var c=[],f=0;f<b.length;)c.push(b.slice(f,f+a)),f+=a;return c},clean:function(b){return e.strip(b.replace(/\\s+/g,\" \"))},count:function(b,a){for(var c=0,f,d=0;d<b.length;)f=b.indexOf(a,d),f>=0&&c++,d=d+(f>=0?f:0)+a.length;return c},chars:function(b){return b.split(\"\")},\n-escapeHTML:function(b){return String(b||\"\").replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")},unescapeHTML:function(b){return String(b||\"\").replace(/&amp;/g,\"&\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\")},escapeRegExp:function(b){return String(b||\"\").replace(/([-.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},insert:function(b,a,c){b=b.split(\"\");b.splice(a,0,c);return b.join(\"\")},includes:function(b,a){return b.indexOf(a)!==-1},join:function(b){b=String(b);for(var a=\"\",c=1;c<arguments.length;c+=1)a+=\n-String(arguments[c]),c!==arguments.length-1&&(a+=b);return a},lines:function(b){return b.split(\"\\n\")},splice:function(b,a,c,f){b=b.split(\"\");b.splice(a,c,f);return b.join(\"\")},startsWith:function(b,a){return b.length>=a.length&&b.substring(0,a.length)===a},endsWith:function(b,a){return b.length>=a.length&&b.substring(b.length-a.length)===a},succ:function(b){var a=b.split(\"\");a.splice(b.length-1,1,String.fromCharCode(b.charCodeAt(b.length-1)+1));return a.join(\"\")},titleize:function(b){b=b.split(\" \");\n-for(var a,c=0;c<b.length;c++)a=b[c].split(\"\"),typeof a[0]!==\"undefined\"&&(a[0]=a[0].toUpperCase()),c+1===b.length?b[c]=a.join(\"\"):b[c]=a.join(\"\")+\" \";return b.join(\"\")},camelize:function(b){return e.trim(b).replace(/(\\-|_|\\s)+(.)?/g,function(a,b,f){return f?f.toUpperCase():\"\"})},underscored:function(b){return e.trim(b).replace(/([a-z\\d])([A-Z]+)/g,\"$1_$2\").replace(/\\-|\\s+/g,\"_\").toLowerCase()},dasherize:function(b){return e.trim(b).replace(/([a-z\\d])([A-Z]+)/g,\"$1-$2\").replace(/^([A-Z]+)/,\"-$1\").replace(/\\_|\\s+/g,\n-\"-\").toLowerCase()},trim:function(b,a){if(!a&&h)return h.call(b);a=g(a);return b.replace(RegExp(\"^[\"+a+\"]+|[\"+a+\"]+$\",\"g\"),\"\")},ltrim:function(b,a){a=g(a);return b.replace(RegExp(\"^[\"+a+\"]+\",\"g\"),\"\")},rtrim:function(b,a){a=g(a);return b.replace(RegExp(\"[\"+a+\"]+$\",\"g\"),\"\")},truncate:function(b,a,c){return b.slice(0,a)+(c||\"...\")},words:function(b,a){return b.split(a||\" \")},sprintf:function(){for(var b=0,a,c=arguments[b++],f=[],d,e,g;c;){if(d=/^[^\\x25]+/.exec(c))f.push(d[0]);else if(d=/^\\x25{2}/.exec(c))f.push(\"%\");\n-else if(d=/^\\x25(?:(\\d+)\\$)?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(c)){if((a=arguments[d[1]||b++])==null||a==void 0)throw\"Too few arguments.\";if(/[^s]/.test(d[7])&&typeof a!=\"number\")throw\"Expecting number but found \"+typeof a;switch(d[7]){case \"b\":a=a.toString(2);break;case \"c\":a=String.fromCharCode(a);break;case \"d\":a=parseInt(a);break;case \"e\":a=d[6]?a.toExponential(d[6]):a.toExponential();break;case \"f\":a=d[6]?parseFloat(a).toFixed(d[6]):parseFloat(a);break;case \"o\":a=a.toString(8);\n-break;case \"s\":a=(a=String(a))&&d[6]?a.substring(0,d[6]):a;break;case \"u\":a=Math.abs(a);break;case \"x\":a=a.toString(16);break;case \"X\":a=a.toString(16).toUpperCase()}a=/[def]/.test(d[7])&&d[2]&&a>=0?\"+\"+a:a;e=d[3]?d[3]==\"0\"?\"0\":d[3].charAt(1):\" \";g=d[5]-String(a).length-0;if(d[5]){for(var h=[];g>0;h[--g]=e);e=h.join(\"\")}else e=\"\";f.push(\"\"+(d[4]?a+e:e+a))}else throw\"Huh ?!\";c=c.substring(d[0].length)}return f.join(\"\")}};e.strip=e.trim;e.lstrip=e.ltrim;e.rstrip=e.rtrim;typeof window===\"undefined\"&&\n-typeof module!==\"undefined\"?module.exports=e:typeof this._!==\"undefined\"?this._.mixin(e):this._=e})();\n+!function(e,t){\"use strict\";var n=t.prototype.trim,r=t.prototype.trimRight,i=t.prototype.trimLeft,s=function(e){return e*1||0},o=function(e,t){if(t<1)return\"\";var n=\"\";while(t>0)t&1&&(n+=e),t>>=1,e+=e;return n},u=[].slice,a=function(e){return e==null?\"\\\\s\":e.source?e.source:\"[\"+p.escapeRegExp(e)+\"]\"},f={lt:\"<\",gt:\">\",quot:'\"',amp:\"&\",apos:\"'\"},l={};for(var c in f)l[f[c]]=c;l[\"'\"]=\"#39\";var h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=o,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,i){var s=1,o=r.length,u=\"\",a,f=[],l,c,p,d,v,m;for(l=0;l<o;l++){u=e(r[l]);if(u===\"string\")f.push(r[l]);else if(u===\"array\"){p=r[l];if(p[2]){a=i[s];for(c=0;c<p[2].length;c++){if(!a.hasOwnProperty(p[2][c]))throw new Error(h('[_.sprintf] property \"%s\" does not exist',p[2][c]));a=a[p[2][c]]}}else p[1]?a=i[p[1]]:a=i[s++];if(/[^s]/.test(p[8])&&e(a)!=\"number\")throw new Error(h(\"[_.sprintf] expecting number but found %s\",e(a)));switch(p[8]){case\"b\":a=a.toString(2);break;case\"c\":a=t.fromCharCode(a);break;case\"d\":a=parseInt(a,10);break;case\"e\":a=p[7]?a.toExponential(p[7]):a.toExponential();break;case\"f\":a=p[7]?parseFloat(a).toFixed(p[7]):parseFloat(a);break;case\"o\":a=a.toString(8);break;case\"s\":a=(a=t(a))&&p[7]?a.substring(0,p[7]):a;break;case\"u\":a=Math.abs(a);break;case\"x\":a=a.toString(16);break;case\"X\":a=a.toString(16).toUpperCase()}a=/[def]/.test(p[8])&&p[3]&&a>=0?\"+\"+a:a,v=p[4]?p[4]==\"0\"?\"0\":p[4].charAt(1):\" \",m=p[6]-t(a).length,d=p[6]?n(v,m):\"\",f.push(p[5]?a+d:d+a)}}return f.join(\"\")},r.cache={},r.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\\x25{2}/.exec(t))!==null)r.push(\"%\");else{if((n=/^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(t))===null)throw new Error(\"[_.sprintf] huh?\");if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\\d]*)/i.exec(o))===null)throw new Error(\"[_.sprintf] huh?\");s.push(u[1]);while((o=o.substring(u[0].length))!==\"\")if((u=/^\\.([a-z_][a-z_\\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\\[(\\d+)\\]/.exec(o))===null)throw new Error(\"[_.sprintf] huh?\");s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw new Error(\"[_.sprintf] mixing positional and named placeholders is not (yet) supported\");r.push(n)}t=t.substring(n[0].length)}return r},r}(),p={VERSION:\"2.3.0\",isBlank:function(e){return e==null&&(e=\"\"),/^\\s*$/.test(e)},stripTags:function(e){return e==null?\"\":t(e).replace(/<\\/?[^>]+>/g,\"\")},capitalize:function(e){return e=e==null?\"\":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return e==null?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(\".{1,\"+n+\"}\",\"g\")):[e])},clean:function(e){return p.strip(e).replace(/\\s+/g,\" \")},count:function(e,n){if(e==null||n==null)return 0;e=t(e),n=t(n);var r=0,i=0,s=n.length;for(;;){i=e.indexOf(n,i);if(i===-1)break;r++,i+=s}return r},chars:function(e){return e==null?[]:t(e).split(\"\")},swapCase:function(e){return e==null?\"\":t(e).replace(/\\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return e==null?\"\":t(e).replace(/[&<>\"']/g,function(e){return\"&\"+l[e]+\";\"})},unescapeHTML:function(e){return e==null?\"\":t(e).replace(/\\&([^;]+);/g,function(e,n){var r;return n in f?f[n]:(r=n.match(/^#x([\\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return e==null?\"\":t(e).replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},splice:function(e,t,n,r){var i=p.chars(e);return i.splice(~~t,~~n,r),i.join(\"\")},insert:function(e,t,n){return p.splice(e,t,0,n)},include:function(e,n){return n===\"\"?!0:e==null?!1:t(e).indexOf(n)!==-1},join:function(){var e=u.call(arguments),t=e.shift();return t==null&&(t=\"\"),e.join(t)},lines:function(e){return e==null?[]:t(e).split(\"\\n\")},reverse:function(e){return p.chars(e).reverse().join(\"\")},startsWith:function(e,n){return n===\"\"?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return n===\"\"?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return e==null?\"\":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return e==null?\"\":t(e).replace(/(?:^|\\s)\\S/g,function(e){return e.toUpperCase()})},camelize:function(e){return p.trim(e).replace(/[-_\\s]+(.)?/g,function(e,t){return t.toUpperCase()})},underscored:function(e){return p.trim(e).replace(/([a-z\\d])([A-Z]+)/g,\"$1_$2\").replace(/[-\\s]+/g,\"_\").toLowerCase()},dasherize:function(e){return p.trim(e).replace(/([A-Z])/g,\"-$1\").replace(/[-_\\s]+/g,\"-\").toLowerCase()},classify:function(e){return p.titleize(t(e).replace(/_/g,\" \")).replace(/\\s/g,\"\")},humanize:function(e){return p.capitalize(p.underscored(e).replace(/_id$/,\"\").replace(/_/g,\" \"))},trim:function(e,r){return e==null?\"\":!r&&n?n.call(e):(r=a(r),t(e).replace(new RegExp(\"^\"+r+\"+|\"+r+\"+$\",\"g\"),\"\"))},ltrim:function(e,n){return e==null?\"\":!n&&i?i.call(e):(n=a(n),t(e).replace(new RegExp(\"^\"+n+\"+\"),\"\"))},rtrim:function(e,n){return e==null?\"\":!n&&r?r.call(e):(n=a(n),t(e).replace(new RegExp(n+\"+$\"),\"\"))},truncate:function(e,n,r){return e==null?\"\":(e=t(e),r=r||\"...\",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,n,r){if(e==null)return\"\";e=t(e),n=~~n,r=r!=null?t(r):\"...\";if(e.length<=n)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?\"A\":\" \"},s=e.slice(0,n+1).replace(/.(?=\\W*\\w*$)/g,i);return s.slice(s.length-2).match(/\\w\\w/)?s=s.replace(/\\s*\\S+$/,\"\"):s=p.rtrim(s.slice(0,s.length-1)),(s+r).length>e.length?e:e.slice(0,s.length)+r},words:function(e,t){return p.isBlank(e)?[]:p.trim(e,t).split(t||/\\s+/)},pad:function(e,n,r,i){e=e==null?\"\":t(e),n=~~n;var s=0;r?r.length>1&&(r=r.charAt(0)):r=\" \";switch(i){case\"right\":return s=n-e.length,e+o(r,s);case\"both\":return s=n-e.length,o(r,Math.ceil(s/2))+e+o(r,Math.floor(s/2));default:return s=n-e.length,o(r,s)+e}},lpad:function(e,t,n){return p.pad(e,t,n)},rpad:function(e,t,n){return p.pad(e,t,n,\"right\")},lrpad:function(e,t,n){return p.pad(e,t,n,\"both\")},sprintf:h,vsprintf:function(e,t){return t.unshift(e),h.apply(null,t)},toNumber:function(e,n){if(e==null||e==\"\")return 0;e=t(e);var r=s(s(e).toFixed(~~n));return r===0&&!e.match(/^0+$/)?Number.NaN:r},numberFormat:function(e,t,n,r){if(isNaN(e)||e==null)return\"\";e=e.toFixed(~~t),r=typeof r==\"string\"?r:\",\";var i=e.split(\".\"),s=i[0],o=i[1]?(n||\".\")+i[1]:\"\";return s.replace(/(\\d)(?=(?:\\d{3})+$)/g,\"$1\"+r)+o},strRight:function(e,n){if(e==null)return\"\";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(e==null)return\"\";e=t(e),n=n!=null?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(e==null)return\"\";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(e==null)return\"\";e+=\"\",t=t!=null?\"\"+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||\", \",n=n||\" and \";var i=e.slice(),s=i.pop();return e.length>2&&r&&(n=p.rtrim(t)+n),i.length?i.join(t)+n+s:s},toSentenceSerial:function(){var e=u.call(arguments);return e[3]=!0,p.toSentence.apply(p,e)},slugify:function(e){if(e==null)return\"\";var n=\"ąàáäâãåæćęèéëêìíïîłńòóöôõøùúüûñçżź\",r=\"aaaaaaaaceeeeeiiiilnoooooouuuunczz\",i=new RegExp(a(n),\"g\");return e=t(e).toLowerCase().replace(i,function(e){var t=n.indexOf(e);return r.charAt(t)||\"-\"}),p.dasherize(e.replace(/[^\\w\\s-]/g,\"\"))},surround:function(e,t){return[t,e,t].join(\"\")},quote:function(e){return p.surround(e,'\"')},exports:function(){var e={};for(var t in this){if(!this.hasOwnProperty(t)||t.match(/^(?:include|contains|reverse)$/))continue;e[t]=this[t]}return e},repeat:function(e,n,r){if(e==null)return\"\";n=~~n;if(r==null)return o(t(e),n);for(var i=[];n>0;i[--n]=e);return i.join(r)},levenshtein:function(e,n){if(e==null&&n==null)return 0;if(e==null)return t(n).length;if(n==null)return t(e).length;e=t(e),n=t(n);var r=[],i,s;for(var o=0;o<=n.length;o++)for(var u=0;u<=e.length;u++)o&&u?e.charAt(u-1)===n.charAt(o-1)?s=i:s=Math.min(r[u],r[u-1],i)+1:s=o+u,i=r[u],r[u]=s;return r.pop()}};p.strip=p.trim,p.lstrip=p.ltrim,p.rstrip=p.rtrim,p.center=p.lrpad,p.rjust=p.lpad,p.ljust=p.rpad,p.contains=p.include,p.q=p.quote,typeof exports!=\"undefined\"&&(typeof module!=\"undefined\"&&module.exports&&(module.exports=p),exports._s=p),typeof define==\"function\"&&define.amd&&define(\"underscore.string\",[],function(){return p}),e._=e._||{},e._.string=e._.str=p}(this,String);\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "0c5be6a147ff35c8bec6e97963e0572a3685f17245d7add69833be77e13c0e59",
					"size": 3703,
					"sourceHash": "8ca42e4a5d3f58711a402a56b553df246873f978f64a337e3dac55f0b00b5c74",
					"status": "content"
				},
				"lib/underscore.string.js": {
					"diff": "--- published/lib/underscore.string.js\n+++ rebuilt/lib/underscore.string.js\n@@ -1,256 +1,644 @@\n-// Underscore.string\n-// (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>\n-// Underscore.strings is freely distributable under the terms of the MIT license.\n-// Documentation: https://github.com/edtsech/underscore.string\n-// Some code is borrowed from MooTools and Alexandru Marasteanu.\n-\n-// Version 1.1.3\n-\n-(function(){\n-    // ------------------------- Baseline setup ---------------------------------\n-\n-    // Establish the root object, \"window\" in the browser, or \"global\" on the server.\n-    var root = this;\n-\n-    var nativeTrim = String.prototype.trim;\n-\n-    function str_repeat(i, m) {\n-        for (var o = []; m > 0; o[--m] = i);\n-        return o.join('');\n+//  Underscore.string\n+//  (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>\n+//  Underscore.string is freely distributable under the terms of the MIT license.\n+//  Documentation: https://github.com/epeli/underscore.string\n+//  Some code is borrowed from MooTools and Alexandru Marasteanu.\n+//  Version '2.3.0'\n+\n+!function(root, String){\n+  'use strict';\n+\n+  // Defining helper functions.\n+\n+  var nativeTrim = String.prototype.trim;\n+  var nativeTrimRight = String.prototype.trimRight;\n+  var nativeTrimLeft = String.prototype.trimLeft;\n+\n+  var parseNumber = function(source) { return source * 1 || 0; };\n+\n+  var strRepeat = function(str, qty){\n+    if (qty < 1) return '';\n+    var result = '';\n+    while (qty > 0) {\n+      if (qty & 1) result += str;\n+      qty >>= 1, str += str;\n     }\n+    return result;\n+  };\n \n-    function defaultToWhiteSpace(characters){\n-        if (characters) {\n-            return _s.escapeRegExp(characters);\n-        }\n-        return '\\\\s';\n-    }\n+  var slice = [].slice;\n \n-    var _s = {\n-\n-        isBlank: function(str){\n-            return !!str.match(/^\\s*$/);\n-        },\n-\n-        capitalize : function(str) {\n-            return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n-        },\n-\n-        chop: function(str, step){\n-            step = step || str.length;\n-            var arr = [];\n-            for (var i = 0; i < str.length;) {\n-                arr.push(str.slice(i,i + step));\n-                i = i + step;\n-            }\n-            return arr;\n-        },\n-\n-        clean: function(str){\n-            return _s.strip(str.replace(/\\s+/g, ' '));\n-        },\n-\n-        count: function(str, substr){\n-            var count = 0, index;\n-            for (var i=0; i < str.length;) {\n-                index = str.indexOf(substr, i);\n-                index >= 0 && count++;\n-                i = i + (index >= 0 ? index : 0) + substr.length;\n-            }\n-            return count;\n-        },\n-\n-        chars: function(str) {\n-            return str.split('');\n-        },\n-\n-        escapeHTML: function(str) {\n-            return String(str||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n-        },\n-\n",
					"match": false,
					"packageHash": "7f98b792bb3002172ae101cb8db1852e1c55f46d92437ba922ece8f6d089b96c",
					"size": 8670,
					"sourceHash": "d43598a053a6e4bc1fa6c5747d9d987f8964ca50ecc7bbbe263b5751d5775bb8",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,13 +1,17 @@\n {\n   \"name\": \"underscore.string\",\n-  \"version\": \"1.1.3\",\n+  \"version\": \"2.3.0\",\n   \"description\": \"String manipulation extensions for Underscore.js javascript library.\",\n-  \"homepage\": \"https://github.com/edtsech/underscore.string\",\n+  \"homepage\": \"http://epeli.github.com/underscore.string/\",\n   \"contributors\": [\n     \"Esa-Matti Suuronen <esa-matti@suuronen.org> (http://esa-matti.suuronen.org/)\",\n     \"Edward Tsech <edtsech@gmail.com>\",\n+    \"Pavel Pravosud <pavel@pravosud.com> (<https://github.com/rwz>)\",\n     \"Sasha Koss <kossnocorp@gmail.com> (http://koss.nocorp.me/)\",\n-    \"Vladimir Dronnikov <dronnikov@gmail.com>\"\n+    \"Vladimir Dronnikov <dronnikov@gmail.com>\",\n+    \"Pete Kruckenberg (<https://github.com/kruckenb>)\",\n+    \"Paul Chavard <paul@chavard.net> (<http://tchak.net>)\",\n+    \"Ed Finkler <coj@funkatron.com> (<http://funkatron.com>)\"\n   ],\n   \"keywords\": [\n     \"underscore\",\n@@ -20,15 +24,12 @@\n   \"engines\": {\n     \"node\": \"*\"\n   },\n-  \"dependencies\": {\n-    \"underscore\": \"1.1.4\"\n-  },\n   \"repository\": {\n     \"type\": \"git\",\n-    \"url\": \"https://github.com/edtsech/underscore.string.git\"\n+    \"url\": \"https://github.com/epeli/underscore.string.git\"\n   },\n   \"bugs\": {\n-    \"url\": \"https://github.com/edtsech/underscore.string/issues\"\n+    \"url\": \"https://github.com/epeli/underscore.string/issues\"\n   },\n   \"licenses\" : [\n     { \"type\" : \"MIT\" }\n",
					"match": false,
					"packageHash": "441271e7154d8fed500da49e906541d58338c2561df656dfa9cc6a590333a9e5",
					"size": 919,
					"sourceHash": "0866c788044f3342f5b13b942c8d312f2ac71eccd8869ff2d3ffd8a639567893",
					"status": "content"
				},
				"test/speed.js": {
					"diff": "--- published/test/speed.js\n+++ rebuilt/test/speed.js\n@@ -1,5 +1,15 @@\n (function() {\n \n+  JSLitmus.test('levenshtein', function() {\n+    return [\n+      _.levenshtein('pineapple', 'potato'),\n+      _.levenshtein('seven', 'eight'),\n+      _.levenshtein('the very same string', 'the very same string'),\n+      _.levenshtein('very very very long string', 'something completely different')\n+    ];\n+  });\n+\n+\n   JSLitmus.test('trimNoNative', function() {\n     return _.trim(\"  foobar  \", \" \");\n   });\n@@ -60,26 +70,79 @@\n   });\n \n   JSLitmus.test('titleize', function(){\n-    return _('the titleize string method').titleize()\n+    return _('the titleize string method').titleize();\n   });\n \n   JSLitmus.test('truncate', function(){\n     return _('Hello world').truncate(5);\n   });\n \n+  JSLitmus.test('prune', function(){\n+    return _('Hello world').prune(5);\n+  });\n+  \n   JSLitmus.test('isBlank', function(){\n     return _('').isBlank();\n   });\n \n   JSLitmus.test('escapeHTML', function(){\n-    _('<div>Blah blah blah</div>').escapeHTML()\n+    _('<div>Blah blah blah</div>').escapeHTML();\n   });\n \n   JSLitmus.test('unescapeHTML', function(){\n-    _('&lt;div&gt;Blah blah blah&lt;/div&gt;').unescapeHTML()\n+    _('&lt;div&gt;Blah blah blah&lt;/div&gt;').unescapeHTML();\n   });\n \n   JSLitmus.test('reverse', function(){\n     _('Hello World').reverse();\n   });\n+\n+  JSLitmus.test('pad default', function(){\n+    _('foo').pad(12);\n+  });\n+\n+  JSLitmus.test('pad hash left', function(){\n+    _('foo').pad(12, '#');\n+  });\n+\n+  JSLitmus.test('pad hash right', function(){\n+    _('foo').pad(12, '#', 'right');\n+  });\n+\n+  JSLitmus.test('pad hash both', function(){\n+    _('foo').pad(12, '#', 'both');\n+  });\n+\n+  JSLitmus.test('pad hash both longPad', function(){\n+    _('foo').pad(12, 'f00f00f00', 'both');\n+  });\n+\n+  JSLitmus.test('toNumber', function(){\n+      _('10.232323').toNumber(2);\n+  });\n+\n+  JSLitmus.test('strRight', function(){\n+    _('aaa_bbb_ccc').strRight('_');\n+  });\n+\n+  JSLitmus.test('strRightBack', function(){\n+    _('aaa_bbb_ccc').strRightBack('_');\n+  });\n+\n+  JSLitmus.test('strLeft', function(){\n+    _('aaa_bbb_ccc').strLeft('_');\n+  });\n+\n+  JSLitmus.test('strLeftBack', function(){\n+    _('aaa_bbb_ccc').strLeftBack('_');\n+  });\n+  \n+  JSLitmus.test('join', function(){\n+    _('separator').join(1, 2, 3, 4, 5, 6, 7, 8, 'foo', 'bar', 'lol', 'wut');\n+  });\n+\n+  JSLitmus.test('slugify', function(){\n+    _(\"Un éléphant à l'orée du bois\").slugify();\n+  });\n+\n",
					"match": false,
					"packageHash": "f15febea28b8696d21b6cb42999be225795830f7edebd3ff5e1501ca11507019",
					"size": 1862,
					"sourceHash": "fd7e5e9d5fd25f9545be7ed9e99f2a8aa47041701e56f18c086447985fd6554b",
					"status": "content"
				},
				"test/strings.js": {
					"diff": "--- published/test/strings.js\n+++ rebuilt/test/strings.js\n@@ -1,170 +1,355 @@\n $(document).ready(function() {\n \n-  module(\"String extensions\");\n+  // Include Underscore.string methods to Underscore namespace\n+  _.mixin(_.str.exports());\n \n-  test(\"Strings: basic\", function() {\n-    equals(_.trim(\"   epeli  \"), \"epeli\", \"Basic\");\n-    equals(_.strip(\"   epeli  \"), \"epeli\", \"Aliases\");\n-    equals(_(\"   epeli  \").trim(), \"epeli\", \"Object-Oriented style\");\n-    equals(_(\"   epeli  \").chain().trim().capitalize().value(), \"Epeli\", \"Can chain\");\n-  });\n-\n-  test(\"Strings: capitalize\", function() {\n-    equals(_(\"fabio\").capitalize(), \"Fabio\", 'First letter is upper case');\n-    equals(_.capitalize(\"fabio\"), \"Fabio\", 'First letter is upper case');\n-  });\n+  module('String extensions');\n \n-  test(\"Strings: join\", function() {\n-    equals(_.join(\"\", \"foo\", \"bar\"), \"foobar\", 'basic join');\n-    equals(_.join(\"\", 1, \"foo\", 2), \"1foo2\", 'join numbers and strings');\n-    equals(_.join(\" \",\"foo\", \"bar\"), \"foo bar\", 'join with spaces');\n-    equals(_.join(\"1\", \"2\", \"2\"), \"212\", 'join number strings');\n-    equals(_.join(1, 2, 2), \"212\", 'join numbers');\n-    equals(_(\" \").join(\"foo\", \"bar\"), \"foo bar\", 'join object oriented');\n+  test('Strings: naturalSort', function() {\n+    var arr =  ['foo2', 'foo1', 'foo10', 'foo30', 'foo100', 'foo10bar'],\n+      sorted = ['foo1', 'foo2', 'foo10', 'foo10bar', 'foo30', 'foo100'];\n+    deepEqual(arr.sort(_.naturalCmp), sorted);\n+  });\n+\n+  test('Strings: trim', function() {\n+    equal(_.trim(123), '123', 'Non string');\n+    equal(_(' foo').trim(), 'foo');\n+    equal(_('foo ').trim(), 'foo');\n+    equal(_(' foo ').trim(), 'foo');\n+    equal(_('    foo     ').trim(), 'foo');\n+    equal(_('    foo     ').trim(' '), 'foo', 'Manually set whitespace');\n+    equal(_('\\t    foo \\t  ').trim(/\\s/), 'foo', 'Manually set RegExp /\\\\s+/');\n+\n+    equal(_('ffoo').trim('f'), 'oo');\n+    equal(_('ooff').trim('f'), 'oo');\n+    equal(_('ffooff').trim('f'), 'oo');\n+\n+\n+    equal(_('_-foobar-_').trim('_-'), 'foobar');\n+\n+    equal(_('http://foo/').trim('/'), 'http://foo');\n+    equal(_('c:\\\\').trim('\\\\'), 'c:');\n+\n+    equal(_(123).trim(), '123');\n+    equal(_(123).trim(3), '12');\n+    equal(_('').trim(), '', 'Trim empty string should return empty string');\n+    equal(_(null).trim(), '', 'Trim null should return empty string');\n+    equal(_(undefined).trim(), '', 'Trim undefined should return empty string');\n+  });\n+\n+  test('String: levenshtein', function() {\n+    equal(_.levenshtein('Godfather', 'Godfather'), 0);\n+    equal(_.levenshtein('Godfather', 'Godfathe'), 1);\n+    equal(_.levenshtein('Godfather', 'odfather'), 1);\n+    equal(_.levenshtein('Godfather', 'Gdfthr'), 3);\n+    equal(_.levenshtein('seven', 'eight'), 5);\n+    equal(_.levenshtein('123', 123), 0);\n+    equal(_.levenshtein(321, '321'), 0);\n+    equal(_.levenshtein('lol', null), 3);\n+    equal(_.levenshtein('lol'), 3);\n+    equal(_.levenshtein(null, 'lol'), 3);\n+    equal(_.levenshtein(undefined, 'lol'), 3);\n+    equal(_.levenshtein(), 0);\n+  });\n+\n+  test('Strings: ltrim', function() {\n+    equal(_(' foo').ltrim(), 'foo');\n+    equal(_('    foo').ltrim(), 'foo');\n+    equal(_('foo ').ltrim(), 'foo ');\n+    equal(_(' foo ').ltrim(), 'foo ');\n+    equal(_('').ltrim(), '', 'ltrim empty string should return empty string');\n+    equal(_(null).ltrim(), '', 'ltrim null should return empty string');\n+    equal(_(undefined).ltrim(), '', 'ltrim undefined should return empty string');\n+\n+    equal(_('ffoo').ltrim('f'), 'oo');\n+    equal(_('ooff').ltrim('f'), 'ooff');\n+    equal(_('ffooff').ltrim('f'), 'ooff');\n+\n+    equal(_('_-foobar-_').ltrim('_-'), 'foobar-_');\n+\n+    equal(_(123).ltrim(1), '23');\n+  });\n+\n+  test('Strings: rtrim', function() {\n+    equal(_('http://foo/').rtrim('/'), 'http://foo', 'clean trailing slash');\n+    equal(_(' foo').rtrim(), ' foo');\n+    equal(_('foo ').rtrim(), 'foo');\n+    equal(_('foo     ').rtrim(), 'foo');\n+    equal(_('foo  bar     ').rtrim(), 'foo  bar');\n",
					"match": false,
					"packageHash": "ab71e3ad87f133b97dbc0ada9004517fb5f9fc717c597ac7aa2bef2aed39e07d",
					"size": 7676,
					"sourceHash": "aa7e20db8d19b6b6ab1a997fb8bafd1b3f6aad60ca57a9cef137040a8ca04d93",
					"status": "content"
				},
				"test/test.html": {
					"diff": "--- published/test/test.html\n+++ rebuilt/test/test.html\n@@ -1,16 +1,16 @@\n <!DOCTYPE HTML>\n <html>\n <head>\n+  <meta charset=\"utf-8\">\n   <title>Underscore.strings Test Suite</title>\n-  <link rel=\"stylesheet\" href=\"https://github.com/jquery/qunit/raw/master/qunit/qunit.css\" type=\"text/css\" media=\"screen\" />\n-  <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"></script>\n-  <script type=\"text/javascript\" src=\"https://github.com/jquery/qunit/raw/master/qunit/qunit.js\"></script>\n-  <script type=\"text/javascript\" src=\"http://www.broofa.com/Tools/JSLitmus/JSLitmus.js\"></script>\n+  <link rel=\"stylesheet\" href=\"test_underscore/vendor/qunit.css\" type=\"text/css\" media=\"screen\" />\n+  <script type=\"text/javascript\" src=\"test_underscore/vendor/jquery.js\"></script>\n+  <script type=\"text/javascript\" src=\"test_underscore/vendor/qunit.js\"></script>\n+  <script type=\"text/javascript\" src=\"test_underscore/vendor/jslitmus.js\"></script>\n   <script type=\"text/javascript\" src=\"underscore.js\"></script>\n   <script type=\"text/javascript\" src=\"../lib/underscore.string.js\"></script>\n   <script type=\"text/javascript\" src=\"strings.js\"></script>\n   <script type=\"text/javascript\" src=\"speed.js\"></script>\n-\n </head>\n <body>\n   <h1 id=\"qunit-header\">Underscore.string Test Suite</h1>\n",
					"match": false,
					"packageHash": "86c292440443fd17e05d7d63c50f8e9b59909543a566e15013e8be3af368653e",
					"size": 1437,
					"sourceHash": "39e8d42d14a623ccd7308d1a922ad52bd65c5bd539827ce4cd5069a4721b7288",
					"status": "content"
				},
				"test/test_underscore/arrays.js": {
					"diff": "--- published/test/test_underscore/arrays.js\n+++ rebuilt/test/test_underscore/arrays.js\n@@ -1,124 +1,200 @@\n $(document).ready(function() {\n \n-  module(\"Array-only functions (last, compact, uniq, and so on...)\");\n+  module(\"Arrays\");\n \n-  test(\"arrays: first\", function() {\n-    equals(_.first([1,2,3]), 1, 'can pull out the first element of an array');\n-    equals(_([1, 2, 3]).first(), 1, 'can perform OO-style \"first()\"');\n-    equals(_.first([1,2,3], 0).join(', '), \"\", 'can pass an index to first');\n-    equals(_.first([1,2,3], 2).join(', '), '1, 2', 'can pass an index to first');\n+  test(\"first\", function() {\n+    equal(_.first([1,2,3]), 1, 'can pull out the first element of an array');\n+    equal(_([1, 2, 3]).first(), 1, 'can perform OO-style \"first()\"');\n+    equal(_.first([1,2,3], 0).join(', '), \"\", 'can pass an index to first');\n+    equal(_.first([1,2,3], 2).join(', '), '1, 2', 'can pass an index to first');\n+    equal(_.first([1,2,3], 5).join(', '), '1, 2, 3', 'can pass an index to first');\n     var result = (function(){ return _.first(arguments); })(4, 3, 2, 1);\n-    equals(result, 4, 'works on an arguments object.');\n+    equal(result, 4, 'works on an arguments object.');\n     result = _.map([[1,2,3],[1,2,3]], _.first);\n-    equals(result.join(','), '1,1', 'works well with _.map');\n+    equal(result.join(','), '1,1', 'works well with _.map');\n+    result = (function() { return _.take([1,2,3], 2); })();\n+    equal(result.join(','), '1,2', 'aliased as take');\n+\n+    equal(_.first(null), undefined, 'handles nulls');\n   });\n \n-  test(\"arrays: rest\", function() {\n+  test(\"rest\", function() {\n     var numbers = [1, 2, 3, 4];\n-    equals(_.rest(numbers).join(\", \"), \"2, 3, 4\", 'working rest()');\n-    equals(_.rest(numbers, 0).join(\", \"), \"1, 2, 3, 4\", 'working rest(0)');\n-    equals(_.rest(numbers, 2).join(', '), '3, 4', 'rest can take an index');\n+    equal(_.rest(numbers).join(\", \"), \"2, 3, 4\", 'working rest()');\n+    equal(_.rest(numbers, 0).join(\", \"), \"1, 2, 3, 4\", 'working rest(0)');\n+    equal(_.rest(numbers, 2).join(', '), '3, 4', 'rest can take an index');\n     var result = (function(){ return _(arguments).tail(); })(1, 2, 3, 4);\n-    equals(result.join(', '), '2, 3, 4', 'aliased as tail and works on arguments object');\n+    equal(result.join(', '), '2, 3, 4', 'aliased as tail and works on arguments object');\n     result = _.map([[1,2,3],[1,2,3]], _.rest);\n-    equals(_.flatten(result).join(','), '2,3,2,3', 'works well with _.map');\n-  });\n-\n-  test(\"arrays: last\", function() {\n-    equals(_.last([1,2,3]), 3, 'can pull out the last element of an array');\n+    equal(_.flatten(result).join(','), '2,3,2,3', 'works well with _.map');\n+    result = (function(){ return _(arguments).drop(); })(1, 2, 3, 4);\n+    equal(result.join(', '), '2, 3, 4', 'aliased as drop and works on arguments object');\n+  });\n+\n+  test(\"initial\", function() {\n+    equal(_.initial([1,2,3,4,5]).join(\", \"), \"1, 2, 3, 4\", 'working initial()');\n+    equal(_.initial([1,2,3,4],2).join(\", \"), \"1, 2\", 'initial can take an index');\n+    var result = (function(){ return _(arguments).initial(); })(1, 2, 3, 4);\n+    equal(result.join(\", \"), \"1, 2, 3\", 'initial works on arguments object');\n+    result = _.map([[1,2,3],[1,2,3]], _.initial);\n+    equal(_.flatten(result).join(','), '1,2,1,2', 'initial works with _.map');\n+  });\n+\n+  test(\"last\", function() {\n+    equal(_.last([1,2,3]), 3, 'can pull out the last element of an array');\n+    equal(_.last([1,2,3], 0).join(', '), \"\", 'can pass an index to last');\n+    equal(_.last([1,2,3], 2).join(', '), '2, 3', 'can pass an index to last');\n+    equal(_.last([1,2,3], 5).join(', '), '1, 2, 3', 'can pass an index to last');\n     var result = (function(){ return _(arguments).last(); })(1, 2, 3, 4);\n-    equals(result, 4, 'works on an arguments object');\n+    equal(result, 4, 'works on an arguments object');\n+    result = _.map([[1,2,3],[1,2,3]], _.last);\n+    equal(result.join(','), '3,3', 'works well with _.map');\n+\n+    equal(_.last(null), undefined, 'handles nulls');\n   });\n \n-  test(\"arrays: compact\", function() {\n-    equals(_.compact([0, 1, false, 2, false, 3]).length, 3, 'can trim out all falsy values');\n+  test(\"compact\", function() {\n+    equal(_.compact([0, 1, false, 2, false, 3]).length, 3, 'can trim out all falsy values');\n     var result = (function(){ return _(arguments).compact().length; })(0, 1, false, 2, false, 3);\n-    equals(result, 3, 'works on an arguments object');\n+    equal(result, 3, 'works on an arguments object');\n   });\n \n-  test(\"arrays: flatten\", function() {\n-    var list = [1, [2], [3, [[[4]]]]];\n-    equals(_.flatten(list).join(', '), '1, 2, 3, 4', 'can flatten nested arrays');\n-    var result = (function(){ return _.flatten(arguments); })(1, [2], [3, [[[4]]]]);\n-    equals(result.join(', '), '1, 2, 3, 4', 'works on an arguments object');\n+  test(\"flatten\", function() {\n+    if (window.JSON) {\n+      var list = [1, [2], [3, [[[4]]]]];\n+      equal(JSON.stringify(_.flatten(list)), '[1,2,3,4]', 'can flatten nested arrays');\n+      equal(JSON.stringify(_.flatten(list, true)), '[1,2,3,[[[4]]]]', 'can shallowly flatten nested arrays');\n+      var result = (function(){ return _.flatten(arguments); })(1, [2], [3, [[[4]]]]);\n+      equal(JSON.stringify(result), '[1,2,3,4]', 'works on an arguments object');\n+    }\n   });\n",
					"match": false,
					"packageHash": "6ae12399f4cbfb1f2610fffcbd81b3507282c25984a1c46707954b340c7845bf",
					"size": 6506,
					"sourceHash": "40b78ac277480229ebf32ed121e3ce9b2f91dede7948f8d501797bd91e367aef",
					"status": "content"
				},
				"test/test_underscore/chaining.js": {
					"diff": "--- published/test/test_underscore/chaining.js\n+++ rebuilt/test/test_underscore/chaining.js\n@@ -1,8 +1,8 @@\n $(document).ready(function() {\n \n-  module(\"Underscore chaining.\");\n+  module(\"Chaining\");\n \n-  test(\"chaining: map/flatten/reduce\", function() {\n+  test(\"map/flatten/reduce\", function() {\n     var lyrics = [\n       \"I'm a lumberjack and I'm okay\",\n       \"I sleep all night and I work all day\",\n@@ -20,7 +20,7 @@\n     ok(counts['a'] == 16 && counts['e'] == 10, 'counted all the letters in the song');\n   });\n \n-  test(\"chaining: select/reject/sortBy\", function() {\n+  test(\"select/reject/sortBy\", function() {\n     var numbers = [1,2,3,4,5,6,7,8,9,10];\n     numbers = _(numbers).chain().select(function(n) {\n       return n % 2 == 0;\n@@ -29,10 +29,22 @@\n     }).sortBy(function(n) {\n       return -n;\n     }).value();\n-    equals(numbers.join(', '), \"10, 6, 2\", \"filtered and reversed the numbers\");\n+    equal(numbers.join(', '), \"10, 6, 2\", \"filtered and reversed the numbers\");\n   });\n \n-  test(\"chaining: reverse/concat/unshift/pop/map\", function() {\n+  test(\"select/reject/sortBy in functional style\", function() {\n+    var numbers = [1,2,3,4,5,6,7,8,9,10];\n+    numbers = _.chain(numbers).select(function(n) {\n+      return n % 2 == 0;\n+    }).reject(function(n) {\n+      return n % 4 == 0;\n+    }).sortBy(function(n) {\n+      return -n;\n+    }).value();\n+    equal(numbers.join(', '), \"10, 6, 2\", \"filtered and reversed the numbers\");\n+  });\n+\n+  test(\"reverse/concat/unshift/pop/map\", function() {\n     var numbers = [1,2,3,4,5];\n     numbers = _(numbers).chain()\n       .reverse()\n@@ -41,7 +53,7 @@\n       .pop()\n       .map(function(n){ return n * 2; })\n       .value();\n-    equals(numbers.join(', '), \"34, 10, 8, 6, 4, 2, 10, 10\", 'can chain together array functions.');\n+    equal(numbers.join(', '), \"34, 10, 8, 6, 4, 2, 10, 10\", 'can chain together array functions.');\n   });\n \n });\n",
					"match": false,
					"packageHash": "171ad27c2123beb3d8f2be026308650e1b2a97887304938848a59d8e2986f353",
					"size": 1394,
					"sourceHash": "e641802bac11fdca881d7191faf35ed7a702e408af5e42582fe46cc4e6563c0b",
					"status": "content"
				},
				"test/test_underscore/collections.js": {
					"diff": "--- published/test/test_underscore/collections.js\n+++ rebuilt/test/test_underscore/collections.js\n@@ -1,52 +1,56 @@\n $(document).ready(function() {\n \n-  module(\"Collection functions (each, any, select, and so on...)\");\n+  module(\"Collections\");\n \n-  test(\"collections: each\", function() {\n+  test(\"each\", function() {\n     _.each([1, 2, 3], function(num, i) {\n-      equals(num, i + 1, 'each iterators provide value and iteration count');\n+      equal(num, i + 1, 'each iterators provide value and iteration count');\n     });\n \n     var answers = [];\n     _.each([1, 2, 3], function(num){ answers.push(num * this.multiplier);}, {multiplier : 5});\n-    equals(answers.join(', '), '5, 10, 15', 'context object property accessed');\n+    equal(answers.join(', '), '5, 10, 15', 'context object property accessed');\n \n     answers = [];\n     _.forEach([1, 2, 3], function(num){ answers.push(num); });\n-    equals(answers.join(', '), '1, 2, 3', 'aliased as \"forEach\"');\n+    equal(answers.join(', '), '1, 2, 3', 'aliased as \"forEach\"');\n \n     answers = [];\n     var obj = {one : 1, two : 2, three : 3};\n     obj.constructor.prototype.four = 4;\n     _.each(obj, function(value, key){ answers.push(key); });\n-    equals(answers.join(\", \"), 'one, two, three', 'iterating over objects works, and ignores the object prototype.');\n+    equal(answers.join(\", \"), 'one, two, three', 'iterating over objects works, and ignores the object prototype.');\n     delete obj.constructor.prototype.four;\n \n     answer = null;\n     _.each([1, 2, 3], function(num, index, arr){ if (_.include(arr, num)) answer = true; });\n     ok(answer, 'can reference the original collection from inside the iterator');\n \n-    answers = [];\n-    _.each({range : 1, speed : 2, length : 3}, function(v){ answers.push(v); });\n-    ok(answers.join(', '), '1, 2, 3', 'can iterate over objects with numeric length properties');\n-\n     answers = 0;\n     _.each(null, function(){ ++answers; });\n-    equals(answers, 0, 'handles a null properly');\n+    equal(answers, 0, 'handles a null properly');\n   });\n \n-  test('collections: map', function() {\n+  test('map', function() {\n     var doubled = _.map([1, 2, 3], function(num){ return num * 2; });\n-    equals(doubled.join(', '), '2, 4, 6', 'doubled numbers');\n+    equal(doubled.join(', '), '2, 4, 6', 'doubled numbers');\n+\n+    doubled = _.collect([1, 2, 3], function(num){ return num * 2; });\n+    equal(doubled.join(', '), '2, 4, 6', 'aliased as \"collect\"');\n \n     var tripled = _.map([1, 2, 3], function(num){ return num * this.multiplier; }, {multiplier : 3});\n-    equals(tripled.join(', '), '3, 6, 9', 'tripled numbers with context');\n+    equal(tripled.join(', '), '3, 6, 9', 'tripled numbers with context');\n \n     var doubled = _([1, 2, 3]).map(function(num){ return num * 2; });\n-    equals(doubled.join(', '), '2, 4, 6', 'OO-style doubled numbers');\n+    equal(doubled.join(', '), '2, 4, 6', 'OO-style doubled numbers');\n+\n+    if (document.querySelectorAll) {\n+      var ids = _.map(document.querySelectorAll('#map-test *'), function(n){ return n.id; });\n+      deepEqual(ids, ['id1', 'id2'], 'Can use collection methods on NodeLists.');\n+    }\n \n-    var ids = _.map(document.body.childNodes, function(n){ return n.id; });\n-    ok(_.include(ids, 'qunit-header'), 'can use collection methods on NodeLists');\n+    var ids = _.map($('#map-test').children(), function(n){ return n.id; });\n+    deepEqual(ids, ['id1', 'id2'], 'Can use collection methods on jQuery Array-likes.');\n \n     var ids = _.map(document.images, function(n){ return n.id; });\n     ok(ids[0] == 'chart_image', 'can use collection methods on HTMLCollections');\n@@ -55,22 +59,22 @@\n     ok(_.isArray(ifnull) && ifnull.length === 0, 'handles a null properly');\n   });\n \n-  test('collections: reduce', function() {\n+  test('reduce', function() {\n     var sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num; }, 0);\n-    equals(sum, 6, 'can sum up an array');\n+    equal(sum, 6, 'can sum up an array');\n \n     var context = {multiplier : 3};\n     sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num * this.multiplier; }, 0, context);\n-    equals(sum, 18, 'can reduce with a context object');\n+    equal(sum, 18, 'can reduce with a context object');\n \n     sum = _.inject([1, 2, 3], function(sum, num){ return sum + num; }, 0);\n-    equals(sum, 6, 'aliased as \"inject\"');\n+    equal(sum, 6, 'aliased as \"inject\"');\n \n     sum = _([1, 2, 3]).reduce(function(sum, num){ return sum + num; }, 0);\n-    equals(sum, 6, 'OO-style reduce');\n+    equal(sum, 6, 'OO-style reduce');\n \n     var sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num; });\n",
					"match": false,
					"packageHash": "7a23037eca36aa41e7f7c0ccb4d80856edfbd9031ebe5462671833a14ec392e0",
					"size": 8050,
					"sourceHash": "1901b4fba5ff1e02f6d6fa97728ffb046cec20bae1d003cb5311588b3a00419e",
					"status": "content"
				},
				"test/test_underscore/functions.js": {
					"diff": "--- published/test/test_underscore/functions.js\n+++ rebuilt/test/test_underscore/functions.js\n@@ -1,28 +1,44 @@\n $(document).ready(function() {\n \n-  module(\"Function functions (bind, bindAll, and so on...)\");\n+  module(\"Functions\");\n \n-  test(\"functions: bind\", function() {\n+  test(\"bind\", function() {\n     var context = {name : 'moe'};\n     var func = function(arg) { return \"name: \" + (this.name || arg); };\n     var bound = _.bind(func, context);\n-    equals(bound(), 'name: moe', 'can bind a function to a context');\n+    equal(bound(), 'name: moe', 'can bind a function to a context');\n \n     bound = _(func).bind(context);\n-    equals(bound(), 'name: moe', 'can do OO-style binding');\n+    equal(bound(), 'name: moe', 'can do OO-style binding');\n \n     bound = _.bind(func, null, 'curly');\n-    equals(bound(), 'name: curly', 'can bind without specifying a context');\n+    equal(bound(), 'name: curly', 'can bind without specifying a context');\n \n     func = function(salutation, name) { return salutation + ': ' + name; };\n     func = _.bind(func, this, 'hello');\n-    equals(func('moe'), 'hello: moe', 'the function was partially applied in advance');\n+    equal(func('moe'), 'hello: moe', 'the function was partially applied in advance');\n \n     var func = _.bind(func, this, 'curly');\n-    equals(func(), 'hello: curly', 'the function was completely applied in advance');\n+    equal(func(), 'hello: curly', 'the function was completely applied in advance');\n+\n+    var func = function(salutation, firstname, lastname) { return salutation + ': ' + firstname + ' ' + lastname; };\n+    func = _.bind(func, this, 'hello', 'moe', 'curly');\n+    equal(func(), 'hello: moe curly', 'the function was partially applied in advance and can accept multiple arguments');\n+\n+    func = function(context, message) { equal(this, context, message); };\n+    _.bind(func, 0, 0, 'can bind a function to `0`')();\n+    _.bind(func, '', '', 'can bind a function to an empty string')();\n+    _.bind(func, false, false, 'can bind a function to `false`')();\n+\n+    // These tests are only meaningful when using a browser without a native bind function\n+    // To test this with a modern browser, set underscore's nativeBind to undefined\n+    var F = function () { return this; };\n+    var Boundf = _.bind(F, {hello: \"moe curly\"});\n+    equal(new Boundf().hello, undefined, \"function should not be bound to the context, to comply with ECMAScript 5\");\n+    equal(Boundf().hello, \"moe curly\", \"When called without the new operator, it's OK to be bound to the context\");\n   });\n \n-  test(\"functions: bindAll\", function() {\n+  test(\"bindAll\", function() {\n     var curly = {name : 'curly'}, moe = {\n       name    : 'moe',\n       getName : function() { return 'name: ' + this.name; },\n@@ -31,8 +47,8 @@\n     curly.getName = moe.getName;\n     _.bindAll(moe, 'getName', 'sayHi');\n     curly.sayHi = moe.sayHi;\n-    equals(curly.getName(), 'name: curly', 'unbound function is bound to current object');\n-    equals(curly.sayHi(), 'hi: moe', 'bound function is still bound to original object');\n+    equal(curly.getName(), 'name: curly', 'unbound function is bound to current object');\n+    equal(curly.sayHi(), 'hi: moe', 'bound function is still bound to original object');\n \n     curly = {name : 'curly'};\n     moe = {\n@@ -42,51 +58,112 @@\n     };\n     _.bindAll(moe);\n     curly.sayHi = moe.sayHi;\n-    equals(curly.sayHi(), 'hi: moe', 'calling bindAll with no arguments binds all functions to the object');\n+    equal(curly.sayHi(), 'hi: moe', 'calling bindAll with no arguments binds all functions to the object');\n   });\n \n-  test(\"functions: memoize\", function() {\n+  test(\"memoize\", function() {\n     var fib = function(n) {\n       return n < 2 ? n : fib(n - 1) + fib(n - 2);\n     };\n     var fastFib = _.memoize(fib);\n-    equals(fib(10), 55, 'a memoized version of fibonacci produces identical results');\n-    equals(fastFib(10), 55, 'a memoized version of fibonacci produces identical results');\n+    equal(fib(10), 55, 'a memoized version of fibonacci produces identical results');\n+    equal(fastFib(10), 55, 'a memoized version of fibonacci produces identical results');\n \n     var o = function(str) {\n       return str;\n     };\n     var fastO = _.memoize(o);\n-    equals(o('toString'), 'toString', 'checks hasOwnProperty');\n-    equals(fastO('toString'), 'toString', 'checks hasOwnProperty');\n+    equal(o('toString'), 'toString', 'checks hasOwnProperty');\n+    equal(fastO('toString'), 'toString', 'checks hasOwnProperty');\n   });\n \n-  asyncTest(\"functions: delay\", 2, function() {\n+  asyncTest(\"delay\", 2, function() {\n     var delayed = false;\n     _.delay(function(){ delayed = true; }, 100);\n-    _.delay(function(){ ok(!delayed, \"didn't delay the function quite yet\"); }, 50);\n",
					"match": false,
					"packageHash": "f5dabc8502dd72e84576bf1f897f665793e27bef746a868f91ab0a6bb5ac0e94",
					"size": 4714,
					"sourceHash": "ec4f359973fd4f6d98cd35783de1a7a91fcf33282c90ec7856da0401f8634c4d",
					"status": "content"
				},
				"test/test_underscore/objects.js": {
					"diff": "--- published/test/test_underscore/objects.js\n+++ rebuilt/test/test_underscore/objects.js\n@@ -1,77 +1,358 @@\n $(document).ready(function() {\n \n-  module(\"Object functions (values, extend, isEqual, and so on...)\");\n+  module(\"Objects\");\n \n-  test(\"objects: keys\", function() {\n-    equals(_.keys({one : 1, two : 2}).join(', '), 'one, two', 'can extract the keys from an object');\n+  test(\"keys\", function() {\n+    equal(_.keys({one : 1, two : 2}).join(', '), 'one, two', 'can extract the keys from an object');\n+    // the test above is not safe because it relies on for-in enumeration order\n+    var a = []; a[1] = 0;\n+    equal(_.keys(a).join(', '), '1', 'is not fooled by sparse arrays; see issue #95');\n+    raises(function() { _.keys(null); }, TypeError, 'throws an error for `null` values');\n+    raises(function() { _.keys(void 0); }, TypeError, 'throws an error for `undefined` values');\n+    raises(function() { _.keys(1); }, TypeError, 'throws an error for number primitives');\n+    raises(function() { _.keys('a'); }, TypeError, 'throws an error for string primitives');\n+    raises(function() { _.keys(true); }, TypeError, 'throws an error for boolean primitives');\n   });\n \n-  test(\"objects: values\", function() {\n-    equals(_.values({one : 1, two : 2}).join(', '), '1, 2', 'can extract the values from an object');\n+  test(\"values\", function() {\n+    equal(_.values({one: 1, two: 2}).join(', '), '1, 2', 'can extract the values from an object');\n+    equal(_.values({one: 1, two: 2, length: 3}).join(', '), '1, 2, 3', '... even when one of them is \"length\"');\n   });\n \n-  test(\"objects: functions\", function() {\n+  test(\"pairs\", function() {\n+    deepEqual(_.pairs({one: 1, two: 2}), [['one', 1], ['two', 2]], 'can convert an object into pairs');\n+    deepEqual(_.pairs({one: 1, two: 2, length: 3}), [['one', 1], ['two', 2], ['length', 3]], '... even when one of them is \"length\"');\n+  });\n+\n+  test(\"invert\", function() {\n+    var obj = {first: 'Moe', second: 'Larry', third: 'Curly'};\n+    equal(_.keys(_.invert(obj)).join(' '), 'Moe Larry Curly', 'can invert an object');\n+    ok(_.isEqual(_.invert(_.invert(obj)), obj), 'two inverts gets you back where you started');\n+\n+    var obj = {length: 3};\n+    ok(_.invert(obj)['3'] == 'length', 'can invert an object with \"length\"')\n+  });\n+\n+  test(\"functions\", function() {\n     var obj = {a : 'dash', b : _.map, c : (/yo/), d : _.reduce};\n     ok(_.isEqual(['b', 'd'], _.functions(obj)), 'can grab the function names of any passed-in object');\n+\n+    var Animal = function(){};\n+    Animal.prototype.run = function(){};\n+    equal(_.functions(new Animal).join(''), 'run', 'also looks up functions on the prototype');\n   });\n \n-  test(\"objects: extend\", function() {\n+  test(\"extend\", function() {\n     var result;\n-    equals(_.extend({}, {a:'b'}).a, 'b', 'can extend an object with the attributes of another');\n-    equals(_.extend({a:'x'}, {a:'b'}).a, 'b', 'properties in source override destination');\n-    equals(_.extend({x:'x'}, {a:'b'}).x, 'x', 'properties not in source dont get overriden');\n+    equal(_.extend({}, {a:'b'}).a, 'b', 'can extend an object with the attributes of another');\n+    equal(_.extend({a:'x'}, {a:'b'}).a, 'b', 'properties in source override destination');\n+    equal(_.extend({x:'x'}, {a:'b'}).x, 'x', 'properties not in source dont get overriden');\n     result = _.extend({x:'x'}, {a:'a'}, {b:'b'});\n     ok(_.isEqual(result, {x:'x', a:'a', b:'b'}), 'can extend from multiple source objects');\n     result = _.extend({x:'x'}, {a:'a', x:2}, {a:'b'});\n     ok(_.isEqual(result, {x:2, a:'b'}), 'extending from multiple source objects last property trumps');\n+    result = _.extend({}, {a: void 0, b: null});\n+    equal(_.keys(result).join(''), 'ab', 'extend does not copy undefined values');\n+  });\n+\n+  test(\"pick\", function() {\n+    var result;\n+    result = _.pick({a:1, b:2, c:3}, 'a', 'c');\n+    ok(_.isEqual(result, {a:1, c:3}), 'can restrict properties to those named');\n+    result = _.pick({a:1, b:2, c:3}, ['b', 'c']);\n+    ok(_.isEqual(result, {b:2, c:3}), 'can restrict properties to those named in an array');\n+    result = _.pick({a:1, b:2, c:3}, ['a'], 'b');\n+    ok(_.isEqual(result, {a:1, b:2}), 'can restrict properties to those named in mixed args');\n+\n+    var Obj = function(){};\n+    Obj.prototype = {a: 1, b: 2, c: 3};\n+    ok(_.isEqual(_.pick(new Obj, 'a', 'c'), {a:1, c: 3}), 'include prototype props');\n   });\n \n-  test(\"objects: defaults\", function() {\n+  test(\"omit\", function() {\n+    var result;\n+    result = _.omit({a:1, b:2, c:3}, 'b');\n+    ok(_.isEqual(result, {a:1, c:3}), 'can omit a single named property');\n+    result = _.omit({a:1, b:2, c:3}, 'a', 'c');\n+    ok(_.isEqual(result, {b:2}), 'can omit several named properties');\n+    result = _.omit({a:1, b:2, c:3}, ['b', 'c']);\n+    ok(_.isEqual(result, {a:1}), 'can omit properties named in an array');\n+\n+    var Obj = function(){};\n+    Obj.prototype = {a: 1, b: 2, c: 3};\n+    ok(_.isEqual(_.omit(new Obj, 'b'), {a:1, c: 3}), 'include prototype props');\n+  });\n+\n+  test(\"defaults\", function() {\n",
					"match": false,
					"packageHash": "cf91abe39fd19df438041c35ca0114060c14f4d73d81c80306bdb1d8f5d08e4d",
					"size": 9749,
					"sourceHash": "4c78c2ecb03f1324831d58fbac14fce07d3402016b8d3aa577f47e015cf4f00f",
					"status": "content"
				},
				"test/test_underscore/speed.js": {
					"diff": "--- published/test/test_underscore/speed.js\n+++ rebuilt/test/test_underscore/speed.js\n@@ -4,6 +4,7 @@\n   for (var i=0; i<1000; i++) numbers.push(i);\n   var objects = _.map(numbers, function(n){ return {num : n}; });\n   var randomized = _.sortBy(numbers, function(){ return Math.random(); });\n+  var deep = _.map(_.range(100), function() { return _.range(1000); });\n \n   JSLitmus.test('_.each()', function() {\n     var timesTwo = [];\n@@ -59,12 +60,16 @@\n     return _.values(objects);\n   });\n \n-  JSLitmus.test('_.intersect()', function() {\n-    return _.intersect(numbers, randomized);\n+  JSLitmus.test('_.intersection()', function() {\n+    return _.intersection(numbers, randomized);\n   });\n \n   JSLitmus.test('_.range()', function() {\n     return _.range(1000);\n   });\n \n-})();\n\\ No newline at end of file\n+  JSLitmus.test('_.flatten()', function() {\n+    return _.flatten(deep);\n+  });\n+\n+})();\n",
					"match": false,
					"packageHash": "57fb0464784e2def75d30a711027611801fa6983abe2d6d77d7fa25bf2f86c99",
					"size": 1722,
					"sourceHash": "e66f9148d12c0c8d3843fcfdba343a434a16820e11ef3726479fa16c953c910f",
					"status": "content"
				},
				"test/test_underscore/temp.js": {
					"match": false,
					"packageHash": "b64915ffc2ee93abf08c97561d99f917f42ce62da87faf7304e3d3463d526040",
					"size": 636,
					"status": "missing-in-source"
				},
				"test/test_underscore/temp_tests.html": {
					"match": false,
					"packageHash": "f73a525b27311478bd9729b3bbecf577ab4d53370265175861ec7b76c9e159c2",
					"size": 669,
					"status": "missing-in-source"
				},
				"test/test_underscore/test.html": {
					"match": false,
					"packageHash": "0006695a640c8ee029686090f8644f35ef1c3578ee8fb76b32a15018f294d6d8",
					"size": 1848,
					"status": "missing-in-source"
				},
				"test/test_underscore/utility.js": {
					"diff": "--- published/test/test_underscore/utility.js\n+++ rebuilt/test/test_underscore/utility.js\n@@ -1,27 +1,37 @@\n $(document).ready(function() {\n \n-  module(\"Utility functions (uniqueId, template)\");\n+  var templateSettings;\n \n-  test(\"utility: noConflict\", function() {\n-    var underscore = _.noConflict();\n-    ok(underscore.isUndefined(_), \"The '_' variable has been returned to its previous state.\");\n-    var intersection = underscore.intersect([-1, 0, 1, 2], [1, 2, 3, 4]);\n-    equals(intersection.join(', '), '1, 2', 'but the intersection function still works');\n-    window._ = underscore;\n+  module(\"Utility\", {\n+\n+    setup: function() {\n+      templateSettings = _.clone(_.templateSettings);\n+    },\n+\n+    teardown: function() {\n+      _.templateSettings = templateSettings;\n+    }\n+\n+  });\n+\n+  test(\"#750 - Return _ instance.\", 2, function() {\n+    var instance = _([]);\n+    ok(_(instance) === instance);\n+    ok(new _(instance) === instance);\n   });\n \n-  test(\"utility: identity\", function() {\n+  test(\"identity\", function() {\n     var moe = {name : 'moe'};\n-    equals(_.identity(moe), moe, 'moe is the same as his identity');\n+    equal(_.identity(moe), moe, 'moe is the same as his identity');\n   });\n \n-  test(\"utility: uniqueId\", function() {\n+  test(\"uniqueId\", function() {\n     var ids = [], i = 0;\n     while(i++ < 100) ids.push(_.uniqueId());\n-    equals(_.uniq(ids).length, ids.length, 'can generate a globally-unique stream of ids');\n+    equal(_.uniq(ids).length, ids.length, 'can generate a globally-unique stream of ids');\n   });\n \n-  test(\"utility: times\", function() {\n+  test(\"times\", function() {\n     var vals = [];\n     _.times(3, function (i) { vals.push(i); });\n     ok(_.isEqual(vals, [0,1,2]), \"is 0 indexed\");\n@@ -31,29 +41,53 @@\n     ok(_.isEqual(vals, [0,1,2]), \"works as a wrapper\");\n   });\n \n-  test(\"utility: mixin\", function() {\n+  test(\"mixin\", function() {\n     _.mixin({\n       myReverse: function(string) {\n         return string.split('').reverse().join('');\n       }\n     });\n-    equals(_.myReverse('panacea'), 'aecanap', 'mixed in a function to _');\n-    equals(_('champ').myReverse(), 'pmahc', 'mixed in a function to the OOP wrapper');\n+    equal(_.myReverse('panacea'), 'aecanap', 'mixed in a function to _');\n+    equal(_('champ').myReverse(), 'pmahc', 'mixed in a function to the OOP wrapper');\n+  });\n+\n+  test(\"_.escape\", function() {\n+    equal(_.escape(\"Curly & Moe\"), \"Curly &amp; Moe\");\n+    equal(_.escape(\"Curly &amp; Moe\"), \"Curly &amp;amp; Moe\");\n+    equal(_.escape(null), '');\n+  });\n+\n+  test(\"_.unescape\", function() {\n+    var string = \"Curly & Moe\";\n+    equal(_.unescape(\"Curly &amp; Moe\"), string);\n+    equal(_.unescape(\"Curly &amp;amp; Moe\"), \"Curly &amp; Moe\");\n+    equal(_.unescape(null), '');\n+    equal(_.unescape(_.escape(string)), string);\n   });\n \n-  test(\"utility: template\", function() {\n+  test(\"template\", function() {\n     var basicTemplate = _.template(\"<%= thing %> is gettin' on my noives!\");\n     var result = basicTemplate({thing : 'This'});\n-    equals(result, \"This is gettin' on my noives!\", 'can do basic attribute interpolation');\n+    equal(result, \"This is gettin' on my noives!\", 'can do basic attribute interpolation');\n+\n+    var sansSemicolonTemplate = _.template(\"A <% this %> B\");\n+    equal(sansSemicolonTemplate(), \"A  B\");\n \n     var backslashTemplate = _.template(\"<%= thing %> is \\\\ridanculous\");\n-    equals(backslashTemplate({thing: 'This'}), \"This is \\\\ridanculous\");\n+    equal(backslashTemplate({thing: 'This'}), \"This is \\\\ridanculous\");\n+\n+    var escapeTemplate = _.template('<%= a ? \"checked=\\\\\"checked\\\\\"\" : \"\" %>');\n+    equal(escapeTemplate({a: true}), 'checked=\"checked\"', 'can handle slash escapes in interpolations.');\n \n",
					"match": false,
					"packageHash": "0b846bfb805bdc3c28a8df6592cb873aefd578247833e96b36a5982b4806f9a4",
					"size": 5431,
					"sourceHash": "95d3138e053ae9cd74fd30c87c4128c7303c5ecf01b3249c7d0c7f4c85cdf8da",
					"status": "content"
				},
				"test/underscore.js": {
					"diff": "--- published/test/underscore.js\n+++ rebuilt/test/underscore.js\n@@ -1,10 +1,7 @@\n-//     Underscore.js 1.1.4\n-//     (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.\n-//     Underscore is freely distributable under the MIT license.\n-//     Portions of Underscore are inspired or borrowed from Prototype,\n-//     Oliver Steele's Functional, and John Resig's Micro-Templating.\n-//     For all details and documentation:\n-//     http://documentcloud.github.com/underscore\n+//     Underscore.js 1.4.2\n+//     http://underscorejs.org\n+//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.\n+//     Underscore may be freely distributed under the MIT license.\n \n (function() {\n \n@@ -21,10 +18,12 @@\n   var breaker = {};\n \n   // Save bytes in the minified (but not gzipped) version:\n-  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n+  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n \n   // Create quick reference variables for speed access to core prototypes.\n-  var slice            = ArrayProto.slice,\n+  var push             = ArrayProto.push,\n+      slice            = ArrayProto.slice,\n+      concat           = ArrayProto.concat,\n       unshift          = ArrayProto.unshift,\n       toString         = ObjProto.toString,\n       hasOwnProperty   = ObjProto.hasOwnProperty;\n@@ -42,41 +41,49 @@\n     nativeIndexOf      = ArrayProto.indexOf,\n     nativeLastIndexOf  = ArrayProto.lastIndexOf,\n     nativeIsArray      = Array.isArray,\n-    nativeKeys         = Object.keys;\n+    nativeKeys         = Object.keys,\n+    nativeBind         = FuncProto.bind;\n \n   // Create a safe reference to the Underscore object for use below.\n-  var _ = function(obj) { return new wrapper(obj); };\n+  var _ = function(obj) {\n+    if (obj instanceof _) return obj;\n+    if (!(this instanceof _)) return new _(obj);\n+    this._wrapped = obj;\n+  };\n \n-  // Export the Underscore object for **CommonJS**, with backwards-compatibility\n-  // for the old `require()` API. If we're not in CommonJS, add `_` to the\n-  // global object.\n-  if (typeof module !== 'undefined' && module.exports) {\n-    module.exports = _;\n-    _._ = _;\n+  // Export the Underscore object for **Node.js**, with\n+  // backwards-compatibility for the old `require()` API. If we're in\n+  // the browser, add `_` as a global object via a string identifier,\n+  // for Closure Compiler \"advanced\" mode.\n+  if (typeof exports !== 'undefined') {\n+    if (typeof module !== 'undefined' && module.exports) {\n+      exports = module.exports = _;\n+    }\n+    exports._ = _;\n   } else {\n-    root._ = _;\n+    root['_'] = _;\n   }\n \n   // Current version.\n-  _.VERSION = '1.1.4';\n+  _.VERSION = '1.4.2';\n \n   // Collection Functions\n   // --------------------\n \n   // The cornerstone, an `each` implementation, aka `forEach`.\n-  // Handles objects implementing `forEach`, arrays, and raw objects.\n+  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n   // Delegates to **ECMAScript 5**'s native `forEach` if available.\n   var each = _.each = _.forEach = function(obj, iterator, context) {\n     if (obj == null) return;\n     if (nativeForEach && obj.forEach === nativeForEach) {\n       obj.forEach(iterator, context);\n-    } else if (_.isNumber(obj.length)) {\n+    } else if (obj.length === +obj.length) {\n       for (var i = 0, l = obj.length; i < l; i++) {\n         if (iterator.call(context, obj[i], i, obj) === breaker) return;\n       }\n     } else {\n       for (var key in obj) {\n-        if (hasOwnProperty.call(obj, key)) {\n+        if (_.has(obj, key)) {\n           if (iterator.call(context, obj[key], key, obj) === breaker) return;\n         }\n       }\n@@ -85,7 +92,7 @@\n \n   // Return the results of applying the iterator to each element.\n   // Delegates to **ECMAScript 5**'s native `map` if available.\n-  _.map = function(obj, iterator, context) {\n",
					"match": false,
					"packageHash": "545f8808563c9444f74ebaccf85ba37f6ee6168ee9ba1887e4e8c1864f54fdb5",
					"size": 27104,
					"sourceHash": "ecc89338a98e602aebc71a2d284f94ebd0c156846d6e0a91943ca06e2e1fb260",
					"status": "content"
				},
				".travis.yml": {
					"match": false,
					"status": "missing-in-package"
				},
				"Gemfile": {
					"match": false,
					"status": "missing-in-package"
				},
				"Gemfile.lock": {
					"match": false,
					"status": "missing-in-package"
				},
				"PULL_REQUEST_TEMPLATE": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/run-qunit.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/strings_standalone.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_standalone.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_underscore/index.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_underscore/vendor/jquery.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_underscore/vendor/jslitmus.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_underscore/vendor/qunit.css": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test_underscore/vendor/qunit.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 16,
				"matchingFiles": 0,
				"missingInPackage": 12,
				"missingInSource": 5,
				"score": 0,
				"totalFiles": 33
			}
		}
	}
]
