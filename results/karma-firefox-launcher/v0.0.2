[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2025-12-31T05:44:52.826Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "karma-firefox-launcher@0.0.2",
			"name": "karma-firefox-launcher",
			"version": "0.0.2",
			"location": "https://registry.npmjs.org/karma-firefox-launcher/-/karma-firefox-launcher-0.0.2.tgz",
			"integrity": "sha512-Yc/un4bh8qe07lK+kxJmoGMdXZHlwqgLYqnkxgLfjcIoRIQ2VSKVRWoYQQKZhQmTzZipMw7m9JvY/J8YvaXwmA==",
			"publishedAt": "2013-05-12T02:29:36.432Z",
			"publishedWith": {
				"node": null,
				"npm": "1.2.15"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/karma-runner/karma-firefox-launcher.git",
			"spec": "github:karma-runner/karma-firefox-launcher#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"CONTRIBUTING.md": {
					"match": false,
					"packageHash": "46898e98f114e5d8460f2c2988e62a47c33fb674c02dd25e23c89dd27dfd943a",
					"size": 186,
					"status": "missing-in-source"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,6 +1,6 @@\n The MIT License\n \n-Copyright (C) 2011-2013 Vojta Jína and contributors.\n+Copyright (C) 2011-2013 Google, Inc.\n \n Permission is hereby granted, free of charge, to any person obtaining a copy of\n this software and associated documentation files (the \"Software\"), to deal in\n",
					"match": false,
					"packageHash": "aeec55919caa5b3bc95cd4c8a55f2f94c000db2cb43f16a2ab62d925cb64695b",
					"size": 1094,
					"sourceHash": "296b9a3c5e4eb7b79a6f1dca9a27ee31e48fe5c9d48a32ec31ac924b65ff287c",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,8 +1,150 @@\n # karma-firefox-launcher\n \n+[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/karma-runner/karma-firefox-launcher)\n+[![npm version](https://img.shields.io/npm/v/karma-firefox-launcher.svg?style=flat-square)](https://www.npmjs.com/package/karma-firefox-launcher) [![npm downloads](https://img.shields.io/npm/dm/karma-firefox-launcher.svg?style=flat-square)](https://www.npmjs.com/package/karma-firefox-launcher)\n+[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n+\n+[![Build Status](https://img.shields.io/travis/karma-runner/karma-firefox-launcher/master.svg?style=flat-square)](https://travis-ci.org/karma-runner/karma-firefox-launcher) [![Dependency Status](https://img.shields.io/david/karma-runner/karma-firefox-launcher.svg?style=flat-square)](https://david-dm.org/karma-runner/karma-firefox-launcher) [![devDependency Status](https://img.shields.io/david/dev/karma-runner/karma-firefox-launcher.svg?style=flat-square)](https://david-dm.org/karma-runner/karma-firefox-launcher#info=devDependencies)\n+\n > Launcher for Mozilla Firefox.\n \n-For more information on Karma see the [homepage].\n+## `karma-firefox-launcher` is deprecated and is not accepting new features or general bug fixes.\n+\n+See [deprecation notice for `karma`](https://github.com/karma-runner/karma#karma-is-deprecated-and-is-not-accepting-new-features-or-general-bug-fixes).\n+\n+[Web Test Runner](https://modern-web.dev/docs/test-runner/overview/),\n+[`jasmine-browser-runner`](https://github.com/jasmine/jasmine-browser-runner),\n+and [`playwright-test`](https://github.com/hugomrdias/playwright-test) provide\n+browser-based unit testing solutions which can be used as a direct alternative.\n+\n+## Installation\n+\n+The easiest way is to keep `karma-firefox-launcher` as a devDependency in your `package.json`.\n+\n+You can simple do it by:\n+\n+```bash\n+npm install karma-firefox-launcher --save-dev\n+```\n+\n+## Configuration\n+\n+```js\n+// karma.conf.js\n+module.exports = function (config) {\n+  config.set({\n+    plugins: [require(\"karma-firefox-launcher\")],\n+    browsers: [\n+      \"Firefox\",\n+      \"FirefoxDeveloper\",\n+      \"FirefoxAurora\",\n+      \"FirefoxNightly\",\n+    ],\n+  });\n+};\n+```\n+\n+You can pass list of browsers as a CLI argument too:\n+\n+```bash\n+karma start --browsers Firefox,Chrome\n+```\n+\n+To run Firefox in headless mode, append `Headless` to the version name, e.g. `FirefoxHeadless`, `FirefoxNightlyHeadless`.\n+\n+### Environment variables\n+\n+You can specify the location of the Firefox executable using the following\n+environment variables:\n+\n+- `FIREFOX_BIN` (for browser `Firefox` or `FirefoxHeadless`)\n+- `FIREFOX_DEVELOPER_BIN` (for browser `FirefoxDeveloper` or\n+  `FirefoxDeveloperHeadless`)\n+- `FIREFOX_AURORA_BIN` (for browser `FirefoxAurora` or `FirefoxAuroraHeadless`)\n+- `FIREFOX_NIGHTLY_BIN` (for browser `FirefoxNightly` or\n+  `FirefoxNightlyHeadless`)\n+\n+### Custom Firefox location\n \n+In addition to Environment variables you can specify location of the Firefox executable in a custom launcher:\n+\n+```js\n+browsers: ['Firefox68', 'Firefox78'],\n+\n+customLaunchers: {\n+    Firefox68: {\n+        base: 'Firefox',\n+        name: 'Firefox68',\n+        command: '<path to FF68>/firefox.exe'\n+    },\n+    Firefox78: {\n+        base: 'Firefox',\n+        name: 'Firefox78',\n+        command: '<path to FF78>/firefox.exe'\n+    }\n+}\n+```\n+\n+### Custom Preferences\n+\n+To configure preferences for the Firefox instance that is loaded, you can specify a custom launcher in your Karma\n+config with the preferences under the `prefs` key:\n+\n+```js\n+browsers: ['FirefoxAutoAllowGUM'],\n+\n+customLaunchers: {\n",
					"match": false,
					"packageHash": "3332ed41f4344288290eea46022cb3f526c09b124af4ff9c2533bb9a7dc358ef",
					"size": 154,
					"sourceHash": "4a8410055595cb7f1abc47057f2607ca382f4dc9ba75378f700ff2a0b1783d7a",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,80 +1,401 @@\n-var fs = require('fs');\n-var spawn = require('child_process').spawn;\n-\n-\n-var PREFS =\n-    'user_pref(\"browser.shell.checkDefaultBrowser\", false);\\n' +\n-    'user_pref(\"browser.bookmarks.restore_default_bookmarks\", false);\\n';\n+'use strict'\n \n+const fs = require('fs')\n+const path = require('path')\n+let isWsl = require('is-wsl')\n+const which = require('which')\n+const { execSync } = require('child_process')\n+const { StringDecoder } = require('string_decoder')\n+\n+const PREFS = [\n+  'user_pref(\"browser.shell.checkDefaultBrowser\", false);',\n+  'user_pref(\"browser.bookmarks.restore_default_bookmarks\", false);',\n+  'user_pref(\"dom.disable_open_during_load\", false);',\n+  'user_pref(\"dom.max_script_run_time\", 0);',\n+  'user_pref(\"dom.min_background_timeout_value\", 10);',\n+  'user_pref(\"extensions.autoDisableScopes\", 0);',\n+  'user_pref(\"browser.tabs.remote.autostart\", false);',\n+  'user_pref(\"browser.tabs.remote.autostart.2\", false);',\n+  'user_pref(\"extensions.enabledScopes\", 15);'\n+].join('\\n')\n+\n+// NOTE: add 'config.browsers' to get which browsers are started\n+const $INJECT_LIST = ['baseBrowserDecorator', 'args', 'logger', 'emitter']\n+\n+// Check if Firefox is installed on the WSL side and use that if it's available\n+if (isWsl && which.sync('firefox', { nothrow: true })) {\n+  isWsl = false\n+}\n+\n+/**\n+ * Takes a string from Windows' tasklist.exe with the following arguments:\n+ * `/FO CSV /NH /SVC` and returns an array of PIDs.\n+ * @param {string} tasklist Expected to be in the form of:\n+ * `'\"firefox.exe\",\"14972\",\"Console\",\"1\",\"5.084 K\"\\r\\n\"firefox.exe\",\"12204\",\"Console\",\"1\",\"221.656 K\"'`\n+ * @returns {string[]} Array of String PIDs. Can be empty.\n+ */\n+const extractPids = tasklist => tasklist\n+  .split(',')\n+  .filter(x => /^\"\\d{3,10}\"$/.test(x))\n+  .map(pid => pid.replace(/\"/g, ''))\n+\n+/**\n+  * Curried function version of safeExecSync with reference to logger\n+  * in a closure.\n+  * @param {function} log An instance of logger.create\n+  * @returns {{(command:string):string}} A closure with reference to logger\n+  */\n+const createSafeExecSync = log => command => {\n+  let output = ''\n+  try {\n+    output = String(execSync(command))\n+  } catch (err) {\n+    // Something went wrong but we can usually continue.\n+    // For Windows kill.exe, one common error is trying to kill a PID\n+    // that no longer exist, which is fine.\n+    log.debug(String(err))\n+  }\n+  return output\n+}\n+\n+// Get all possible Program Files folders even on other drives\n+// inspect the user's path to find other drives that may contain Program Files folders\n+const getAllPrefixes = function () {\n+  const drives = []\n+  const paden = process.env.Path.split(';')\n+  const re = /^[A-Z]:\\\\/i\n+  let pad\n+  for (let p = 0; p < paden.length; p++) {\n+    pad = paden[p]\n+    if (re.test(pad) && drives.indexOf(pad[0]) === -1) {\n+      drives.push(pad[0])\n+    }\n+  }\n+\n+  const result = []\n+  const prefixes = [process.env.PROGRAMFILES, process.env['PROGRAMFILES(X86)']]\n+  let prefix\n+  for (let i = 0; i < prefixes.length; i++) {\n+    if (typeof prefixes[i] !== 'undefined') {\n+      for (let d = 0; d < drives.length; d += 1) {\n+        prefix = drives[d] + prefixes[i].slice(1)\n+        if (result.indexOf(prefix) === -1) {\n+          result.push(prefix)\n+        }\n+      }\n+    }\n+  }\n+  return result\n+}\n+\n",
					"match": false,
					"packageHash": "eb5d458a2c0fe79fa8b84bd621a3077c0dec2f3755a20922965ebfc62e8bdbbf",
					"size": 2219,
					"sourceHash": "8a8d4020bbdbe0f35a7062d8e81e39385bd43901306fe7e3ddaf829650671987",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,24 +1,69 @@\n {\n   \"name\": \"karma-firefox-launcher\",\n-  \"version\": \"0.0.2\",\n+  \"version\": \"2.1.1\",\n   \"description\": \"A Karma plugin. Launcher for Firefox.\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"lint\": \"standard\",\n+    \"test\": \"karma start --single-run\",\n+    \"postinstall\": \"husky install\",\n+    \"prepublishOnly\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\",\n+    \"semantic-release\": \"semantic-release\"\n   },\n   \"repository\": {\n     \"type\": \"git\",\n     \"url\": \"git://github.com/karma-runner/karma-firefox-launcher.git\"\n   },\n   \"keywords\": [\n+    \"karma\",\n+    \"testing\",\n     \"karma-plugin\",\n-    \"launcher\",\n+    \"karma-launcher\",\n     \"firefox\"\n   ],\n   \"author\": \"Vojta Jina <vojta.jina@gmail.com>\",\n-  \"dependencies\": {},\n-  \"peerDependencies\": {\n-    \"karma\": \"~0.9\"\n+  \"license\": \"MIT\",\n+  \"devDependencies\": {\n+    \"@commitlint/cli\": \"^17.0.0\",\n+    \"@commitlint/config-conventional\": \"^17.0.0\",\n+    \"@semantic-release/changelog\": \"^6.0.0\",\n+    \"@semantic-release/git\": \"^10.0.0\",\n+    \"@semantic-release/npm\": \"^9.0.0\",\n+    \"husky\": \"^8.0.0\",\n+    \"karma\": \"^6.3.4\",\n+    \"karma-mocha\": \"^2.0.1\",\n+    \"mocha\": \"^10.0.0\",\n+    \"pinst\": \"^3.0.0\",\n+    \"semantic-release\": \"^19.0.2\",\n+    \"standard\": \"^17.0.0\"\n   },\n-  \"license\": \"MIT\"\n+  \"contributors\": [\n+    \"Alex Zaslavsky <alex.zaslavsky.1990@gmail.com>\",\n+    \"Andrei Khveras <Andrei_Khveras@epam.com>\",\n+    \"Brian Birtles <birtles@gmail.com>\",\n+    \"Chad McElligott <cmcelligott@digium.com>\",\n+    \"dignifiedquire <dignifiedquire@gmail.com>\",\n+    \"Erwann Mest <erwann.mest@gmail.com>\",\n+    \"Friedel Ziegelmayer <dignifiedquire@gmail.com>\",\n+    \"Friedel Ziegelmayer <friedel.ziegelmayer@gmail.com>\",\n+    \"James Talmage <james@talmage.io>\",\n+    \"Jan Brecka <jan.brecka@gmail.com>\",\n+    \"Jonathan Ginsburg <jon@than.ml>\",\n+    \"Liam Newman <lnewman@book.com>\",\n+    \"Maksim Ryzhikov <rv.maksim@gmail.com>\",\n+    \"Mario Vejlupek <mario@vejlupek.cz>\",\n+    \"Mark Ethan Trostler <mark@zzo.com>\",\n+    \"Martin Fochler <martin.fochler@senacor.com>\",\n+    \"Michał Gołębiowski <m.goleb@gmail.com>\",\n+    \"Parashuram <code@nparashuram.com>\",\n+    \"Peter Johanson <peter@peterjohanson.com>\",\n+    \"Salvador de la Puente <salva@unoyunodiez.com>\",\n+    \"Schaaf, Martin <mschaaf@datameer.com>\",\n+    \"Žilvinas Urbonas <zilvinas.urbon@gmail.com>\"\n+  ],\n+  \"dependencies\": {\n+    \"is-wsl\": \"^2.2.0\",\n+    \"which\": \"^3.0.0\"\n+  }\n }\n",
					"match": false,
					"packageHash": "822e76d1309f4fb9fa42e21512032b18886ba6835d8abd05bb7e323bb9ed2015",
					"size": 542,
					"sourceHash": "fe3bf3138aa4944bc76d19c3a0e4ce6d4d72c87f51d1d693c866afd07bc5a162",
					"status": "content"
				},
				"CHANGELOG.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"commitlint.config.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"karma.conf.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"release.config.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/index.spec.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 0,
				"missingInPackage": 5,
				"missingInSource": 1,
				"score": 0,
				"totalFiles": 10
			}
		}
	}
]
