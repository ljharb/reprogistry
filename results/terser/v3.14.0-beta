[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2025-12-31T17:04:15.456Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:2.15.11",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "terser@3.14.0-beta",
			"name": "terser",
			"version": "3.14.0-beta",
			"location": "https://registry.npmjs.org/terser/-/terser-3.14.0-beta.tgz",
			"integrity": "sha512-1ixmzJY2hh8ohweb58VLz+R1dUKV6kfkY/lCtRvYcFn8YgUIJzGQ4lRCNFCItI/RjYbIT8fRt6ABzmeuI6szRA==",
			"publishedAt": "2018-12-29T15:34:18.143Z",
			"publishedWith": {
				"node": "4.9.1",
				"npm": "2.15.11"
			}
		},
		"source": {
			"integrity": null,
			"location": "git+https://github.com/fabiosantoscode/terser.git",
			"spec": "github:fabiosantoscode/terser#54c38756bd57229019378d14df1734ded01900aa"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,5 +1,3 @@\n-UglifyJS is released under the BSD license:\n-\n Copyright 2012-2018 (c) Mihai Bazon <mihai.bazon@gmail.com>\n \n Redistribution and use in source and binary forms, with or without\n",
					"match": false,
					"packageHash": "68335488ef8f917c0feb901ace385f8c919bc81b0b60448a92928a3769fcec8f",
					"size": 1348,
					"sourceHash": "901d0a7fcaccaae9917d165039c0473c354e5da2e0e94140dde67aad9ffb19da",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,23 +1,37 @@\n-terser\n-======\n+<h1><img src=\"https://terser.org/img/terser-banner-logo.png\" alt=\"Terser\" width=\"400\"></h1>\n \n-![Terser](https://raw.githubusercontent.com/terser-js/terser/master/logo.png)\n+  [![NPM Version][npm-image]][npm-url]\n+  [![NPM Downloads][downloads-image]][downloads-url]\n+  [![CI pipeline][ci-image]][ci-url]\n+  [![Opencollective financial contributors][opencollective-contributors]][opencollective-url]\n \n-*note*: You can support this project on patreon: <a target=\"_blank\" rel=\"nofollow\" href=\"https://www.patreon.com/terser_jscomp_maintainer\"><img src=\"https://c5.patreon.com/external/logo/become_a_patron_button@2x.png\" alt=\"patron\" width=\"100px\" height=\"auto\"></a>. Check out PATRONS.md for our first-tier patrons.\n-=======\n-*Note:* Support this project with patreon by clicking [here](https://www.patreon.com/terser_jscomp_maintainer) and becoming a patron.\n+A JavaScript mangler/compressor toolkit for ES6+.\n \n-[![Build Status](https://travis-ci.org/terser-js/terser.svg?branch=master)](https://travis-ci.org/terser-js/terser) [![Coverage Status](https://coveralls.io/repos/github/terser-js/terser/badge.svg?branch=master)](https://coveralls.io/github/terser-js/terser?branch=master)\n+*note*: <s>You can support this project on patreon: [link]</s> **The Terser Patreon is shutting down in favor of opencollective**. Check out [PATRONS.md](https://github.com/terser/terser/blob/master/PATRONS.md) for our first-tier patrons.\n \n-A JavaScript parser, mangler/compressor and beautifier toolkit for ES6+.\n+Terser recommends you use RollupJS to bundle your modules, as that produces smaller code overall.\n \n+*Beautification* has been undocumented and is *being removed* from terser, we recommend you use [prettier](https://npmjs.com/package/prettier).\n+\n+Find the changelog in [CHANGELOG.md](https://github.com/terser/terser/blob/master/CHANGELOG.md)\n+\n+\n+\n+[npm-image]: https://img.shields.io/npm/v/terser.svg\n+[npm-url]: https://npmjs.org/package/terser\n+[downloads-image]: https://img.shields.io/npm/dm/terser.svg\n+[downloads-url]: https://npmjs.org/package/terser\n+[ci-image]: https://github.com/terser/terser/actions/workflows/ci.yml/badge.svg\n+[ci-url]: https://github.com/terser/terser/actions/workflows/ci.yml\n+[opencollective-contributors]: https://opencollective.com/terser/tiers/badge.svg\n+[opencollective-url]: https://opencollective.com/terser\n \n Why choose terser?\n ------------------\n \n `uglify-es` is [no longer maintained](https://github.com/mishoo/UglifyJS2/issues/3156#issuecomment-392943058) and `uglify-js` does not support ES6+.\n \n-**`terser`** is a fork of `uglify-es` that retains API and CLI compatibility\n+**`terser`** is a fork of `uglify-es` that mostly retains API and CLI compatibility\n with `uglify-es` and `uglify-js@3`.\n \n Install\n@@ -33,10 +47,14 @@\n From NPM for programmatic use:\n \n     npm install terser\n-    \n+\n # Command line usage\n \n-    terser [input files] [options]\n+<!-- CLI_USAGE:START -->\n+\n+```\n+terser [input files] [options]\n+```\n \n Terser can take multiple input files.  It's recommended that you pass the\n input files first, then pass the options.  Terser will parse input files\n@@ -44,6 +62,12 @@\n same global scope, that is, a reference from a file to some\n variable/function declared in another file will be matched properly.\n \n+Command line arguments that take options (like --parse, --compress, --mangle and\n+--format) can take in a comma-separated list of default option overrides. For\n+instance:\n+\n+    terser input.js --compress ecma=2015,computed_props=false\n+\n If no input file is specified, Terser will read from STDIN.\n \n If you wish to pass your options before the input files, separate the two with\n@@ -76,15 +100,17 @@\n                                 `reserved`  List of names that should not be mangled.\n     --mangle-props [options]    Mangle properties/specify mangler options:\n                                 `builtins`  Mangle property names that overlaps\n-                                            with standard JavaScript globals.\n+                                            with standard JavaScript globals and DOM\n+                                            API props.\n                                 `debug`  Add debug prefix and suffix.\n-                                `domprops`  Mangle property names that overlaps\n-                                            with DOM properties.\n-                                `keep_quoted`  Only mangle unquoted properties.\n+                                `keep_quoted`  Only mangle unquoted properties, quoted\n+                                               properties are automatically reserved.\n+                                               `strict` disables quoted properties\n+                                               being automatically reserved.\n                                 `regex`  Only mangle matched property names.\n+                                `only_annotated` Only mangle properties defined with /*@__MANGLE_PROP__*/.\n                                 `reserved`  List of names that should not be mangled.\n-    -b, --beautify [options]    Beautify output/specify output options:\n-                                `beautify`  Enabled with `--beautify` by default.\n+    -f, --format [options]      Specify format options.\n",
					"match": false,
					"packageHash": "7e1402b27424c585b5454726dcb45f5c12fe133d98a2326ee33cfafe27d9c09b",
					"size": 53321,
					"sourceHash": "9a69a5c7b85271cc859d726afe2a48d4ea0d992f5a815aa2888ac1d8a9303d05",
					"status": "content"
				},
				"bin/uglifyjs": {
					"diff": "--- published/bin/uglifyjs\n+++ rebuilt/bin/uglifyjs\n@@ -1,476 +1,10 @@\n #!/usr/bin/env node\n // -*- js -*-\n+/* eslint-env node */\n \n \"use strict\";\n \n-require(\"../tools/exit.js\");\n+process.stderr.write( \"DEPRECATION WARNING: uglifyjs binary will soon be discontinued!\\n\");\n+process.stderr.write(\"Please use \\\"terser\\\" instead.\\n\\n\");\n \n-var fs = require(\"fs\");\n-var info = require(\"../package.json\");\n-var path = require(\"path\");\n-var program = require(\"commander\");\n-\n-var bundle_path = __dirname + \"/../dist/bundle.js\";\n-if (!process.env.TERSER_NO_BUNDLE && fs.existsSync(bundle_path)) {\n-    var UglifyJS = require(bundle_path)\n-    try {\n-        require(\"source-map-support\").install();\n-    } catch (err) {}\n-} else {\n-    var UglifyJS = require(\"../tools/node.js\");\n-}\n-\n-var skip_keys = [ \"cname\", \"inlined\", \"parent_scope\", \"scope\", \"uses_eval\", \"uses_with\" ];\n-var files = {};\n-var options = {\n-    compress: false,\n-    mangle: false\n-};\n-program.version(info.name + \" \" + info.version);\n-program.parseArgv = program.parse;\n-program.parse = undefined;\n-if (process.argv.indexOf(\"ast\") >= 0) program.helpInformation = describe_ast;\n-else if (process.argv.indexOf(\"options\") >= 0) program.helpInformation = function() {\n-    var text = [];\n-    var options = UglifyJS.default_options();\n-    for (var option in options) {\n-        text.push(\"--\" + (option == \"output\" ? \"beautify\" : option == \"sourceMap\" ? \"source-map\" : option) + \" options:\");\n-        text.push(format_object(options[option]));\n-        text.push(\"\");\n-    }\n-    return text.join(\"\\n\");\n-};\n-program.option(\"-p, --parse <options>\", \"Specify parser options.\", parse_js());\n-program.option(\"-c, --compress [options]\", \"Enable compressor/specify compressor options.\", parse_js());\n-program.option(\"-m, --mangle [options]\", \"Mangle names/specify mangler options.\", parse_js());\n-program.option(\"--mangle-props [options]\", \"Mangle properties/specify mangler options.\", parse_js());\n-program.option(\"-b, --beautify [options]\", \"Beautify output/specify output options.\", parse_js());\n-program.option(\"-o, --output <file>\", \"Output file (default STDOUT).\");\n-program.option(\"--comments [filter]\", \"Preserve copyright comments in the output.\");\n-program.option(\"--config-file <file>\", \"Read minify() options from JSON file.\");\n-program.option(\"-d, --define <expr>[=value]\", \"Global definitions.\", parse_js(\"define\"));\n-program.option(\"--ecma <version>\", \"Specify ECMAScript release: 5, 6, 7 or 8.\");\n-program.option(\"-e, --enclose [arg[,...][:value[,...]]]\", \"Embed output in a big function with configurable arguments and values.\");\n-program.option(\"--ie8\", \"Support non-standard Internet Explorer 8.\");\n-program.option(\"--keep-classnames\", \"Do not mangle/drop class names.\");\n-program.option(\"--keep-fnames\", \"Do not mangle/drop function names. Useful for code relying on Function.prototype.name.\");\n-program.option(\"--module\", \"Input is an ES6 module\");\n-program.option(\"--name-cache <file>\", \"File to hold mangled name mappings.\");\n-program.option(\"--rename\", \"Force symbol expansion.\");\n-program.option(\"--no-rename\", \"Disable symbol expansion.\");\n-program.option(\"--safari10\", \"Support non-standard Safari 10.\");\n-program.option(\"--source-map [options]\", \"Enable source map/specify source map options.\", parse_source_map());\n-program.option(\"--timings\", \"Display operations run time on STDERR.\");\n-program.option(\"--toplevel\", \"Compress and/or mangle variables in toplevel scope.\");\n-program.option(\"--verbose\", \"Print diagnostic messages.\");\n-program.option(\"--warn\", \"Print warning messages.\");\n-program.option(\"--wrap <name>\", \"Embed everything as a function with “exports” corresponding to “name” globally.\");\n-program.arguments(\"[files...]\").parseArgv(process.argv);\n-if (program.configFile) {\n-    options = JSON.parse(read_file(program.configFile));\n-}\n-if (!program.output && program.sourceMap && program.sourceMap.url != \"inline\") {\n-    fatal(\"ERROR: cannot write source map to STDOUT\");\n-}\n-[\n-    \"compress\",\n-    \"enclose\",\n-    \"ie8\",\n-    \"mangle\",\n-    \"module\",\n-    \"safari10\",\n-    \"sourceMap\",\n-    \"toplevel\",\n-    \"wrap\"\n-].forEach(function(name) {\n-    if (name in program) {\n-        options[name] = program[name];\n-    }\n-});\n-if (\"ecma\" in program) {\n-    if (program.ecma != (program.ecma | 0)) fatal(\"ERROR: ecma must be an integer\");\n-    options.ecma = program.ecma | 0;\n-}\n-if (program.beautify) {\n",
					"match": false,
					"packageHash": "c7da5943dd5ad802e3c65c281101c93569992882ae9f29b8efd67ac0240d8b36",
					"size": 16843,
					"sourceHash": "650aee5af0105c96f8b82eae649ff0d3b97a416b870be08d10ab8cbcb3238ff1",
					"status": "content"
				},
				"bin/uglifyjsnobundle": {
					"match": false,
					"packageHash": "1a92e01734ba92aad53ef671d94e02492234e8514146685ae63780d55c7747b2",
					"size": 77,
					"status": "missing-in-source"
				},
				"lib/ast.js": {
					"diff": "--- published/lib/ast.js\n+++ rebuilt/lib/ast.js\n@@ -41,38 +41,35 @@\n \n  ***********************************************************************/\n \n-\"use strict\";\n+import {\n+    HOP,\n+    MAP,\n+    noop\n+} from \"./utils/index.js\";\n+import { parse } from \"./parse.js\";\n \n-function DEFNODE(type, props, methods, base) {\n-    if (arguments.length < 4) base = AST_Node;\n+function DEFNODE(type, props, ctor, methods, base = AST_Node) {\n     if (!props) props = [];\n     else props = props.split(/\\s+/);\n     var self_props = props;\n     if (base && base.PROPS)\n         props = props.concat(base.PROPS);\n-    var code = \"return function AST_\" + type + \"(props){ if (props) { \";\n-    for (var i = props.length; --i >= 0;) {\n-        code += \"this.\" + props[i] + \" = props.\" + props[i] + \";\";\n-    }\n-    var proto = base && new base;\n-    if (proto && proto.initialize || (methods && methods.initialize))\n-        code += \"this.initialize();\";\n-    code += \"}}\";\n-    var ctor = new Function(code)();\n+    const proto = base && Object.create(base.prototype);\n     if (proto) {\n         ctor.prototype = proto;\n         ctor.BASE = base;\n     }\n     if (base) base.SUBCLASSES.push(ctor);\n     ctor.prototype.CTOR = ctor;\n+    ctor.prototype.constructor = ctor;\n     ctor.PROPS = props || null;\n     ctor.SELF_PROPS = self_props;\n     ctor.SUBCLASSES = [];\n     if (type) {\n         ctor.prototype.TYPE = ctor.TYPE = type;\n     }\n-    if (methods) for (i in methods) if (HOP(methods, i)) {\n-        if (/^\\$/.test(i)) {\n+    if (methods) for (let i in methods) if (HOP(methods, i)) {\n+        if (i[0] === \"$\") {\n             ctor[i.substr(1)] = methods[i];\n         } else {\n             ctor.prototype[i] = methods[i];\n@@ -81,16 +78,83 @@\n     ctor.DEFMETHOD = function(name, method) {\n         this.prototype[name] = method;\n     };\n-    if (typeof exports !== \"undefined\") {\n-        exports[\"AST_\" + type] = ctor;\n-    }\n     return ctor;\n }\n \n-var AST_Token = DEFNODE(\"Token\", \"type value line col pos endline endcol endpos nlb comments_before comments_after file raw\", {\n-}, null);\n+const has_tok_flag = (tok, flag) => Boolean(tok.flags & flag);\n+const set_tok_flag = (tok, flag, truth) => {\n+    if (truth) {\n+        tok.flags |= flag;\n+    } else {\n+        tok.flags &= ~flag;\n+    }\n+};\n+\n+const TOK_FLAG_NLB          = 0b0001;\n+const TOK_FLAG_QUOTE_SINGLE = 0b0010;\n+const TOK_FLAG_QUOTE_EXISTS = 0b0100;\n+const TOK_FLAG_TEMPLATE_END = 0b1000;\n+\n+class AST_Token {\n+    constructor(type, value, line, col, pos, nlb, comments_before, comments_after, file) {\n+        this.flags = (nlb ? 1 : 0);\n+\n+        this.type = type;\n+        this.value = value;\n+        this.line = line;\n+        this.col = col;\n+        this.pos = pos;\n+        this.comments_before = comments_before;\n+        this.comments_after = comments_after;\n+        this.file = file;\n+\n+        Object.seal(this);\n+    }\n+\n+    // Return a string summary of the token for node.js console.log\n+    [Symbol.for(\"nodejs.util.inspect.custom\")](_depth, options) {\n+        const special = str => options.stylize(str, \"special\");\n+        const quote = typeof this.value === \"string\" && this.value.includes(\"`\") ? \"'\" : \"`\";\n+        const value = `${quote}${this.value}${quote}`;\n+        return `${special(\"[AST_Token\")} ${value} at ${this.line}:${this.col}${special(\"]\")}`;\n",
					"match": false,
					"packageHash": "6ef449bc205636cc464a8b7e42d5d2cc1397620f1ccca094b89010151409c050",
					"size": 43287,
					"sourceHash": "617bd38cdc7741ac53c3bdd11928d290c8e1b46051543f50598c4b35f3d33faa",
					"status": "content"
				},
				"lib/compress.js": {
					"match": false,
					"packageHash": "7859bf8e02195e1456598ea1b21e35887dbbac996ccc5605464974ed921292cf",
					"size": 291641,
					"status": "missing-in-source"
				},
				"lib/minify.js": {
					"diff": "--- published/lib/minify.js\n+++ rebuilt/lib/minify.js\n@@ -1,30 +1,39 @@\n \"use strict\";\n+/* eslint-env browser, es6, node */\n \n-var to_ascii = typeof atob == \"undefined\" ? function(b64) {\n-    if (Buffer.from && Buffer.from !== Uint8Array.from) {\n-      // Node >= 4.5.0\n-      return Buffer.from(b64, \"base64\").toString();\n-    } else {\n-      // Node < 4.5.0, old API, manual safeguards\n-      if (typeof b64 !== \"string\") throw new Errror(\"\\\"b64\\\" must be a string\");\n-      return new Buffer(b64, \"base64\").toString();\n-    }\n-} : atob;\n-var to_base64 = typeof btoa == \"undefined\" ? function(str) {\n-    if (Buffer.from && Buffer.from !== Uint8Array.from) {\n-      // Node >= 4.5.0\n-      return Buffer.from(str).toString(\"base64\");\n-    } else {\n-      // Node < 4.5.0, old API, manual safeguards\n-      if (typeof str !== \"string\") throw new Errror(\"\\\"str\\\" must be a string\");\n-      return new Buffer(str).toString(\"base64\");\n-    }\n-} : btoa;\n+import {\n+    defaults,\n+    map_from_object,\n+    map_to_object,\n+    HOP,\n+} from \"./utils/index.js\";\n+import { AST_Toplevel, AST_Node, walk, AST_Scope } from \"./ast.js\";\n+import { parse } from \"./parse.js\";\n+import { OutputStream } from \"./output.js\";\n+import { Compressor } from \"./compress/index.js\";\n+import { base54 } from \"./scope.js\";\n+import { SourceMap } from \"./sourcemap.js\";\n+import {\n+    mangle_properties,\n+    mangle_private_properties,\n+    reserve_quoted_keys,\n+    find_annotated_props,\n+} from \"./propmangle.js\";\n+\n+// to/from base64 functions\n+// Prefer built-in Buffer, if available, then use hack\n+// https://developer.mozilla.org/en-US/docs/Glossary/Base64#The_Unicode_Problem\n+var to_ascii = typeof Buffer !== \"undefined\"\n+    ? (b64) => Buffer.from(b64, \"base64\").toString()\n+    : (b64) => decodeURIComponent(escape(atob(b64)));\n+var to_base64 = typeof Buffer !== \"undefined\"\n+    ? (str) => Buffer.from(str).toString(\"base64\")\n+    : (str) => btoa(unescape(encodeURIComponent(str)));\n \n function read_source_map(code) {\n-    var match = /\\n\\/\\/# sourceMappingURL=data:application\\/json(;.*?)?;base64,(.*)/.exec(code);\n+    var match = /(?:^|[^.])\\/\\/# sourceMappingURL=data:application\\/json(;[\\w=-]*)?;base64,([+/0-9A-Za-z]*=*)\\s*$/.exec(code);\n     if (!match) {\n-        AST_Node.warn(\"inline source map not found\");\n+        console.warn(\"inline source map not found\");\n         return null;\n     }\n     return to_ascii(match[2]);\n@@ -44,113 +53,173 @@\n function init_cache(cache) {\n     if (!cache) return;\n     if (!(\"props\" in cache)) {\n-        cache.props = new Dictionary();\n-    } else if (!(cache.props instanceof Dictionary)) {\n-        cache.props = Dictionary.fromObject(cache.props);\n+        cache.props = new Map();\n+    } else if (!(cache.props instanceof Map)) {\n+        cache.props = map_from_object(cache.props);\n     }\n }\n \n-function to_json(cache) {\n+function cache_to_json(cache) {\n     return {\n-        props: cache.props.toObject()\n+        props: map_to_object(cache.props)\n     };\n }\n \n-function minify(files, options) {\n-    var warn_function = AST_Node.warn_function;\n+function log_input(files, options, fs, debug_folder) {\n+    if (!(fs && fs.writeFileSync && fs.mkdirSync)) {\n+        return;\n+    }\n+\n     try {\n-        options = defaults(options, {\n-            compress: {},\n-            ecma: undefined,\n-            enclose: false,\n+        fs.mkdirSync(debug_folder);\n+    } catch (e) {\n+        if (e.code !== \"EEXIST\") throw e;\n",
					"match": false,
					"packageHash": "446e488e0002d1d7712aaf80b5a5014e7815e432f9f809d7c27309f4b361f907",
					"size": 10314,
					"sourceHash": "7da656126e4e608a0f606deb9d2a60fb51cca349425cbe01782f9cf062b2cc5c",
					"status": "content"
				},
				"lib/mozilla-ast.js": {
					"diff": "--- published/lib/mozilla-ast.js\n+++ rebuilt/lib/mozilla-ast.js\n@@ -41,28 +41,169 @@\n \n  ***********************************************************************/\n \n-\"use strict\";\n+import { make_node } from \"./utils/index.js\";\n+import {\n+    AST_Accessor,\n+    AST_Array,\n+    AST_Arrow,\n+    AST_Assign,\n+    AST_Atom,\n+    AST_Await,\n+    AST_BigInt,\n+    AST_Binary,\n+    AST_Block,\n+    AST_BlockStatement,\n+    AST_Boolean,\n+    AST_Break,\n+    AST_Call,\n+    AST_Case,\n+    AST_Catch,\n+    AST_Chain,\n+    AST_Class,\n+    AST_ClassStaticBlock,\n+    AST_ClassExpression,\n+    AST_ClassProperty,\n+    AST_ClassPrivateProperty,\n+    AST_ConciseMethod,\n+    AST_Conditional,\n+    AST_Const,\n+    AST_Constant,\n+    AST_Continue,\n+    AST_Debugger,\n+    AST_Default,\n+    AST_DefaultAssign,\n+    AST_DefClass,\n+    AST_DefinitionsLike,\n+    AST_Defun,\n+    AST_Destructuring,\n+    AST_Directive,\n+    AST_Do,\n+    AST_Dot,\n+    AST_DotHash,\n+    AST_EmptyStatement,\n+    AST_Expansion,\n+    AST_Export,\n+    AST_False,\n+    AST_Finally,\n+    AST_For,\n+    AST_ForIn,\n+    AST_ForOf,\n+    AST_Function,\n+    AST_Hole,\n+    AST_If,\n+    AST_Import,\n+    AST_ImportMeta,\n+    AST_Label,\n+    AST_LabeledStatement,\n+    AST_LabelRef,\n+    AST_Lambda,\n+    AST_Let,\n+    AST_NameMapping,\n+    AST_New,\n+    AST_NewTarget,\n+    AST_Node,\n+    AST_Null,\n+    AST_Number,\n+    AST_Object,\n+    AST_ObjectGetter,\n+    AST_ObjectKeyVal,\n+    AST_ObjectProperty,\n+    AST_ObjectSetter,\n+    AST_PrefixedTemplateString,\n+    AST_PrivateGetter,\n+    AST_PrivateMethod,\n+    AST_PrivateSetter,\n+    AST_PrivateIn,\n+    AST_PropAccess,\n+    AST_RegExp,\n+    AST_Return,\n+    AST_Sequence,\n+    AST_SimpleStatement,\n+    AST_Statement,\n+    AST_String,\n+    AST_Sub,\n+    AST_Super,\n+    AST_Switch,\n+    AST_SwitchBranch,\n+    AST_Symbol,\n+    AST_SymbolCatch,\n+    AST_SymbolClass,\n+    AST_SymbolClassProperty,\n+    AST_SymbolPrivateProperty,\n+    AST_SymbolConst,\n+    AST_SymbolDefClass,\n+    AST_SymbolDefun,\n+    AST_SymbolExport,\n",
					"match": false,
					"packageHash": "5f81b10f0435e9abe26c88d00a966f14fbaadb5ed3240963f62ea01c6cdd3daf",
					"size": 40088,
					"sourceHash": "d58f831d8fdf0dfd8e4d0e68e96a5e7a181848435338901effb252b558d65620",
					"status": "content"
				},
				"lib/output.js": {
					"diff": "--- published/lib/output.js\n+++ rebuilt/lib/output.js\n@@ -43,48 +43,264 @@\n \n \"use strict\";\n \n-var EXPECT_DIRECTIVE = /^$|[;{][\\s\\n]*$/;\n+import {\n+    defaults,\n+    makePredicate,\n+    noop,\n+    regexp_source_fix,\n+    sort_regexp_flags,\n+    return_false,\n+    return_true,\n+} from \"./utils/index.js\";\n+import { first_in_statement, left_is_object } from \"./utils/first_in_statement.js\";\n+import {\n+    AST_Array,\n+    AST_Arrow,\n+    AST_Assign,\n+    AST_Await,\n+    AST_BigInt,\n+    AST_Binary,\n+    AST_BlockStatement,\n+    AST_Break,\n+    AST_Call,\n+    AST_Case,\n+    AST_Catch,\n+    AST_Chain,\n+    AST_Class,\n+    AST_ClassExpression,\n+    AST_ClassPrivateProperty,\n+    AST_ClassProperty,\n+    AST_ClassStaticBlock,\n+    AST_ConciseMethod,\n+    AST_PrivateGetter,\n+    AST_PrivateMethod,\n+    AST_SymbolPrivateProperty,\n+    AST_PrivateSetter,\n+    AST_PrivateIn,\n+    AST_Conditional,\n+    AST_Const,\n+    AST_Constant,\n+    AST_Continue,\n+    AST_Debugger,\n+    AST_Default,\n+    AST_DefaultAssign,\n+    AST_Definitions,\n+    AST_DefinitionsLike,\n+    AST_Defun,\n+    AST_Destructuring,\n+    AST_Directive,\n+    AST_Do,\n+    AST_Dot,\n+    AST_DotHash,\n+    AST_EmptyStatement,\n+    AST_Exit,\n+    AST_Expansion,\n+    AST_Export,\n+    AST_Finally,\n+    AST_For,\n+    AST_ForIn,\n+    AST_ForOf,\n+    AST_Function,\n+    AST_Hole,\n+    AST_If,\n+    AST_Import,\n+    AST_ImportMeta,\n+    AST_Jump,\n+    AST_LabeledStatement,\n+    AST_Lambda,\n+    AST_Let,\n+    AST_LoopControl,\n+    AST_NameMapping,\n+    AST_New,\n+    AST_NewTarget,\n+    AST_Node,\n+    AST_Number,\n+    AST_Object,\n+    AST_ObjectGetter,\n+    AST_ObjectKeyVal,\n+    AST_ObjectProperty,\n+    AST_ObjectSetter,\n+    AST_PrefixedTemplateString,\n+    AST_PropAccess,\n+    AST_RegExp,\n+    AST_Return,\n+    AST_Scope,\n+    AST_Sequence,\n+    AST_SimpleStatement,\n+    AST_Statement,\n+    AST_StatementWithBody,\n+    AST_String,\n+    AST_Sub,\n+    AST_Super,\n+    AST_Switch,\n+    AST_SwitchBranch,\n+    AST_Symbol,\n+    AST_SymbolClassProperty,\n",
					"match": false,
					"packageHash": "a679cb23a0202c6ed3263bceeb7d485652d20a020fa3363550cf8eb67f61044c",
					"size": 66208,
					"sourceHash": "83c8e034bc8c64a1b4303eca373f5105c204692dd8456813226934b3575ae017",
					"status": "content"
				},
				"lib/parse.js": {
					"diff": "--- published/lib/parse.js\n+++ rebuilt/lib/parse.js\n@@ -44,24 +44,157 @@\n \n \"use strict\";\n \n+import {\n+    characters,\n+    defaults,\n+    makePredicate,\n+    set_annotation,\n+} from \"./utils/index.js\";\n+import {\n+    AST_Accessor,\n+    AST_Array,\n+    AST_Arrow,\n+    AST_Assign,\n+    AST_Await,\n+    AST_BigInt,\n+    AST_Binary,\n+    AST_BlockStatement,\n+    AST_Break,\n+    AST_Call,\n+    AST_Case,\n+    AST_Catch,\n+    AST_Chain,\n+    AST_ClassExpression,\n+    AST_ClassPrivateProperty,\n+    AST_ClassProperty,\n+    AST_ClassStaticBlock,\n+    AST_ConciseMethod,\n+    AST_PrivateIn,\n+    AST_PrivateGetter,\n+    AST_PrivateMethod,\n+    AST_PrivateSetter,\n+    AST_Conditional,\n+    AST_Const,\n+    AST_Continue,\n+    AST_Debugger,\n+    AST_Default,\n+    AST_DefaultAssign,\n+    AST_DefClass,\n+    AST_Definitions,\n+    AST_DefinitionsLike,\n+    AST_Defun,\n+    AST_Destructuring,\n+    AST_Directive,\n+    AST_Do,\n+    AST_Dot,\n+    AST_DotHash,\n+    AST_EmptyStatement,\n+    AST_Expansion,\n+    AST_Export,\n+    AST_False,\n+    AST_Finally,\n+    AST_For,\n+    AST_ForIn,\n+    AST_ForOf,\n+    AST_Function,\n+    AST_Hole,\n+    AST_If,\n+    AST_Import,\n+    AST_ImportMeta,\n+    AST_IterationStatement,\n+    AST_Label,\n+    AST_LabeledStatement,\n+    AST_LabelRef,\n+    AST_Let,\n+    AST_NameMapping,\n+    AST_New,\n+    AST_NewTarget,\n+    AST_Null,\n+    AST_Number,\n+    AST_Object,\n+    AST_ObjectGetter,\n+    AST_ObjectKeyVal,\n+    AST_ObjectProperty,\n+    AST_ObjectSetter,\n+    AST_PrefixedTemplateString,\n+    AST_PropAccess,\n+    AST_RegExp,\n+    AST_Return,\n+    AST_Sequence,\n+    AST_SimpleStatement,\n+    AST_String,\n+    AST_Sub,\n+    AST_Super,\n+    AST_Switch,\n+    AST_SymbolCatch,\n+    AST_SymbolClass,\n+    AST_SymbolClassProperty,\n+    AST_SymbolConst,\n+    AST_SymbolDeclaration,\n+    AST_SymbolDefClass,\n+    AST_SymbolDefun,\n+    AST_SymbolExport,\n+    AST_SymbolExportForeign,\n+    AST_SymbolFunarg,\n+    AST_SymbolImport,\n+    AST_SymbolImportForeign,\n",
					"match": false,
					"packageHash": "a67b1ee58de58ead0a45cff95aaae5414e4e11e6ea900a2a47a1cdedef38079b",
					"size": 111859,
					"sourceHash": "7e020057193a4091534a5723b6b30024ca673a8d2a8d5bed6cdbadb3e7d2a400",
					"status": "content"
				},
				"lib/propmangle.js": {
					"diff": "--- published/lib/propmangle.js\n+++ rebuilt/lib/propmangle.js\n@@ -42,9 +42,42 @@\n  ***********************************************************************/\n \n \"use strict\";\n+/* global global, self */\n+\n+import {\n+    defaults,\n+    push_uniq,\n+    has_annotation,\n+    clear_annotation,\n+} from \"./utils/index.js\";\n+import { base54 } from \"./scope.js\";\n+import {\n+    AST_Binary,\n+    AST_Call,\n+    AST_ClassPrivateProperty,\n+    AST_Conditional,\n+    AST_Dot,\n+    AST_DotHash,\n+    AST_ObjectKeyVal,\n+    AST_ObjectProperty,\n+    AST_PrivateMethod,\n+    AST_PrivateGetter,\n+    AST_PrivateSetter,\n+    AST_PrivateIn,\n+    AST_Sequence,\n+    AST_String,\n+    AST_Sub,\n+    TreeTransformer,\n+    TreeWalker,\n+    _KEY,\n+    _MANGLEPROP,\n+\n+    walk,\n+} from \"./ast.js\";\n+import { domprops } from \"../tools/domprops.js\";\n \n function find_builtins(reserved) {\n-    reserved.push.apply(reserved, domprops);\n+    domprops.forEach(add);\n \n     // Compatibility fix for some standard defined globals not defined on every js environment\n     var new_globals = [\"Symbol\", \"Map\", \"Promise\", \"Proxy\", \"Reflect\", \"Set\", \"WeakMap\", \"WeakSet\"];\n@@ -52,14 +85,14 @@\n     var global_ref = typeof global === \"object\" ? global : self;\n \n     new_globals.forEach(function (new_global) {\n-        objects[new_global] = global_ref[new_global] || new Function();\n+        objects[new_global] = global_ref[new_global] || function() {};\n     });\n \n-    // NaN will be included due to Number.NaN\n     [\n         \"null\",\n         \"true\",\n         \"false\",\n+        \"NaN\",\n         \"Infinity\",\n         \"-Infinity\",\n         \"undefined\",\n@@ -82,7 +115,7 @@\n         }\n     });\n     function add(name) {\n-        push_uniq(reserved, name);\n+        reserved.add(name);\n     }\n }\n \n@@ -116,33 +149,102 @@\n     }));\n }\n \n-function mangle_properties(ast, options) {\n+function mangle_private_properties(ast, options) {\n+    var cprivate = -1;\n+    var private_cache = new Map();\n+    var nth_identifier = options.nth_identifier || base54;\n+\n+    ast =  ast.transform(new TreeTransformer(function(node) {\n+        if (\n+            node instanceof AST_ClassPrivateProperty\n+            || node instanceof AST_PrivateMethod\n+            || node instanceof AST_PrivateGetter\n+            || node instanceof AST_PrivateSetter\n+            || node instanceof AST_PrivateIn\n+        ) {\n+            node.key.name = mangle_private(node.key.name);\n+        } else if (node instanceof AST_DotHash) {\n+            node.property = mangle_private(node.property);\n+        }\n+    }));\n+    return ast;\n+\n+    function mangle_private(name) {\n+        let mangled = private_cache.get(name);\n+        if (!mangled) {\n",
					"match": false,
					"packageHash": "b7e04f0b7ca8ed3b615f47f6c5cdbaa764d4debc27be06a8aaf78f1b02295bc6",
					"size": 9359,
					"sourceHash": "60c5d4b773892e8b531ecf9c25b32ae9f4d40da829ed38a73fed1f78766b676d",
					"status": "content"
				},
				"lib/scope.js": {
					"diff": "--- published/lib/scope.js\n+++ rebuilt/lib/scope.js\n@@ -43,30 +43,124 @@\n \n \"use strict\";\n \n-function SymbolDef(scope, orig, init) {\n-    this.name = orig.name;\n-    this.orig = [ orig ];\n-    this.init = init;\n-    this.eliminated = 0;\n-    this.scope = scope;\n-    this.references = [];\n-    this.replaced = 0;\n-    this.global = false;\n-    this.export = false;\n-    this.mangled_name = null;\n-    this.undeclared = false;\n-    this.id = SymbolDef.next_id++;\n-}\n-\n-SymbolDef.next_id = 1;\n-\n-var MASK_EXPORT_DONT_MANGLE = 1 << 0;\n-var MASK_EXPORT_WANT_MANGLE = 1 << 1;\n-\n-SymbolDef.prototype = {\n-    unmangleable: function(options) {\n+import {\n+    defaults,\n+    keep_name,\n+    mergeSort,\n+    push_uniq,\n+    make_node,\n+    return_false,\n+    return_this,\n+    return_true,\n+    string_template,\n+} from \"./utils/index.js\";\n+import {\n+    AST_Arrow,\n+    AST_Block,\n+    AST_Call,\n+    AST_Class,\n+    AST_Conditional,\n+    AST_DefClass,\n+    AST_Defun,\n+    AST_Destructuring,\n+    AST_Dot,\n+    AST_DotHash,\n+    AST_Export,\n+    AST_For,\n+    AST_ForIn,\n+    AST_ForOf,\n+    AST_Function,\n+    AST_Import,\n+    AST_IterationStatement,\n+    AST_Label,\n+    AST_LabeledStatement,\n+    AST_LabelRef,\n+    AST_Lambda,\n+    AST_LoopControl,\n+    AST_NameMapping,\n+    AST_Node,\n+    AST_Scope,\n+    AST_Sequence,\n+    AST_String,\n+    AST_Sub,\n+    AST_Switch,\n+    AST_SwitchBranch,\n+    AST_Symbol,\n+    AST_SymbolBlockDeclaration,\n+    AST_SymbolCatch,\n+    AST_SymbolClass,\n+    AST_SymbolConst,\n+    AST_SymbolDefClass,\n+    AST_SymbolDefun,\n+    AST_SymbolExport,\n+    AST_SymbolFunarg,\n+    AST_SymbolImport,\n+    AST_SymbolLambda,\n+    AST_SymbolLet,\n+    AST_SymbolMethod,\n+    AST_SymbolRef,\n+    AST_SymbolUsing,\n+    AST_SymbolVar,\n+    AST_Toplevel,\n+    AST_VarDef,\n+    AST_With,\n+    TreeWalker,\n+    walk,\n+    walk_abort\n+} from \"./ast.js\";\n+import {\n+    ALL_RESERVED_WORDS,\n+    js_error,\n+} from \"./parse.js\";\n+\n+const MASK_EXPORT_DONT_MANGLE = 1 << 0;\n+const MASK_EXPORT_WANT_MANGLE = 1 << 1;\n",
					"match": false,
					"packageHash": "fab887bf52202b047418664830c0bd22273c4626eb1ebe996ae500f0bb49fb3f",
					"size": 25997,
					"sourceHash": "751fed6755cfebe241e6e4a848478194bb3730a29e54df23ddca683c7934967c",
					"status": "content"
				},
				"lib/sourcemap.js": {
					"diff": "--- published/lib/sourcemap.js\n+++ rebuilt/lib/sourcemap.js\n@@ -43,38 +43,59 @@\n \n \"use strict\";\n \n-// a small wrapper around fitzgen's source-map library\n-function SourceMap(options) {\n+import {SourceMapConsumer, SourceMapGenerator} from \"@jridgewell/source-map\";\n+import {defaults, HOP} from \"./utils/index.js\";\n+\n+// a small wrapper around source-map and @jridgewell/source-map\n+function* SourceMap(options) {\n     options = defaults(options, {\n         file : null,\n         root : null,\n         orig : null,\n-\n-        orig_line_diff : 0,\n-        dest_line_diff : 0,\n+        files: {},\n     });\n-    var generator = new MOZ_SourceMap.SourceMapGenerator({\n+\n+    var orig_map;\n+    var generator = new SourceMapGenerator({\n         file       : options.file,\n         sourceRoot : options.root\n     });\n-    var orig_map = options.orig && new MOZ_SourceMap.SourceMapConsumer(options.orig);\n \n-    if (orig_map && Array.isArray(options.orig.sources)) {\n-        orig_map._sources.toArray().forEach(function(source) {\n-            var sourceContent = orig_map.sourceContentFor(source, true);\n-            if (sourceContent) {\n-                generator.setSourceContent(source, sourceContent);\n-            }\n-        });\n+    let sourcesContent = {__proto__: null};\n+    let files = options.files;\n+    for (var name in files) if (HOP(files, name)) {\n+        sourcesContent[name] = files[name];\n+    }\n+    if (options.orig) {\n+        // We support both @jridgewell/source-map (which has a sync\n+        // SourceMapConsumer) and source-map (which has an async\n+        // SourceMapConsumer).\n+        orig_map = yield new SourceMapConsumer(options.orig);\n+        if (orig_map.sourcesContent) {\n+            orig_map.sources.forEach(function(source, i) {\n+                var content = orig_map.sourcesContent[i];\n+                if (content) {\n+                    sourcesContent[source] = content;\n+                }\n+            });\n+        }\n     }\n \n     function add(source, gen_line, gen_col, orig_line, orig_col, name) {\n+        let generatedPos = { line: gen_line, column: gen_col };\n+\n         if (orig_map) {\n             var info = orig_map.originalPositionFor({\n                 line: orig_line,\n                 column: orig_col\n             });\n             if (info.source === null) {\n+                generator.addMapping({\n+                    generated: generatedPos,\n+                    original: null,\n+                    source: null,\n+                    name: null\n+                });\n                 return;\n             }\n             source = info.source;\n@@ -83,15 +104,45 @@\n             name = info.name || name;\n         }\n         generator.addMapping({\n-            generated : { line: gen_line + options.dest_line_diff, column: gen_col },\n-            original  : { line: orig_line + options.orig_line_diff, column: orig_col },\n+            generated : generatedPos,\n+            original  : { line: orig_line, column: orig_col },\n             source    : source,\n             name      : name\n         });\n+        generator.setSourceContent(source, sourcesContent[source]);\n     }\n+\n+    function clean(map) {\n+        const allNull = map.sourcesContent && map.sourcesContent.every(c => c == null);\n+        if (allNull) delete map.sourcesContent;\n+        if (map.file === undefined) delete map.file;\n+        if (map.sourceRoot === undefined) delete map.sourceRoot;\n+        return map;\n+    }\n+\n+    function getDecoded() {\n+        if (!generator.toDecodedMap) return null;\n",
					"match": false,
					"packageHash": "78750f32666bf23023e573d5e48d350d6e8556849ce064000d49921ef0dfa1b3",
					"size": 3643,
					"sourceHash": "89c2326255fbcecb8dc831b52cc09dc5fee71579135f0b6a7bc5d155786330eb",
					"status": "content"
				},
				"lib/transform.js": {
					"diff": "--- published/lib/transform.js\n+++ rebuilt/lib/transform.js\n@@ -43,233 +43,281 @@\n \n \"use strict\";\n \n-// Tree transformer helpers.\n-\n-function TreeTransformer(before, after) {\n-    TreeWalker.call(this);\n-    this.before = before;\n-    this.after = after;\n-}\n-TreeTransformer.prototype = new TreeWalker;\n-\n-(function(undefined) {\n-\n-    function _(node, descend) {\n-        node.DEFMETHOD(\"transform\", function(tw, in_list) {\n-            var x, y;\n-            tw.push(this);\n-            if (tw.before) x = tw.before(this, descend, in_list);\n-            if (x === undefined) {\n-                x = this;\n-                descend(x, tw);\n-                if (tw.after) {\n-                    y = tw.after(x, in_list);\n-                    if (y !== undefined) x = y;\n-                }\n+import {\n+    AST_Array,\n+    AST_Await,\n+    AST_Binary,\n+    AST_PrivateIn,\n+    AST_Block,\n+    AST_Call,\n+    AST_Case,\n+    AST_Catch,\n+    AST_Chain,\n+    AST_Class,\n+    AST_ClassStaticBlock,\n+    AST_Conditional,\n+    AST_DefinitionsLike,\n+    AST_Destructuring,\n+    AST_Do,\n+    AST_Exit,\n+    AST_Expansion,\n+    AST_Export,\n+    AST_For,\n+    AST_ForIn,\n+    AST_If,\n+    AST_Import,\n+    AST_LabeledStatement,\n+    AST_Lambda,\n+    AST_LoopControl,\n+    AST_NameMapping,\n+    AST_Node,\n+    AST_Number,\n+    AST_Object,\n+    AST_ObjectProperty,\n+    AST_PrefixedTemplateString,\n+    AST_PropAccess,\n+    AST_Sequence,\n+    AST_SimpleStatement,\n+    AST_Sub,\n+    AST_Switch,\n+    AST_TemplateString,\n+    AST_Try,\n+    AST_Unary,\n+    AST_VarDefLike,\n+    AST_While,\n+    AST_With,\n+    AST_Yield,\n+} from \"./ast.js\";\n+import {\n+    MAP as do_list,\n+    noop,\n+} from \"./utils/index.js\";\n+\n+function def_transform(node, descend) {\n+    node.DEFMETHOD(\"transform\", function(tw, in_list) {\n+        let transformed = undefined;\n+        tw.push(this);\n+        if (tw.before) transformed = tw.before(this, descend, in_list);\n+        if (transformed === undefined) {\n+            transformed = this;\n+            descend(transformed, tw);\n+            if (tw.after) {\n+                const after_ret = tw.after(transformed, in_list);\n+                if (after_ret !== undefined) transformed = after_ret;\n             }\n-            tw.pop();\n-            return x;\n-        });\n-    }\n-\n-    function do_list(list, tw) {\n-        return MAP(list, function(node) {\n-            return node.transform(tw, true);\n-        });\n",
					"match": false,
					"packageHash": "99ee0c4b4f8fa81a647f6817506460804919a457d02eb136073e88ff45a334f7",
					"size": 8963,
					"sourceHash": "8dfe6b95424a9b5b2bb723f6a141e8925a29ba461899fb6b44ddc72f66428294",
					"status": "content"
				},
				"lib/utils.js": {
					"match": false,
					"packageHash": "8451208fc28e9c84f4da70a7a509e9ca4ed049bb23320633a13d9d1d2f78fcae",
					"size": 10966,
					"status": "missing-in-source"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,58 +1,76 @@\n {\n   \"name\": \"terser\",\n   \"description\": \"JavaScript parser, mangler/compressor and beautifier toolkit for ES6+\",\n-  \"homepage\": \"https://github.com/fabiosantoscode/terser\",\n+  \"homepage\": \"https://terser.org\",\n   \"author\": \"Mihai Bazon <mihai.bazon@gmail.com> (http://lisperator.net/)\",\n   \"license\": \"BSD-2-Clause\",\n-  \"version\": \"3.14.0-beta\",\n+  \"version\": \"5.44.1\",\n   \"engines\": {\n-    \"node\": \">=0.8.0\"\n+    \"node\": \">=10\"\n   },\n   \"maintainers\": [\n-    \"Fábio Santos <fabiosantosart@gmail.com>\",\n-    \"Alex Lam <alexlamsl@gmail.com>\",\n-    \"Mihai Bazon <mihai.bazon@gmail.com> (http://lisperator.net/)\"\n+    \"Fábio Santos <fabiosantosart@gmail.com>\"\n   ],\n-  \"repository\": \"https://github.com/fabiosantoscode/terser.git\",\n-  \"main\": \"dist/bundle.js\",\n+  \"repository\": \"https://github.com/terser/terser\",\n+  \"main\": \"dist/bundle.min.js\",\n+  \"type\": \"module\",\n+  \"module\": \"./main.js\",\n+  \"exports\": {\n+    \".\": [\n+      {\n+        \"types\": \"./tools/terser.d.ts\",\n+        \"import\": \"./main.js\",\n+        \"require\": \"./dist/bundle.min.js\"\n+      },\n+      \"./dist/bundle.min.js\"\n+    ],\n+    \"./package\": \"./package.json\",\n+    \"./package.json\": \"./package.json\",\n+    \"./bin/terser\": \"./bin/terser\"\n+  },\n   \"types\": \"tools/terser.d.ts\",\n   \"bin\": {\n-    \"terser\": \"bin/uglifyjs\"\n+    \"terser\": \"bin/terser\"\n   },\n   \"files\": [\n     \"bin\",\n-    \"lib\",\n     \"dist\",\n-    \"!dist/bundle.instrumented.js\",\n+    \"lib\",\n     \"tools\",\n-    \"LICENSE\"\n+    \"LICENSE\",\n+    \"README.md\",\n+    \"CHANGELOG.md\",\n+    \"PATRONS.md\",\n+    \"main.js\"\n   ],\n   \"dependencies\": {\n-    \"commander\": \"~2.17.1\",\n-    \"source-map\": \"~0.6.1\",\n-    \"source-map-support\": \"~0.5.6\"\n+    \"@jridgewell/source-map\": \"^0.3.3\",\n+    \"acorn\": \"^8.15.0\",\n+    \"commander\": \"^2.20.0\",\n+    \"source-map-support\": \"~0.5.20\"\n   },\n   \"devDependencies\": {\n-    \"acorn\": \"^6.0.4\",\n-    \"coveralls\": \"^3.0.2\",\n-    \"csv\": \"^5.0.0\",\n-    \"es6-promise\": \"^4.2.5\",\n-    \"escodegen\": \"^1.9.1\",\n-    \"eslint\": \"^4.19.1\",\n-    \"eslump\": \"^2.0.0\",\n-    \"istanbul\": \"^0.4.5\",\n-    \"mocha\": \"^3.0.0\",\n-    \"mochallel\": \"^1.8.2\",\n+    \"@ls-lint/ls-lint\": \"^1.11.2\",\n+    \"astring\": \"^1.8.5\",\n+    \"eslint\": \"^7.32.0\",\n+    \"eslump\": \"^3.0.0\",\n+    \"esm\": \"^3.2.25\",\n+    \"mocha\": \"^9.2.0\",\n     \"pre-commit\": \"^1.2.2\",\n-    \"semver\": \"~5.5.0\"\n+    \"rollup\": \"^2.79.2\",\n+    \"semver\": \"^7.5.1\",\n+    \"source-map\": \"~0.8.0-beta.0\"\n   },\n   \"scripts\": {\n-    \"test\": \"rm -f dist/* && npm run prepare && istanbul instrument dist/bundle.js > dist/bundle.instrumented.js && node test/run-tests.js\",\n-    \"coverage\": \"istanbul cover test/run-tests.js\",\n-    \"coveralls\": \"coveralls < coverage/lcov.info\",\n+    \"test\": \"node test/compress.js && mocha test/mocha\",\n+    \"test:compress\": \"node test/compress.js\",\n+    \"test:mocha\": \"mocha test/mocha\",\n     \"lint\": \"eslint lib\",\n",
					"match": false,
					"packageHash": "f117945a57c690660df530e99d2166ed4f5c10601bb867fc371f82d90acd0324",
					"size": 2932,
					"sourceHash": "bf0935740aa56dfa2b113671f2fbf2162f517630b1b493d8940435d732a7c2a5",
					"status": "content"
				},
				"tools/colorless-console.js": {
					"match": false,
					"packageHash": "895785d6fcf20aca4e1f422bad99bde254cb7533918ab431afaaeeae936779aa",
					"size": 262,
					"status": "missing-in-source"
				},
				"tools/domprops.js": {
					"diff": "--- published/tools/domprops.js\n+++ rebuilt/tools/domprops.js\n@@ -1,4 +1,4 @@\n-var domprops = [\n+export var domprops = [\n     \"$&\",\n     \"$'\",\n     \"$*\",\n@@ -15,21 +15,158 @@\n     \"$_\",\n     \"$`\",\n     \"$input\",\n+    \"-moz-animation\",\n+    \"-moz-animation-delay\",\n+    \"-moz-animation-direction\",\n+    \"-moz-animation-duration\",\n+    \"-moz-animation-fill-mode\",\n+    \"-moz-animation-iteration-count\",\n+    \"-moz-animation-name\",\n+    \"-moz-animation-play-state\",\n+    \"-moz-animation-timing-function\",\n+    \"-moz-appearance\",\n+    \"-moz-backface-visibility\",\n+    \"-moz-border-end\",\n+    \"-moz-border-end-color\",\n+    \"-moz-border-end-style\",\n+    \"-moz-border-end-width\",\n+    \"-moz-border-image\",\n+    \"-moz-border-start\",\n+    \"-moz-border-start-color\",\n+    \"-moz-border-start-style\",\n+    \"-moz-border-start-width\",\n+    \"-moz-box-align\",\n+    \"-moz-box-direction\",\n+    \"-moz-box-flex\",\n+    \"-moz-box-ordinal-group\",\n+    \"-moz-box-orient\",\n+    \"-moz-box-pack\",\n+    \"-moz-box-sizing\",\n+    \"-moz-float-edge\",\n+    \"-moz-font-feature-settings\",\n+    \"-moz-font-language-override\",\n+    \"-moz-force-broken-image-icon\",\n+    \"-moz-hyphens\",\n+    \"-moz-image-region\",\n+    \"-moz-margin-end\",\n+    \"-moz-margin-start\",\n+    \"-moz-orient\",\n+    \"-moz-osx-font-smoothing\",\n+    \"-moz-outline-radius\",\n+    \"-moz-outline-radius-bottomleft\",\n+    \"-moz-outline-radius-bottomright\",\n+    \"-moz-outline-radius-topleft\",\n+    \"-moz-outline-radius-topright\",\n+    \"-moz-padding-end\",\n+    \"-moz-padding-start\",\n+    \"-moz-perspective\",\n+    \"-moz-perspective-origin\",\n+    \"-moz-tab-size\",\n+    \"-moz-text-size-adjust\",\n+    \"-moz-transform\",\n+    \"-moz-transform-origin\",\n+    \"-moz-transform-style\",\n+    \"-moz-transition\",\n+    \"-moz-transition-delay\",\n+    \"-moz-transition-duration\",\n+    \"-moz-transition-property\",\n+    \"-moz-transition-timing-function\",\n+    \"-moz-user-focus\",\n+    \"-moz-user-input\",\n+    \"-moz-user-modify\",\n+    \"-moz-user-select\",\n+    \"-moz-window-dragging\",\n+    \"-webkit-align-content\",\n+    \"-webkit-align-items\",\n+    \"-webkit-align-self\",\n+    \"-webkit-animation\",\n+    \"-webkit-animation-delay\",\n+    \"-webkit-animation-direction\",\n+    \"-webkit-animation-duration\",\n+    \"-webkit-animation-fill-mode\",\n+    \"-webkit-animation-iteration-count\",\n+    \"-webkit-animation-name\",\n+    \"-webkit-animation-play-state\",\n+    \"-webkit-animation-timing-function\",\n+    \"-webkit-appearance\",\n+    \"-webkit-backface-visibility\",\n+    \"-webkit-background-clip\",\n+    \"-webkit-background-origin\",\n+    \"-webkit-background-size\",\n+    \"-webkit-border-bottom-left-radius\",\n+    \"-webkit-border-bottom-right-radius\",\n+    \"-webkit-border-image\",\n+    \"-webkit-border-radius\",\n+    \"-webkit-border-top-left-radius\",\n+    \"-webkit-border-top-right-radius\",\n+    \"-webkit-box-align\",\n+    \"-webkit-box-direction\",\n+    \"-webkit-box-flex\",\n+    \"-webkit-box-ordinal-group\",\n",
					"match": false,
					"packageHash": "064de4e28b13730a741f4353127611743ae31c018c1ba7cddc2cf032da15d4a8",
					"size": 120436,
					"sourceHash": "014bf279ca57603f7d5df9182f08cf3bb46a3d84c7536fd70363cf4f9cac833d",
					"status": "content"
				},
				"tools/exit.js": {
					"match": false,
					"packageHash": "e9dab002982eed80fb8974d6a0060f0e02442395944b5577703038cc9c82943b",
					"size": 469,
					"status": "missing-in-source"
				},
				"tools/exports.js": {
					"match": false,
					"packageHash": "53775acdb58b4bf95321f01026fb3dc4a958ef4803e2f98d80bbcb8c9fdfd5de",
					"size": 524,
					"status": "missing-in-source"
				},
				"tools/node.js": {
					"match": false,
					"packageHash": "12eb3cba103081e6684bd5648f8889f2fb08cb5779522350619928de2d6375c3",
					"size": 1412,
					"status": "missing-in-source"
				},
				"tools/props.html": {
					"diff": "--- published/tools/props.html\n+++ rebuilt/tools/props.html\n@@ -21,7 +21,9 @@\n       }\n \n       function add(name) {\n-        props[name] = true;\n+        if (/^[a-z_$][a-z0-9_$]*$/i.test(name)) {\n+            props[name] = true;\n+        }\n       }\n \n       Object.getOwnPropertyNames(window).forEach(function(thing){\n@@ -36,19 +38,24 @@\n         addObject(new Event(\"keydown\"));\n         addObject(new Event(\"keypress\"));\n         addObject(new Event(\"keyup\"));\n+        addObject(new Event(\"input\"));\n+        addObject(new Event(\"touchstart\"));\n+        addObject(new Event(\"touchmove\"));\n+        addObject(new Event(\"touchend\"));\n+        addObject(new Event(\"touchcancel\"));\n+        addObject(new Event(\"pointerdown\"));\n+        addObject(new Event(\"pointermove\"));\n+        addObject(new Event(\"pointerup\"));\n+        addObject(new Event(\"pointercancel\"));\n+        addObject(new Event(\"pointerenter\"));\n+        addObject(new Event(\"pointerleave\"));\n       } catch(ex) {}\n \n       var ta = document.createElement(\"textarea\");\n       ta.style.width = \"100%\";\n       ta.style.height = \"20em\";\n       ta.style.boxSizing = \"border-box\";\n-      <!-- ta.value = Object.keys(props).sort(cmp).map(function(name){ -->\n-      <!--   return JSON.stringify(name); -->\n-      <!-- }).join(\",\\n\"); -->\n-      ta.value = 'var domprops = ' + JSON.stringify({\n-        vars: [],\n-        props: Object.keys(props).sort(cmp)\n-      }, null, 2);\n+      ta.value = 'export var domprops = ' + JSON.stringify(Object.keys(props).sort(cmp), null, 4);\n       document.body.appendChild(ta);\n \n       function cmp(a, b) {\n",
					"match": false,
					"packageHash": "6d601849993a8d865c05cc14d08edcbc37af23d7c960c623eb30f6b92cb752c0",
					"size": 1660,
					"sourceHash": "a2aa91141fa169e5784e92ea085c251ad462504249fa88447bfa25dd8950c3e7",
					"status": "content"
				},
				"tools/terser.d.ts": {
					"diff": "--- published/tools/terser.d.ts\n+++ rebuilt/tools/terser.d.ts\n@@ -1,9 +1,15 @@\n-import { RawSourceMap } from 'source-map';\n+/// <reference lib=\"es2015\" />\n \n-export type ECMA = 5 | 6 | 7 | 8 | 9;\n+import { SectionedSourceMapInput, EncodedSourceMap, DecodedSourceMap } from '@jridgewell/source-map';\n+\n+export type ECMA = 5 | 2015 | 2016 | 2017 | 2018 | 2019 | 2020;\n+\n+export type ConsoleProperty = keyof typeof console;\n+type DropConsoleOption = boolean | ConsoleProperty[];\n \n export interface ParseOptions {\n     bare_returns?: boolean;\n+    /** @deprecated legacy option. Currently, all supported EcmaScript is valid to parse. */\n     ecma?: ECMA;\n     html5_comments?: boolean;\n     shebang?: boolean;\n@@ -12,21 +18,25 @@\n export interface CompressOptions {\n     arguments?: boolean;\n     arrows?: boolean;\n+    booleans_as_integers?: boolean;\n     booleans?: boolean;\n     collapse_vars?: boolean;\n     comparisons?: boolean;\n+    computed_props?: boolean;\n     conditionals?: boolean;\n     dead_code?: boolean;\n     defaults?: boolean;\n     directives?: boolean;\n-    drop_console?: boolean;\n+    drop_console?: DropConsoleOption;\n     drop_debugger?: boolean;\n+    ecma?: ECMA;\n     evaluate?: boolean;\n     expression?: boolean;\n     global_defs?: object;\n     hoist_funs?: boolean;\n     hoist_props?: boolean;\n     hoist_vars?: boolean;\n+    ie8?: boolean;\n     if_return?: boolean;\n     inline?: boolean | InlineFunctions;\n     join_vars?: boolean;\n@@ -34,11 +44,14 @@\n     keep_fargs?: boolean;\n     keep_fnames?: boolean | RegExp;\n     keep_infinity?: boolean;\n+    lhs_constants?: boolean;\n     loops?: boolean;\n+    module?: boolean;\n     negate_iife?: boolean;\n     passes?: number;\n     properties?: boolean;\n     pure_funcs?: string[];\n+    pure_new?: boolean;\n     pure_getters?: boolean | 'strict';\n     reduce_funcs?: boolean;\n     reduce_vars?: boolean;\n@@ -48,17 +61,17 @@\n     toplevel?: boolean;\n     top_retain?: null | string | string[] | RegExp;\n     typeofs?: boolean;\n-    unsafe?: boolean;\n     unsafe_arrows?: boolean;\n+    unsafe?: boolean;\n     unsafe_comps?: boolean;\n     unsafe_Function?: boolean;\n     unsafe_math?: boolean;\n+    unsafe_symbols?: boolean;\n     unsafe_methods?: boolean;\n     unsafe_proto?: boolean;\n     unsafe_regexp?: boolean;\n     unsafe_undefined?: boolean;\n     unused?: boolean;\n-    warnings?: boolean;\n }\n \n export enum InlineFunctions {\n@@ -73,33 +86,78 @@\n     keep_classnames?: boolean | RegExp;\n     keep_fnames?: boolean | RegExp;\n     module?: boolean;\n+    nth_identifier?: SimpleIdentifierMangler | WeightedIdentifierMangler;\n     properties?: boolean | ManglePropertiesOptions;\n     reserved?: string[];\n     safari10?: boolean;\n     toplevel?: boolean;\n }\n \n+/**\n+ * An identifier mangler for which the output is invariant with respect to the source code.\n+ */\n+export interface SimpleIdentifierMangler {\n+    /**\n+     * Obtains the nth most favored (usually shortest) identifier to rename a variable to.\n+     * The mangler will increment n and retry until the return value is not in use in scope, and is not a reserved word.\n",
					"match": false,
					"packageHash": "50a6a7d29392b6b9111a4e99c47345b0f631992d05909f3adf983617a3ece1c1",
					"size": 18995,
					"sourceHash": "b8cb3b69c0e8114f758bb8ef8efeef1cc80f8911bfd21126def73d2174ce479e",
					"status": "content"
				},
				"CHANGELOG.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"PATRONS.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"bin/package.json": {
					"match": false,
					"status": "missing-in-package"
				},
				"bin/terser": {
					"match": false,
					"status": "missing-in-package"
				},
				"dist/bundle.min.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"dist/package.json": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/cli.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/common.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/compressor-flags.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/drop-side-effect-free.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/drop-unused.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/evaluate.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/global-defs.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/index.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/inference.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/inline.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/native-objects.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/reduce-vars.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/compress/tighten-body.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/equivalent-to.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/size.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/first_in_statement.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/index.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"main.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"tools/exit.cjs": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 16,
				"matchingFiles": 1,
				"missingInPackage": 25,
				"missingInSource": 7,
				"score": 0.02040816326530612,
				"totalFiles": 49
			}
		}
	}
]
