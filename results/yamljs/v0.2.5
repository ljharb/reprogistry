[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-07T04:52:48.559Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "yamljs@0.2.5",
			"name": "yamljs",
			"version": "0.2.5",
			"location": "https://registry.npmjs.org/yamljs/-/yamljs-0.2.5.tgz",
			"integrity": "sha512-Wf9ewgDjz6Ycj8XceL8twJcw4sTq83JoKCkNlVaOmPNj8Mr08Lly20h6KL9k/4fGxXkizQCEYDwb9JGqwAGSsw==",
			"publishedAt": "2016-02-16T13:25:19.403Z",
			"publishedWith": {
				"node": "5.3.0",
				"npm": "3.3.12"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/jeremyfa/yaml.js.git",
			"spec": "github:jeremyfa/yaml.js#7046e2e2263cb824d4e9f70251b5055aae892d63"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "6360094a6986d0f84515d5c2cc0f524bea7a1af2ce70caae288514f7da6505ee",
					"size": 42,
					"status": "missing-in-source"
				},
				"Cakefile": {
					"diff": "--- published/Cakefile\n+++ rebuilt/Cakefile\n@@ -21,7 +21,7 @@\n             fs.mkdirSync libDir\n         unless fs.existsSync libDir+'/Exception'\n             fs.mkdirSync libDir+'/Exception'\n-        toCompile = 'Yaml Utils Unescaper Pattern Parser Inline Escaper Dumper Exception/ParseException Exception/DumpException'.split ' '\n+        toCompile = 'Yaml Utils Unescaper Pattern Parser Inline Escaper Dumper Exception/ParseException Exception/ParseMore Exception/DumpException'.split ' '\n         do compileOne = ->\n             name = toCompile.shift()\n             outputDir = (if '/' in name then libDir+'/Exception' else libDir)\n@@ -40,7 +40,7 @@\n             fs.mkdirSync libDebugDir\n         unless fs.existsSync libDebugDir+'/Exception'\n             fs.mkdirSync libDebugDir+'/Exception'\n-        toCompile = 'Yaml Utils Unescaper Pattern Parser Inline Escaper Dumper Exception/ParseException Exception/DumpException'.split ' '\n+        toCompile = 'Yaml Utils Unescaper Pattern Parser Inline Escaper Dumper Exception/ParseException Exception/ParseMore Exception/DumpException'.split ' '\n         do compileOne = ->\n             name = toCompile.shift()\n             outputDir = (if '/' in name then libDebugDir+'/Exception' else libDebugDir)\n@@ -69,7 +69,7 @@\n \n     # Minify\n     minify = ->\n-        exec 'uglifyjs --mangle sort '+esc(distDir+'/yaml.js')+' > '+esc(distDir+'/yaml.min.js'), (err, res) ->\n+        exec 'uglifyjs '+esc(distDir+'/yaml.js')+' > '+esc(distDir+'/yaml.min.js'), (err, res) ->\n             if err then throw err\n \n             console.log \"Minified yaml.min.js\"\n@@ -106,7 +106,13 @@\n task 'test', 'test project', ->\n \n     # Test\n-    spawn 'node', [modulesDir+'/jasmine-node/lib/jasmine-node/cli.js', '--verbose', '--coffee', specDir+'/YamlSpec.coffee'], stdio: \"inherit\"\n+    proc = spawn 'node', [modulesDir+'/jasmine-node/lib/jasmine-node/cli.js', '--verbose', '--coffee', specDir+'/YamlSpec.coffee'], stdio: \"inherit\"\n+    proc.on 'exit', (code) ->\n+        if code != 0\n+            process.exit(code)\n+    proc.on 'close', (code) ->\n+        if code != 0\n+            process.exit(code)\n \n \n task 'doc', 'generate documentation', ->\n",
					"match": false,
					"packageHash": "b7220e10ccb621f93afbf656ee0c94a538a4508ac151fdf9dd947c9db733d9eb",
					"size": 4247,
					"sourceHash": "38d6ca8000a47a867d36d7d5d7d786708876307cc4345e693832ba6d7ab95fa6",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,3 +1,12 @@\n+\n+![Build status](https://travis-ci.org/jeremyfa/yaml.js.svg?branch=develop)\n+\n+âš ï¸ Development of this library has slowed-down\n+\n+_I am still using **yaml.js** in production for some projects, it works fine in all the situations I needed it. That said, I am not actively working with raw javascript environments (mostly using [haxe](https://haxe.org) now, if you are curious), thus I don't have much bandwidth to actively provide support to the posted issues asking for new features or bugfixes that don't affect my own use cases of the library. If this situation is an issue for you, I suggest you use [js-yaml](https://github.com/nodeca/js-yaml) which is a great and pretty feature-complete yaml parser and dumper for javascript. Pull Requests are still welcome, as long as they don't break the current set of unit tests!_\n+\n+_Thanks ðŸ™_\n+\n yaml.js\n =======\n \n@@ -127,7 +136,7 @@\n yaml2json myfile.yml\n \n # Store output inside a JSON file\n-yaml2json myfile.yml > ouput.json\n+yaml2json myfile.yml > output.json\n \n # Output \"pretty\" (indented) JSON\n yaml2json myfile.yml --pretty\n@@ -138,8 +147,8 @@\n # Watch a full directory and convert any YAML file into its JSON equivalent\n yaml2json mydirectory --pretty --save --recursive\n \n-# Convert JSON to YAML and store output inside a JSON file\n-json2yaml myfile.json > ouput.yml\n+# Convert JSON to YAML and store output inside a YAML file\n+json2yaml myfile.json > output.yml\n \n # Output YAML that will be inlined only after 8 levels of indentation\n json2yaml myfile.json --depth 8\n@@ -149,4 +158,10 @@\n \n # Watch a full directory and convert any JSON file into its YAML equivalent\n json2yaml mydirectory --pretty --save --recursive\n+```\n+\n+### Credits / Thanks\n+\n+- [Symfony Yaml Component](https://github.com/symfony/yaml) which was the reference implementation initially.\n+- [minj](https://github.com/minj) who did fix various bugs and ported a first batch of unit tests in an earlier version of yamljs.\n \n",
					"match": false,
					"packageHash": "3afa062dcb3f090a101537a2daad5ab667f7993469154c7a865ef8387932c063",
					"size": 4067,
					"sourceHash": "e0396baf7e622ad1222f9bdcdf9a70ad1ef197c670c6203b3487ad2240977298",
					"status": "content"
				},
				"bower.json": {
					"diff": "--- published/bower.json\n+++ rebuilt/bower.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"yaml.js\",\n   \"main\": \"dist/yaml.js\",\n-  \"version\": \"0.2.3\",\n+  \"version\": \"0.3.0\",\n   \"homepage\": \"https://github.com/jeremyfa/yaml.js\",\n   \"authors\": [\n     \"Jeremy Faivre <contact@jeremyfa.com>\"\n",
					"match": false,
					"packageHash": "72deba2b6125048e3f33b1cac201409cba10f268d7c9964b1008d63b4f43e679",
					"size": 481,
					"sourceHash": "7098c1e5bcfc81d68d339270f05dd8b02ec688e4ebcfec709700b90348e72416",
					"status": "content"
				},
				"dist/yaml.debug.js": {
					"diff": "--- published/dist/yaml.debug.js\n+++ rebuilt/dist/yaml.debug.js\n@@ -1,4 +1,4 @@\n-(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n+(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n var Dumper, Inline, Utils;\n \n Utils = require('./Utils');\n@@ -25,6 +25,9 @@\n       objectEncoder = null;\n     }\n     output = '';\n+    if (typeof input === 'function') {\n+      return output;\n+    }\n     prefix = (indent ? Utils.strRepeat(' ', indent) : '');\n     if (inline <= 0 || typeof input !== 'object' || input instanceof Date || Utils.isEmpty(input)) {\n       output += prefix + Inline.dump(input, exceptionOnInvalidType, objectEncoder);\n@@ -53,7 +56,7 @@\n module.exports = Dumper;\n \n \n-},{\"./Inline\":5,\"./Utils\":9}],2:[function(require,module,exports){\n+},{\"./Inline\":6,\"./Utils\":10}],2:[function(require,module,exports){\n var Escaper, Pattern;\n \n Pattern = require('./Pattern');\n@@ -111,7 +114,7 @@\n module.exports = Escaper;\n \n \n-},{\"./Pattern\":7}],3:[function(require,module,exports){\n+},{\"./Pattern\":8}],3:[function(require,module,exports){\n var DumpException,\n   extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n   hasProp = {}.hasOwnProperty;\n@@ -120,6 +123,7 @@\n   extend(DumpException, superClass);\n \n   function DumpException(message, parsedLine, snippet) {\n+    DumpException.__super__.constructor.call(this, message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n@@ -149,6 +153,7 @@\n   extend(ParseException, superClass);\n \n   function ParseException(message, parsedLine, snippet) {\n+    ParseException.__super__.constructor.call(this, message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n@@ -170,7 +175,37 @@\n \n \n },{}],5:[function(require,module,exports){\n-var DumpException, Escaper, Inline, ParseException, Pattern, Unescaper, Utils,\n+var ParseMore,\n+  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n+  hasProp = {}.hasOwnProperty;\n+\n+ParseMore = (function(superClass) {\n+  extend(ParseMore, superClass);\n+\n+  function ParseMore(message, parsedLine, snippet) {\n+    ParseMore.__super__.constructor.call(this, message);\n+    this.message = message;\n+    this.parsedLine = parsedLine;\n+    this.snippet = snippet;\n+  }\n+\n+  ParseMore.prototype.toString = function() {\n+    if ((this.parsedLine != null) && (this.snippet != null)) {\n+      return '<ParseMore> ' + this.message + ' (line ' + this.parsedLine + ': \\'' + this.snippet + '\\')';\n+    } else {\n+      return '<ParseMore> ' + this.message;\n+    }\n+  };\n+\n+  return ParseMore;\n+\n+})(Error);\n+\n+module.exports = ParseMore;\n+\n+\n+},{}],6:[function(require,module,exports){\n+var DumpException, Escaper, Inline, ParseException, ParseMore, Pattern, Unescaper, Utils,\n   indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n \n Pattern = require('./Pattern');\n@@ -183,6 +218,8 @@\n \n ParseException = require('./Exception/ParseException');\n \n+ParseMore = require('./Exception/ParseMore');\n+\n DumpException = require('./Exception/DumpException');\n \n Inline = (function() {\n",
					"match": false,
					"packageHash": "1966c1c82e06a2e16aa1aac1da2794ea4c50ba35dd960e03be6219dc070e7092",
					"size": 237639,
					"sourceHash": "e3a25d8dc9fe8d8ddb98fe483f00c747dc1de6cdb98597516c72db9b7ab32472",
					"status": "content"
				},
				"dist/yaml.js": {
					"diff": "--- published/dist/yaml.js\n+++ rebuilt/dist/yaml.js\n@@ -1,4 +1,4 @@\n-(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n+(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n var Dumper, Inline, Utils;\n \n Utils = require('./Utils');\n@@ -25,6 +25,9 @@\n       objectEncoder = null;\n     }\n     output = '';\n+    if (typeof input === 'function') {\n+      return output;\n+    }\n     prefix = (indent ? Utils.strRepeat(' ', indent) : '');\n     if (inline <= 0 || typeof input !== 'object' || input instanceof Date || Utils.isEmpty(input)) {\n       output += prefix + Inline.dump(input, exceptionOnInvalidType, objectEncoder);\n@@ -53,7 +56,7 @@\n module.exports = Dumper;\n \n \n-},{\"./Inline\":5,\"./Utils\":9}],2:[function(require,module,exports){\n+},{\"./Inline\":6,\"./Utils\":10}],2:[function(require,module,exports){\n var Escaper, Pattern;\n \n Pattern = require('./Pattern');\n@@ -111,7 +114,7 @@\n module.exports = Escaper;\n \n \n-},{\"./Pattern\":7}],3:[function(require,module,exports){\n+},{\"./Pattern\":8}],3:[function(require,module,exports){\n var DumpException,\n   extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n   hasProp = {}.hasOwnProperty;\n@@ -120,6 +123,7 @@\n   extend(DumpException, superClass);\n \n   function DumpException(message, parsedLine, snippet) {\n+    DumpException.__super__.constructor.call(this, message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n@@ -149,6 +153,7 @@\n   extend(ParseException, superClass);\n \n   function ParseException(message, parsedLine, snippet) {\n+    ParseException.__super__.constructor.call(this, message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n@@ -170,7 +175,37 @@\n \n \n },{}],5:[function(require,module,exports){\n-var DumpException, Escaper, Inline, ParseException, Pattern, Unescaper, Utils,\n+var ParseMore,\n+  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n+  hasProp = {}.hasOwnProperty;\n+\n+ParseMore = (function(superClass) {\n+  extend(ParseMore, superClass);\n+\n+  function ParseMore(message, parsedLine, snippet) {\n+    ParseMore.__super__.constructor.call(this, message);\n+    this.message = message;\n+    this.parsedLine = parsedLine;\n+    this.snippet = snippet;\n+  }\n+\n+  ParseMore.prototype.toString = function() {\n+    if ((this.parsedLine != null) && (this.snippet != null)) {\n+      return '<ParseMore> ' + this.message + ' (line ' + this.parsedLine + ': \\'' + this.snippet + '\\')';\n+    } else {\n+      return '<ParseMore> ' + this.message;\n+    }\n+  };\n+\n+  return ParseMore;\n+\n+})(Error);\n+\n+module.exports = ParseMore;\n+\n+\n+},{}],6:[function(require,module,exports){\n+var DumpException, Escaper, Inline, ParseException, ParseMore, Pattern, Unescaper, Utils,\n   indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n \n Pattern = require('./Pattern');\n@@ -183,6 +218,8 @@\n \n ParseException = require('./Exception/ParseException');\n \n+ParseMore = require('./Exception/ParseMore');\n+\n DumpException = require('./Exception/DumpException');\n \n Inline = (function() {\n",
					"match": false,
					"packageHash": "3f49d48d201b30f96bebf956fe41449254a0d1991380ee7c840b995e25a6ad09",
					"size": 59655,
					"sourceHash": "007a482bccab4a5cfe4824a1a8bea01cb3aa12b0baee11e3e07e9a5ea49a2231",
					"status": "content"
				},
				"dist/yaml.min.js": {
					"diff": "--- published/dist/yaml.min.js\n+++ rebuilt/dist/yaml.min.js\n@@ -1 +1 @@\n-(function e(e,t,n){function i(r,o){if(!t[r]){if(!e[r]){var u=typeof require==\"function\"&&require;if(!o&&u)return u(r,!0);if(s)return s(r,!0);var a=new Error(\"Cannot find module '\"+r+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return i(n?n:t)},l,l.exports,e,e,t,n)}return t[r].exports}var s=typeof require==\"function\"&&require;for(var r=0;r<n.length;r++)i(n[r]);return i})({1:[function(n,r,s){var i,t,e;e=n(\"./Utils\");t=n(\"./Inline\");i=function(){function n(){}n.indentation=4;n.prototype.dump=function(n,s,a,l,u){var f,h,p,o,c,r,i;if(s==null){s=0}if(a==null){a=0}if(l==null){l=false}if(u==null){u=null}o=\"\";c=a?e.strRepeat(\" \",a):\"\";if(s<=0||typeof n!==\"object\"||n instanceof Date||e.isEmpty(n)){o+=c+t.dump(n,l,u)}else{if(n instanceof Array){for(f=0,p=n.length;f<p;f++){r=n[f];i=s-1<=0||typeof r!==\"object\"||e.isEmpty(r);o+=c+\"-\"+(i?\" \":\"\\n\")+this.dump(r,s-1,i?0:a+this.indentation,l,u)+(i?\"\\n\":\"\")}}else{for(h in n){r=n[h];i=s-1<=0||typeof r!==\"object\"||e.isEmpty(r);o+=c+t.dump(h,l,u)+\":\"+(i?\" \":\"\\n\")+this.dump(r,s-1,i?0:a+this.indentation,l,u)+(i?\"\\n\":\"\")}}}return o};return n}();r.exports=i},{\"./Inline\":5,\"./Utils\":9}],2:[function(n,i,r){var t,e;e=n(\"./Pattern\");t=function(){var n;function t(){}t.LIST_ESCAPEES=[\"\\\\\",\"\\\\\\\\\",'\\\\\"','\"',\"\\x00\",\"\u0001\",\"\u0002\",\"\u0003\",\"\u0004\",\"\u0005\",\"\u0006\",\"\u0007\",\"\\b\",\"\t\",\"\\n\",\"\\x0B\",\"\\f\",\"\\r\",\"\u000e\",\"\u000f\",\"\u0010\",\"\u0011\",\"\u0012\",\"\u0013\",\"\u0014\",\"\u0015\",\"\u0016\",\"\u0017\",\"\u0018\",\"\u0019\",\"\u001a\",\"\u001b\",\"\u001c\",\"\u001d\",\"\u001e\",\"\u001f\",(n=String.fromCharCode)(133),n(160),n(8232),n(8233)];t.LIST_ESCAPED=[\"\\\\\\\\\",'\\\\\"','\\\\\"','\\\\\"',\"\\\\0\",\"\\\\x01\",\"\\\\x02\",\"\\\\x03\",\"\\\\x04\",\"\\\\x05\",\"\\\\x06\",\"\\\\a\",\"\\\\b\",\"\\\\t\",\"\\\\n\",\"\\\\v\",\"\\\\f\",\"\\\\r\",\"\\\\x0e\",\"\\\\x0f\",\"\\\\x10\",\"\\\\x11\",\"\\\\x12\",\"\\\\x13\",\"\\\\x14\",\"\\\\x15\",\"\\\\x16\",\"\\\\x17\",\"\\\\x18\",\"\\\\x19\",\"\\\\x1a\",\"\\\\e\",\"\\\\x1c\",\"\\\\x1d\",\"\\\\x1e\",\"\\\\x1f\",\"\\\\N\",\"\\\\_\",\"\\\\L\",\"\\\\P\"];t.MAPPING_ESCAPEES_TO_ESCAPED=function(){var i,e,r,n;r={};for(i=e=0,n=t.LIST_ESCAPEES.length;0<=n?e<n:e>n;i=0<=n?++e:--e){r[t.LIST_ESCAPEES[i]]=t.LIST_ESCAPED[i]}return r}();t.PATTERN_CHARACTERS_TO_ESCAPE=new e(\"[\\\\x00-\\\\x1f]|Ã‚Â…|Ã‚Â |Ã¢Â€Â¨|Ã¢Â€Â©\");t.PATTERN_MAPPING_ESCAPEES=new e(t.LIST_ESCAPEES.join(\"|\").split(\"\\\\\").join(\"\\\\\\\\\"));t.PATTERN_SINGLE_QUOTING=new e(\"[\\\\s'\\\":{}[\\\\],&*#?]|^[-?|<>=!%@`]\");t.requiresDoubleQuoting=function(e){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(e)};t.escapeWithDoubleQuotes=function(t){var e;e=this.PATTERN_MAPPING_ESCAPEES.replace(t,function(e){return function(t){return e.MAPPING_ESCAPEES_TO_ESCAPED[t]}}(this));return'\"'+e+'\"'};t.requiresSingleQuoting=function(e){return this.PATTERN_SINGLE_QUOTING.test(e)};t.escapeWithSingleQuotes=function(e){return\"'\"+e.replace(/'/g,\"''\")+\"'\"};return t}();i.exports=t},{\"./Pattern\":7}],3:[function(r,t,s){var e,n=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},i={}.hasOwnProperty;e=function(t){n(e,t);function e(e,t,n){this.message=e;this.parsedLine=t;this.snippet=n}e.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return\"<DumpException> \"+this.message+\" (line \"+this.parsedLine+\": '\"+this.snippet+\"')\"}else{return\"<DumpException> \"+this.message}};return e}(Error);t.exports=e},{}],4:[function(r,t,s){var e,n=function(e,t){for(var n in t){if(i.call(t,n))e[n]=t[n]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},i={}.hasOwnProperty;e=function(t){n(e,t);function e(e,t,n){this.message=e;this.parsedLine=t;this.snippet=n}e.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return\"<ParseException> \"+this.message+\" (line \"+this.parsedLine+\": '\"+this.snippet+\"')\"}else{return\"<ParseException> \"+this.message}};return e}(Error);t.exports=e},{}],5:[function(n,a,f){var o,i,u,t,r,s,e,l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1};r=n(\"./Pattern\");s=n(\"./Unescaper\");i=n(\"./Escaper\");e=n(\"./Utils\");t=n(\"./Exception/ParseException\");o=n(\"./Exception/DumpException\");u=function(){function n(){}n.REGEX_QUOTED_STRING=\"(?:\\\"(?:[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*)\\\"|'(?:[^']*(?:''[^']*)*)')\";n.PATTERN_TRAILING_COMMENTS=new r(\"^\\\\s*#.*$\");n.PATTERN_QUOTED_SCALAR=new r(\"^\"+n.REGEX_QUOTED_STRING);n.PATTERN_THOUSAND_NUMERIC_SCALAR=new r(\"^(-|\\\\+)?[0-9,]+(\\\\.[0-9]+)?$\");n.PATTERN_SCALAR_BY_DELIMITERS={};n.settings={};n.configure=function(e,t){if(e==null){e=null}if(t==null){t=null}this.settings.exceptionOnInvalidType=e;this.settings.objectDecoder=t};n.parse=function(n,r,s){var i,l;if(r==null){r=false}if(s==null){s=null}this.settings.exceptionOnInvalidType=r;this.settings.objectDecoder=s;if(n==null){return\"\"}n=e.trim(n);if(0===n.length){return\"\"}i={exceptionOnInvalidType:r,objectDecoder:s,i:0};switch(n.charAt(0)){case\"[\":l=this.parseSequence(n,i);++i.i;break;case\"{\":l=this.parseMapping(n,i);++i.i;break;default:l=this.parseScalar(n,null,['\"',\"'\"],i)}if(this.PATTERN_TRAILING_COMMENTS.replace(n.slice(i.i),\"\")!==\"\"){throw new t('Unexpected characters near \"'+n.slice(i.i)+'\".')}return l};n.dump=function(t,u,r){var s,l,n;if(u==null){u=false}if(r==null){r=null}if(t==null){return\"null\"}n=typeof t;if(n===\"object\"){if(t instanceof Date){return t.toISOString()}else if(r!=null){l=r(t);if(typeof l===\"string\"||l!=null){return l}}return this.dumpObject(t)}if(n===\"boolean\"){return t?\"true\":\"false\"}if(e.isDigits(t)){return n===\"string\"?\"'\"+t+\"'\":String(parseInt(t))}if(e.isNumeric(t)){return n===\"string\"?\"'\"+t+\"'\":String(parseFloat(t))}if(n===\"number\"){return t===Infinity?\".Inf\":t===-Infinity?\"-.Inf\":isNaN(t)?\".NaN\":t}if(i.requiresDoubleQuoting(t)){return i.escapeWithDoubleQuotes(t)}if(i.requiresSingleQuoting(t)){return i.escapeWithSingleQuotes(t)}if(\"\"===t){return'\"\"'}if(e.PATTERN_DATE.test(t)){return\"'\"+t+\"'\"}if((s=t.toLowerCase())===\"null\"||s===\"~\"||s===\"true\"||s===\"false\"){return\"'\"+t+\"'\"}return t};n.dumpObject=function(t,u,s){var n,r,l,e,i;if(s==null){s=null}if(t instanceof Array){e=[];for(n=0,l=t.length;n<l;n++){i=t[n];e.push(this.dump(i))}return\"[\"+e.join(\", \")+\"]\"}else{e=[];for(r in t){i=t[r];e.push(this.dump(r)+\": \"+this.dump(i))}return\"{\"+e.join(\", \")+\"}\"}};n.parseScalar=function(u,a,c,s,h){var i,f,_,n,o,E,T,p,A;if(a==null){a=null}if(c==null){c=['\"',\"'\"]}if(s==null){s=null}if(h==null){h=true}if(s==null){s={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}i=s.i;if(E=u.charAt(i),l.call(c,E)>=0){n=this.parseQuotedScalar(u,s);i=s.i;if(a!=null){A=e.ltrim(u.slice(i),\" \");if(!(T=A.charAt(0),l.call(a,T)>=0)){throw new t(\"Unexpected characters (\"+u.slice(i)+\").\")}}}else{if(!a){n=u.slice(i);i+=n.length;p=n.indexOf(\" #\");if(p!==-1){n=e.rtrim(n.slice(0,p))}}else{f=a.join(\"|\");o=this.PATTERN_SCALAR_BY_DELIMITERS[f];if(o==null){o=new r(\"^(.+?)(\"+f+\")\");this.PATTERN_SCALAR_BY_DELIMITERS[f]=o}if(_=o.exec(u.slice(i))){n=_[1];i+=n.length}else{throw new t(\"Malformed inline YAML string (\"+u+\").\")}}if(h){n=this.evaluateScalar(n,s)}}s.i=i;return n};n.parseQuotedScalar=function(r,l){var e,i,n;e=l.i;if(!(i=this.PATTERN_QUOTED_SCALAR.exec(r.slice(e)))){throw new t(\"Malformed inline YAML string (\"+r.slice(e)+\").\")}n=i[0].substr(1,i[0].length-2);if('\"'===r.charAt(e)){n=s.unescapeDoubleQuotedString(n)}else{n=s.unescapeSingleQuotedString(n)}e+=i[0].length;l.i=e;return n};n.parseSequence=function(i,n){var o,e,l,u,s,a,r;s=[];u=i.length;e=n.i;e+=1;while(e<u){n.i=e;switch(i.charAt(e)){case\"[\":s.push(this.parseSequence(i,n));e=n.i;break;case\"{\":s.push(this.parseMapping(i,n));e=n.i;break;case\"]\":return s;case\",\":case\" \":case\"\\n\":break;default:l=(a=i.charAt(e))==='\"'||a===\"'\";r=this.parseScalar(i,[\",\",\"]\"],['\"',\"'\"],n);e=n.i;if(!l&&typeof r===\"string\"&&(r.indexOf(\": \")!==-1||r.indexOf(\":\\n\")!==-1)){try{r=this.parseMapping(\"{\"+r+\"}\")}catch(f){o=f}}s.push(r);--e}++e}throw new t(\"Malformed inline YAML string \"+i)};n.parseMapping=function(i,n){var u,e,s,o,r,a,l;r={};o=i.length;e=n.i;e+=1;a=false;while(e<o){n.i=e;switch(i.charAt(e)){case\" \":case\",\":case\"\\n\":++e;n.i=e;a=true;break;case\"}\":return r}if(a){a=false;continue}s=this.parseScalar(i,[\":\",\" \",\"\\n\"],['\"',\"'\"],n,false);e=n.i;u=false;while(e<o){n.i=e;switch(i.charAt(e)){case\"[\":l=this.parseSequence(i,n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;break;case\"{\":l=this.parseMapping(i,n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;break;case\":\":case\" \":case\"\\n\":break;default:l=this.parseScalar(i,[\",\",\"}\"],['\"',\"'\"],n);e=n.i;if(r[s]===void 0){r[s]=l}u=true;--e}++e;if(u){break}}}throw new t(\"Malformed inline YAML string \"+i)};n.evaluateScalar=function(n,a){var s,h,p,E,i,c,o,r,l,f,u;n=e.trim(n);l=n.toLowerCase();switch(l){case\"null\":case\"\":case\"~\":return null;case\"true\":return true;case\"false\":return false;case\".inf\":return Infinity;case\".nan\":return NaN;case\"-.inf\":return Infinity;default:E=l.charAt(0);switch(E){case\"!\":i=n.indexOf(\" \");if(i===-1){c=l}else{c=l.slice(0,i)}switch(c){case\"!\":if(i!==-1){return parseInt(this.parseScalar(n.slice(2)))}return null;case\"!str\":return e.ltrim(n.slice(4));case\"!!str\":return e.ltrim(n.slice(5));case\"!!int\":return parseInt(this.parseScalar(n.slice(5)));case\"!!bool\":return e.parseBoolean(this.parseScalar(n.slice(6)),false);case\"!!float\":return parseFloat(this.parseScalar(n.slice(7)));case\"!!timestamp\":return e.stringToDate(e.ltrim(n.slice(11)));default:if(a==null){a={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}o=a.objectDecoder,p=a.exceptionOnInvalidType;if(o){u=e.rtrim(n);i=u.indexOf(\" \");if(i===-1){return o(u,null)}else{f=e.ltrim(u.slice(i+1));if(!(f.length>0)){f=null}return o(u.slice(0,i),f)}}if(p){throw new t(\"Custom object support when parsing a YAML file has been disabled.\")}return null}break;case\"0\":if(\"0x\"===n.slice(0,2)){return e.hexDec(n)}else if(e.isDigits(n)){return e.octDec(n)}else if(e.isNumeric(n)){return parseFloat(n)}else{return n}break;case\"+\":if(e.isDigits(n)){r=n;s=parseInt(r);if(r===String(s)){return s}else{return r}}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(\",\",\"\"))}return n;case\"-\":if(e.isDigits(n.slice(1))){if(\"0\"===n.charAt(1)){return-e.octDec(n.slice(1))}else{r=n.slice(1);s=parseInt(r);if(r===String(s)){return-s}else{return-r}}}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(\",\",\"\"))}return n;default:if(h=e.stringToDate(n)){return h}else if(e.isNumeric(n)){return parseFloat(n)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(n)){return parseFloat(n.replace(\",\",\"\"))}return n}}};return n}();a.exports=u},{\"./Escaper\":2,\"./Exception/DumpException\":3,\"./Exception/ParseException\":4,\"./Pattern\":7,\"./Unescaper\":8,\"./Utils\":9}],6:[function(r,l,u){var i,n,s,t,e;i=r(\"./Inline\");t=r(\"./Pattern\");e=r(\"./Utils\");n=r(\"./Exception/ParseException\");s=function(){r.prototype.PATTERN_FOLDED_SCALAR_ALL=new t(\"^(?:(?<type>![^\\\\|>]*)\\\\s+)?(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$\");r.prototype.PATTERN_FOLDED_SCALAR_END=new t(\"(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$\");r.prototype.PATTERN_SEQUENCE_ITEM=new t(\"^\\\\-((?<leadspaces>\\\\s+)(?<value>.+?))?\\\\s*$\");r.prototype.PATTERN_ANCHOR_VALUE=new t(\"^&(?<ref>[^ ]+) *(?<value>.*)\");r.prototype.PATTERN_COMPACT_NOTATION=new t(\"^(?<key>\"+i.REGEX_QUOTED_STRING+\"|[^ '\\\"\\\\{\\\\[].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$\");r.prototype.PATTERN_MAPPING_ITEM=new t(\"^(?<key>\"+i.REGEX_QUOTED_STRING+\"|[^ '\\\"\\\\[\\\\{].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$\");r.prototype.PATTERN_DECIMAL=new t(\"\\\\d+\");r.prototype.PATTERN_INDENT_SPACES=new t(\"^ +\");r.prototype.PATTERN_TRAILING_LINES=new t(\"(\\n*)$\");r.prototype.PATTERN_YAML_HEADER=new t(\"^\\\\%YAML[: ][\\\\d\\\\.]+.*\\n\");r.prototype.PATTERN_LEADING_COMMENTS=new t(\"^(\\\\#.*?\\n)+\");r.prototype.PATTERN_DOCUMENT_MARKER_START=new t(\"^\\\\-\\\\-\\\\-.*?\\n\");r.prototype.PATTERN_DOCUMENT_MARKER_END=new t(\"^\\\\.\\\\.\\\\.\\\\s*$\");r.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={};r.prototype.CONTEXT_NONE=0;r.prototype.CONTEXT_SEQUENCE=1;r.prototype.CONTEXT_MAPPING=2;function r(e){this.offset=e!=null?e:0;this.lines=[];this.currentLineNb=-1;this.currentLine=\"\";this.refs={}}r.prototype.parse=function(l,f,c){var j,N,m,h,d,t,o,C,E,H,L,P,b,u,g,v,k,Y,F,M,S,w,T,y,I,O,A,p,a,G,U,X,x,_,R,s;if(f==null){f=false}if(c==null){c=null}this.currentLineNb=-1;this.currentLine=\"\";this.lines=this.cleanup(l).split(\"\\n\");t=null;d=this.CONTEXT_NONE;N=false;while(this.moveToNextLine()){if(this.isCurrentLineEmpty()){continue}if(\"\t\"===this.currentLine[0]){throw new n(\"A YAML file cannot contain tabs as indentation.\",this.getRealCurrentLineNb()+1,this.currentLine)}L=y=false;if(s=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===d){throw new n(\"You cannot define a sequence item when in a mapping\")}d=this.CONTEXT_SEQUENCE;if(t==null){t=[]}if(s.value!=null&&(T=this.PATTERN_ANCHOR_VALUE.exec(s.value))){L=T.ref;s.value=T.value}if(!(s.value!=null)||\"\"===e.trim(s.value,\" \")||e.ltrim(s.value,\" \").indexOf(\"#\")===0){if(this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()){h=this.getRealCurrentLineNb()+1;a=new r(h);a.refs=this.refs;t.push(a.parse(this.getNextEmbedBlock(null,true),f,c))}else{t.push(null)}}else{if(((G=s.leadspaces)!=null?G.length:void 0)&&(T=this.PATTERN_COMPACT_NOTATION.exec(s.value))){h=this.getRealCurrentLineNb();a=new r(h);a.refs=this.refs;m=s.value;H=this.getCurrentLineIndentation();if(this.isNextLineIndented(false)){m+=\"\\n\"+this.getNextEmbedBlock(H+s.leadspaces.length+1,true)}t.push(a.parse(m,f,c))}else{t.push(this.parseValue(s.value,f,c))}}}else if((s=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))&&s.key.indexOf(\" #\")===-1){if(this.CONTEXT_SEQUENCE===d){throw new n(\"You cannot define a mapping item when in a sequence\")}d=this.CONTEXT_MAPPING;if(t==null){t={}}i.configure(f,c);try{u=i.parseScalar(s.key)}catch(D){o=D;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}if(\"<<\"===u){y=true;N=true;if(((U=s.value)!=null?U.indexOf(\"*\"):void 0)===0){x=s.value.slice(1);if(this.refs[x]==null){throw new n('Reference \"'+x+'\" does not exist.',this.getRealCurrentLineNb()+1,this.currentLine)}_=this.refs[x];if(typeof _!==\"object\"){throw new n(\"YAML merge keys used with a scalar value instead of an object.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(_ instanceof Array){for(E=P=0,k=_.length;P<k;E=++P){l=_[E];if(t[O=String(E)]==null){t[O]=l}}}else{for(u in _){l=_[u];if(t[u]==null){t[u]=l}}}}else{if(s.value!=null&&s.value!==\"\"){l=s.value}else{l=this.getNextEmbedBlock()}h=this.getRealCurrentLineNb()+1;a=new r(h);a.refs=this.refs;A=a.parse(l,f);if(typeof A!==\"object\"){throw new n(\"YAML merge keys used with a scalar value instead of an object.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(A instanceof Array){for(g=0,Y=A.length;g<Y;g++){p=A[g];if(typeof p!==\"object\"){throw new n(\"Merge items must be objects.\",this.getRealCurrentLineNb()+1,p)}if(p instanceof Array){for(E=w=0,F=p.length;w<F;E=++w){l=p[E];b=String(E);if(!t.hasOwnProperty(b)){t[b]=l}}}else{for(u in p){l=p[u];if(!t.hasOwnProperty(u)){t[u]=l}}}}}else{for(u in A){l=A[u];if(!t.hasOwnProperty(u)){t[u]=l}}}}}else if(s.value!=null&&(T=this.PATTERN_ANCHOR_VALUE.exec(s.value))){L=T.ref;s.value=T.value}if(y){}else if(!(s.value!=null)||\"\"===e.trim(s.value,\" \")||e.ltrim(s.value,\" \").indexOf(\"#\")===0){if(!this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()){if(N||t[u]===void 0){t[u]=null}}else{h=this.getRealCurrentLineNb()+1;a=new r(h);a.refs=this.refs;R=a.parse(this.getNextEmbedBlock(),f,c);if(N||t[u]===void 0){t[u]=R}}}else{R=this.parseValue(s.value,f,c);if(N||t[u]===void 0){t[u]=R}}}else{S=this.lines.length;if(1===S||2===S&&e.isEmpty(this.lines[1])){try{l=i.parse(this.lines[0],f,c)}catch(D){o=D;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}if(typeof l===\"object\"){if(l instanceof Array){C=l[0]}else{for(u in l){C=l[u];break}}if(typeof C===\"string\"&&C.indexOf(\"*\")===0){t=[];for(I=0,M=l.length;I<M;I++){j=l[I];t.push(this.refs[j.slice(1)])}l=t}}return l}else if((X=e.ltrim(l).charAt(0))===\"[\"||X===\"{\"){try{return i.parse(l,f,c)}catch(D){o=D;o.parsedLine=this.getRealCurrentLineNb()+1;o.snippet=this.currentLine;throw o}}throw new n(\"Unable to parse.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(L){if(t instanceof Array){this.refs[L]=t[t.length-1]}else{v=null;for(u in t){v=u}this.refs[L]=t[v]}}}if(e.isEmpty(t)){return null}else{return t}};r.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset};r.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-e.ltrim(this.currentLine,\" \").length};r.prototype.getNextEmbedBlock=function(r,l){var s,i,o,t,u,a,f;if(r==null){r=null}if(l==null){l=false}this.moveToNextLine();if(r==null){t=this.getCurrentLineIndentation();f=this.isStringUnIndentedCollectionItem(this.currentLine);if(!this.isCurrentLineEmpty()&&0===t&&!f){throw new n(\"Indentation problem.\",this.getRealCurrentLineNb()+1,this.currentLine)}}else{t=r}s=[this.currentLine.slice(t)];if(!l){o=this.isStringUnIndentedCollectionItem(this.currentLine)}a=this.PATTERN_FOLDED_SCALAR_END;u=!a.test(this.currentLine);while(this.moveToNextLine()){i=this.getCurrentLineIndentation();if(i===t){u=!a.test(this.currentLine)}if(o&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&i===t){this.moveToPreviousLine();break}if(this.isCurrentLineBlank()){s.push(this.currentLine.slice(t));continue}if(u&&this.isCurrentLineComment()){if(i===t){continue}}if(i>=t){s.push(this.currentLine.slice(t))}else if(e.ltrim(this.currentLine).charAt(0)===\"#\"){}else if(0===i){this.moveToPreviousLine();break}else{throw new n(\"Indentation problem.\",this.getRealCurrentLineNb()+1,this.currentLine)}}return s.join(\"\\n\")};r.prototype.moveToNextLine=function(){if(this.currentLineNb>=this.lines.length-1){return false}this.currentLine=this.lines[++this.currentLineNb];return true};r.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]};r.prototype.parseValue=function(e,a,l){var t,s,r,u,o,h,c,f;if(0===e.indexOf(\"*\")){o=e.indexOf(\"#\");if(o!==-1){e=e.substr(1,o-2)}else{e=e.slice(1)}if(this.refs[e]===void 0){throw new n('Reference \"'+e+'\" does not exist.',this.currentLine)}return this.refs[e]}if(r=this.PATTERN_FOLDED_SCALAR_ALL.exec(e)){u=(h=r.modifiers)!=null?h:\"\";s=Math.abs(parseInt(u));if(isNaN(s)){s=0}f=this.parseFoldedScalar(r.separator,this.PATTERN_DECIMAL.replace(u,\"\"),s);if(r.type!=null){i.configure(a,l);return i.parseScalar(r.type+\" \"+f)}else{return f}}try{return i.parse(e,a,l)}catch(p){t=p;if(((c=e.charAt(0))===\"[\"||c===\"{\")&&t instanceof n&&this.isNextLineIndented()){e+=\"\\n\"+this.getNextEmbedBlock();try{return i.parse(e,a,l)}catch(p){t=p;t.parsedLine=this.getRealCurrentLineNb()+1;t.snippet=this.currentLine;throw t}}else{t.parsedLine=this.getRealCurrentLineNb()+1;t.snippet=this.currentLine;throw t}}};r.prototype.parseFoldedScalar=function(T,o,i){var l,h,E,a,c,f,s,u,p,n;if(o==null){o=\"\"}if(i==null){i=0}s=this.moveToNextLine();if(!s){return\"\"}l=this.isCurrentLineBlank();n=\"\";while(s&&l){if(s=this.moveToNextLine()){n+=\"\\n\";l=this.isCurrentLineBlank()}}if(0===i){if(c=this.PATTERN_INDENT_SPACES.exec(this.currentLine)){i=c[0].length}}if(i>0){u=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i];if(u==null){u=new t(\"^ {\"+i+\"}(.*)$\");r.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i]=u}while(s&&(l||(c=u.exec(this.currentLine)))){if(l){n+=this.currentLine.slice(i)}else{n+=c[1]}if(s=this.moveToNextLine()){n+=\"\\n\";l=this.isCurrentLineBlank()}}}else if(s){n+=\"\\n\"}if(s){this.moveToPreviousLine()}if(\">\"===T){f=\"\";p=n.split(\"\\n\");for(h=0,E=p.length;h<E;h++){a=p[h];if(a.length===0||a.charAt(0)===\" \"){f=e.rtrim(f,\" \")+a+\"\\n\"}else{f+=a+\" \"}}n=f}if(\"+\"!==o){n=e.rtrim(n)}if(\"\"===o){n=this.PATTERN_TRAILING_LINES.replace(n,\"\\n\")}else if(\"-\"===o){n=this.PATTERN_TRAILING_LINES.replace(n,\"\")}return n};r.prototype.isNextLineIndented=function(t){var e,i,n;if(t==null){t=true}i=this.getCurrentLineIndentation();e=!this.moveToNextLine();if(t){while(!e&&this.isCurrentLineEmpty()){e=!this.moveToNextLine()}}else{while(!e&&this.isCurrentLineBlank()){e=!this.moveToNextLine()}}if(e){return false}n=false;if(this.getCurrentLineIndentation()>i){n=true}this.moveToPreviousLine();return n};r.prototype.isCurrentLineEmpty=function(){var t;t=e.trim(this.currentLine,\" \");return t.length===0||t.charAt(0)===\"#\"};r.prototype.isCurrentLineBlank=function(){return\"\"===e.trim(this.currentLine,\" \")};r.prototype.isCurrentLineComment=function(){var t;t=e.ltrim(this.currentLine,\" \");return t.charAt(0)===\"#\"};r.prototype.cleanup=function(t){var i,a,f,u,o,E,T,l,n,c,h,p,s,r;if(t.indexOf(\"\\r\")!==-1){t=t.split(\"\\r\\n\").join(\"\\n\").split(\"\\r\").join(\"\\n\")}i=0;c=this.PATTERN_YAML_HEADER.replaceAll(t,\"\"),t=c[0],i=c[1];this.offset+=i;h=this.PATTERN_LEADING_COMMENTS.replaceAll(t,\"\",1),r=h[0],i=h[1];if(i===1){this.offset+=e.subStrCount(t,\"\\n\")-e.subStrCount(r,\"\\n\");t=r}p=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(t,\"\",1),r=p[0],i=p[1];if(i===1){this.offset+=e.subStrCount(t,\"\\n\")-e.subStrCount(r,\"\\n\");t=r;t=this.PATTERN_DOCUMENT_MARKER_END.replace(t,\"\")}n=t.split(\"\\n\");s=-1;for(u=0,E=n.length;u<E;u++){l=n[u];f=l.length-e.ltrim(l).length;if(s===-1||f<s){s=f}}if(s>0){for(a=o=0,T=n.length;o<T;a=++o){l=n[a];n[a]=l.slice(s)}t=n.join(\"\\n\")}return t};r.prototype.isNextLineUnIndentedCollection=function(e){var t,n;if(e==null){e=null}if(e==null){e=this.getCurrentLineIndentation()}t=this.moveToNextLine();while(t&&this.isCurrentLineEmpty()){t=this.moveToNextLine()}if(false===t){return false}n=false;if(this.getCurrentLineIndentation()===e&&this.isStringUnIndentedCollectionItem(this.currentLine)){n=true}this.moveToPreviousLine();return n};r.prototype.isStringUnIndentedCollectionItem=function(){return this.currentLine===\"-\"||this.currentLine.slice(0,2)===\"- \"};return r}();l.exports=s},{\"./Exception/ParseException\":4,\"./Inline\":5,\"./Pattern\":7,\"./Utils\":9}],7:[function(n,t,i){var e;e=function(){e.prototype.regex=null;e.prototype.rawRegex=null;e.prototype.cleanedRegex=null;e.prototype.mapping=null;function e(i,o){var n,s,t,e,l,r,u,a,f;if(o==null){o=\"\"}t=\"\";l=i.length;r=null;s=0;e=0;while(e<l){n=i.charAt(e);if(n===\"\\\\\"){t+=i.slice(e,+(e+1)+1||9e9);e++}else if(n===\"(\"){if(e<l-2){a=i.slice(e,+(e+2)+1||9e9);if(a===\"(?:\"){e+=2;t+=a}else if(a===\"(?<\"){s++;e+=2;u=\"\";while(e+1<l){f=i.charAt(e+1);if(f===\">\"){t+=\"(\";e++;if(u.length>0){if(r==null){r={}}r[u]=s}break}else{u+=f}e++}}else{t+=n;s++}}else{t+=n}}else{t+=n}e++}this.rawRegex=i;this.cleanedRegex=t;this.regex=new RegExp(this.cleanedRegex,\"g\"+o.replace(\"g\",\"\"));this.mapping=r}e.prototype.exec=function(r){var i,e,t,n;this.regex.lastIndex=0;e=this.regex.exec(r);if(e==null){return null}if(this.mapping!=null){n=this.mapping;for(t in n){i=n[t];e[t]=e[i]}}return e};e.prototype.test=function(e){this.regex.lastIndex=0;return this.regex.test(e)};e.prototype.replace=function(e,t){this.regex.lastIndex=0;return e.replace(this.regex,t)};e.prototype.replaceAll=function(e,i,t){var n;if(t==null){t=0}this.regex.lastIndex=0;n=0;while(this.regex.test(e)&&(t===0||n<t)){this.regex.lastIndex=0;e=e.replace(this.regex,\"\");n++}return[e,n]};return e}();t.exports=e},{}],8:[function(t,r,s){var n,i,e;e=t(\"./Utils\");n=t(\"./Pattern\");i=function(){function t(){}t.PATTERN_ESCAPED_CHARACTER=new n('\\\\\\\\([0abt\tnvfre \"\\\\/\\\\\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})');t.unescapeSingleQuotedString=function(e){return e.replace(/\\'\\'/g,\"'\")};t.unescapeDoubleQuotedString=function(e){if(this._unescapeCallback==null){this._unescapeCallback=function(e){return function(t){return e.unescapeCharacter(t)}}(this)}return this.PATTERN_ESCAPED_CHARACTER.replace(e,this._unescapeCallback)};t.unescapeCharacter=function(n){var t;t=String.fromCharCode;switch(n.charAt(1)){case\"0\":return t(0);case\"a\":return t(7);case\"b\":return t(8);case\"t\":return\"\t\";case\"\t\":return\"\t\";case\"n\":return\"\\n\";case\"v\":return t(11);case\"f\":return t(12);case\"r\":return t(13);case\"e\":return t(27);case\" \":return\" \";case'\"':return'\"';case\"/\":return\"/\";case\"\\\\\":return\"\\\\\";case\"N\":return t(133);case\"_\":return t(160);case\"L\":return t(8232);case\"P\":return t(8233);case\"x\":return e.utf8chr(e.hexDec(n.substr(2,2)));case\"u\":return e.utf8chr(e.hexDec(n.substr(2,4)));case\"U\":return e.utf8chr(e.hexDec(n.substr(2,8)));default:return\"\"}};return t}();r.exports=i},{\"./Pattern\":7,\"./Utils\":9}],9:[function(e,i,r){var t,n;t=e(\"./Pattern\");n=function(){function n(){}n.REGEX_LEFT_TRIM_BY_CHAR={};n.REGEX_RIGHT_TRIM_BY_CHAR={};n.REGEX_SPACES=/\\s+/g;n.REGEX_DIGITS=/^\\d+$/;n.REGEX_OCTAL=/[^0-7]/gi;n.REGEX_HEXADECIMAL=/[^a-f0-9]/gi;n.PATTERN_DATE=new t(\"^\"+\"(?<year>[0-9][0-9][0-9][0-9])\"+\"-(?<month>[0-9][0-9]?)\"+\"-(?<day>[0-9][0-9]?)\"+\"(?:(?:[Tt]|[ \t]+)\"+\"(?<hour>[0-9][0-9]?)\"+\":(?<minute>[0-9][0-9])\"+\":(?<second>[0-9][0-9])\"+\"(?:.(?<fraction>[0-9]*))?\"+\"(?:[ \t]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)\"+\"(?::(?<tz_minute>[0-9][0-9]))?))?)?\"+\"$\",\"i\");n.LOCAL_TIMEZONE_OFFSET=(new Date).getTimezoneOffset()*60*1e3;n.trim=function(i,e){var t,n;if(e==null){e=\"\\\\s\"}return i.trim();t=this.REGEX_LEFT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_LEFT_TRIM_BY_CHAR[e]=t=new RegExp(\"^\"+e+\"\"+e+\"*\")}t.lastIndex=0;n=this.REGEX_RIGHT_TRIM_BY_CHAR[e];if(n==null){this.REGEX_RIGHT_TRIM_BY_CHAR[e]=n=new RegExp(e+\"\"+e+\"*$\")}n.lastIndex=0;return i.replace(t,\"\").replace(n,\"\")};n.ltrim=function(n,e){var t;if(e==null){e=\"\\\\s\"}t=this.REGEX_LEFT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_LEFT_TRIM_BY_CHAR[e]=t=new RegExp(\"^\"+e+\"\"+e+\"*\")}t.lastIndex=0;return n.replace(t,\"\")};n.rtrim=function(n,e){var t;if(e==null){e=\"\\\\s\"}t=this.REGEX_RIGHT_TRIM_BY_CHAR[e];if(t==null){this.REGEX_RIGHT_TRIM_BY_CHAR[e]=t=new RegExp(e+\"\"+e+\"*$\")}t.lastIndex=0;return n.replace(t,\"\")};n.isEmpty=function(e){return!e||e===\"\"||e===\"0\"||e instanceof Array&&e.length===0};n.subStrCount=function(e,i,u,a){var s,r,t,o,n,l;s=0;e=\"\"+e;i=\"\"+i;if(u!=null){e=e.slice(u)}if(a!=null){e=e.slice(0,a)}o=e.length;l=i.length;for(r=t=0,n=o;0<=n?t<n:t>n;r=0<=n?++t:--t){if(i===e.slice(r,l)){s++;r+=l-1}}return s};n.isDigits=function(e){this.REGEX_DIGITS.lastIndex=0;return this.REGEX_DIGITS.test(e)};n.octDec=function(e){this.REGEX_OCTAL.lastIndex=0;return parseInt((e+\"\").replace(this.REGEX_OCTAL,\"\"),8)};n.hexDec=function(e){this.REGEX_HEXADECIMAL.lastIndex=0;e=this.trim(e);if((e+\"\").slice(0,2)===\"0x\"){e=(e+\"\").slice(2)}return parseInt((e+\"\").replace(this.REGEX_HEXADECIMAL,\"\"),16)};n.utf8chr=function(e){var t;t=String.fromCharCode;if(128>(e%=2097152)){return t(e)}if(2048>e){return t(192|e>>6)+t(128|e&63)}if(65536>e){return t(224|e>>12)+t(128|e>>6&63)+t(128|e&63)}return t(240|e>>18)+t(128|e>>12&63)+t(128|e>>6&63)+t(128|e&63)};n.parseBoolean=function(t,n){var e;if(n==null){n=true}if(typeof t===\"string\"){e=t.toLowerCase();if(!n){if(e===\"no\"){return false}}if(e===\"0\"){return false}if(e===\"false\"){return false}if(e===\"\"){return false}return true}return!!t};n.isNumeric=function(e){this.REGEX_SPACES.lastIndex=0;return typeof e===\"number\"||typeof e===\"string\"&&!isNaN(e)&&e.replace(this.REGEX_SPACES,\"\")!==\"\"};n.stringToDate=function(r){var n,l,t,c,e,h,u,f,o,a,i,s;if(!(r!=null?r.length:void 0)){return null}e=this.PATTERN_DATE.exec(r);if(!e){return null}s=parseInt(e.year,10);u=parseInt(e.month,10)-1;l=parseInt(e.day,10);if(e.hour==null){n=new Date(Date.UTC(s,u,l));return n}c=parseInt(e.hour,10);h=parseInt(e.minute,10);f=parseInt(e.second,10);if(e.fraction!=null){t=e.fraction.slice(0,3);while(t.length<3){t+=\"0\"}t=parseInt(t,10)}else{t=0}if(e.tz!=null){o=parseInt(e.tz_hour,10);if(e.tz_minute!=null){a=parseInt(e.tz_minute,10)}else{a=0}i=(o*60+a)*6e4;if(\"-\"===e.tz_sign){i*=-1}}n=new Date(Date.UTC(s,u,l,c,h,f,t));if(i){n.setTime(n.getTime()+i)}return n};n.strRepeat=function(n,i){var e,t;t=\"\";e=0;while(e<i){t+=n;e++}return t};n.getStringFromFile=function(i,n){var s,l,r,a,f,u,o,t;if(n==null){n=null}t=null;if(typeof window!==\"undefined\"&&window!==null){if(window.XMLHttpRequest){t=new XMLHttpRequest}else if(window.ActiveXObject){u=[\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.3.0\",\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\"];for(r=0,a=u.length;r<a;r++){f=u[r];try{t=new ActiveXObject(f)}catch(c){}}}}if(t!=null){if(n!=null){t.onreadystatechange=function(){if(t.readyState===4){if(t.status===200||t.status===0){return n(t.responseText)}else{return n(null)}}};t.open(\"GET\",i,true);return t.send(null)}else{t.open(\"GET\",i,false);t.send(null);if(t.status===200||t.status===0){return t.responseText}return null}}else{o=e;l=o(\"fs\");if(n!=null){return l.readFile(i,function(e,t){if(e){return n(null)}else{return n(String(t))}})}else{s=l.readFileSync(i);if(s!=null){return String(s)}return null}}};return n}();i.exports=n},{\"./Pattern\":7}],10:[function(e,s,l){var i,r,n,t;r=e(\"./Parser\");i=e(\"./Dumper\");n=e(\"./Utils\");t=function(){function t(){}t.parse=function(n,e,t){if(e==null){e=false}if(t==null){t=null}return(new r).parse(n,e,t)};t.parseFile=function(s,e,t,i){var r;if(e==null){e=null}if(t==null){t=false}if(i==null){i=null}if(e!=null){return n.getStringFromFile(s,function(n){return function(s){var r;r=null;if(s!=null){r=n.parse(s,t,i)}e(r)}}(this))}else{r=n.getStringFromFile(s);if(r!=null){return this.parse(r,t,i)}return null}};t.dump=function(l,e,t,n,r){var s;if(e==null){e=2}if(t==null){t=4}if(n==null){n=false}if(r==null){r=null}s=new i;s.indentation=t;return s.dump(l,e,0,n,r)};t.register=function(){var t;t=function(e,t){return e.exports=YAML.parseFile(t)};if((typeof e!==\"undefined\"&&e!==null?e.extensions:void 0)!=null){e.extensions[\".yml\"]=t;return e.extensions[\".yaml\"]=t}};t.stringify=function(e,t,n,i,r){return this.dump(e,t,n,i,r)};t.load=function(e,t,n,i){return this.parseFile(e,t,n,i)};return t}();if(typeof window!==\"undefined\"&&window!==null){window.YAML=t}if(typeof window===\"undefined\"||window===null){this.YAML=t}s.exports=t},{\"./Dumper\":1,\"./Parser\":6,\"./Utils\":9}]},{},[10]);\n+(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){var Dumper,Inline,Utils;Utils=require(\"./Utils\");Inline=require(\"./Inline\");Dumper=function(){function Dumper(){}Dumper.indentation=4;Dumper.prototype.dump=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){var i,key,len,output,prefix,value,willBeInlined;if(inline==null){inline=0}if(indent==null){indent=0}if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectEncoder==null){objectEncoder=null}output=\"\";if(typeof input===\"function\"){return output}prefix=indent?Utils.strRepeat(\" \",indent):\"\";if(inline<=0||typeof input!==\"object\"||input instanceof Date||Utils.isEmpty(input)){output+=prefix+Inline.dump(input,exceptionOnInvalidType,objectEncoder)}else{if(input instanceof Array){for(i=0,len=input.length;i<len;i++){value=input[i];willBeInlined=inline-1<=0||typeof value!==\"object\"||Utils.isEmpty(value);output+=prefix+\"-\"+(willBeInlined?\" \":\"\\n\")+this.dump(value,inline-1,willBeInlined?0:indent+this.indentation,exceptionOnInvalidType,objectEncoder)+(willBeInlined?\"\\n\":\"\")}}else{for(key in input){value=input[key];willBeInlined=inline-1<=0||typeof value!==\"object\"||Utils.isEmpty(value);output+=prefix+Inline.dump(key,exceptionOnInvalidType,objectEncoder)+\":\"+(willBeInlined?\" \":\"\\n\")+this.dump(value,inline-1,willBeInlined?0:indent+this.indentation,exceptionOnInvalidType,objectEncoder)+(willBeInlined?\"\\n\":\"\")}}}return output};return Dumper}();module.exports=Dumper},{\"./Inline\":6,\"./Utils\":10}],2:[function(require,module,exports){var Escaper,Pattern;Pattern=require(\"./Pattern\");Escaper=function(){var ch;function Escaper(){}Escaper.LIST_ESCAPEES=[\"\\\\\",\"\\\\\\\\\",'\\\\\"','\"',\"\\0\",\"\u0001\",\"\u0002\",\"\u0003\",\"\u0004\",\"\u0005\",\"\u0006\",\"\u0007\",\"\\b\",\"\\t\",\"\\n\",\"\\v\",\"\\f\",\"\\r\",\"\u000e\",\"\u000f\",\"\u0010\",\"\u0011\",\"\u0012\",\"\u0013\",\"\u0014\",\"\u0015\",\"\u0016\",\"\u0017\",\"\u0018\",\"\u0019\",\"\u001a\",\"\u001b\",\"\u001c\",\"\u001d\",\"\u001e\",\"\u001f\",(ch=String.fromCharCode)(133),ch(160),ch(8232),ch(8233)];Escaper.LIST_ESCAPED=[\"\\\\\\\\\",'\\\\\"','\\\\\"','\\\\\"',\"\\\\0\",\"\\\\x01\",\"\\\\x02\",\"\\\\x03\",\"\\\\x04\",\"\\\\x05\",\"\\\\x06\",\"\\\\a\",\"\\\\b\",\"\\\\t\",\"\\\\n\",\"\\\\v\",\"\\\\f\",\"\\\\r\",\"\\\\x0e\",\"\\\\x0f\",\"\\\\x10\",\"\\\\x11\",\"\\\\x12\",\"\\\\x13\",\"\\\\x14\",\"\\\\x15\",\"\\\\x16\",\"\\\\x17\",\"\\\\x18\",\"\\\\x19\",\"\\\\x1a\",\"\\\\e\",\"\\\\x1c\",\"\\\\x1d\",\"\\\\x1e\",\"\\\\x1f\",\"\\\\N\",\"\\\\_\",\"\\\\L\",\"\\\\P\"];Escaper.MAPPING_ESCAPEES_TO_ESCAPED=function(){var i,j,mapping,ref;mapping={};for(i=j=0,ref=Escaper.LIST_ESCAPEES.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){mapping[Escaper.LIST_ESCAPEES[i]]=Escaper.LIST_ESCAPED[i]}return mapping}();Escaper.PATTERN_CHARACTERS_TO_ESCAPE=new Pattern(\"[\\\\x00-\\\\x1f]|Ã‚Â…|Ã‚Â |Ã¢Â€Â¨|Ã¢Â€Â©\");Escaper.PATTERN_MAPPING_ESCAPEES=new Pattern(Escaper.LIST_ESCAPEES.join(\"|\").split(\"\\\\\").join(\"\\\\\\\\\"));Escaper.PATTERN_SINGLE_QUOTING=new Pattern(\"[\\\\s'\\\":{}[\\\\],&*#?]|^[-?|<>=!%@`]\");Escaper.requiresDoubleQuoting=function(value){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(value)};Escaper.escapeWithDoubleQuotes=function(value){var result;result=this.PATTERN_MAPPING_ESCAPEES.replace(value,function(_this){return function(str){return _this.MAPPING_ESCAPEES_TO_ESCAPED[str]}}(this));return'\"'+result+'\"'};Escaper.requiresSingleQuoting=function(value){return this.PATTERN_SINGLE_QUOTING.test(value)};Escaper.escapeWithSingleQuotes=function(value){return\"'\"+value.replace(/'/g,\"''\")+\"'\"};return Escaper}();module.exports=Escaper},{\"./Pattern\":8}],3:[function(require,module,exports){var DumpException,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;DumpException=function(superClass){extend(DumpException,superClass);function DumpException(message,parsedLine,snippet){DumpException.__super__.constructor.call(this,message);this.message=message;this.parsedLine=parsedLine;this.snippet=snippet}DumpException.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return\"<DumpException> \"+this.message+\" (line \"+this.parsedLine+\": '\"+this.snippet+\"')\"}else{return\"<DumpException> \"+this.message}};return DumpException}(Error);module.exports=DumpException},{}],4:[function(require,module,exports){var ParseException,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;ParseException=function(superClass){extend(ParseException,superClass);function ParseException(message,parsedLine,snippet){ParseException.__super__.constructor.call(this,message);this.message=message;this.parsedLine=parsedLine;this.snippet=snippet}ParseException.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return\"<ParseException> \"+this.message+\" (line \"+this.parsedLine+\": '\"+this.snippet+\"')\"}else{return\"<ParseException> \"+this.message}};return ParseException}(Error);module.exports=ParseException},{}],5:[function(require,module,exports){var ParseMore,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;ParseMore=function(superClass){extend(ParseMore,superClass);function ParseMore(message,parsedLine,snippet){ParseMore.__super__.constructor.call(this,message);this.message=message;this.parsedLine=parsedLine;this.snippet=snippet}ParseMore.prototype.toString=function(){if(this.parsedLine!=null&&this.snippet!=null){return\"<ParseMore> \"+this.message+\" (line \"+this.parsedLine+\": '\"+this.snippet+\"')\"}else{return\"<ParseMore> \"+this.message}};return ParseMore}(Error);module.exports=ParseMore},{}],6:[function(require,module,exports){var DumpException,Escaper,Inline,ParseException,ParseMore,Pattern,Unescaper,Utils,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};Pattern=require(\"./Pattern\");Unescaper=require(\"./Unescaper\");Escaper=require(\"./Escaper\");Utils=require(\"./Utils\");ParseException=require(\"./Exception/ParseException\");ParseMore=require(\"./Exception/ParseMore\");DumpException=require(\"./Exception/DumpException\");Inline=function(){function Inline(){}Inline.REGEX_QUOTED_STRING=\"(?:\\\"(?:[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*)\\\"|'(?:[^']*(?:''[^']*)*)')\";Inline.PATTERN_TRAILING_COMMENTS=new Pattern(\"^\\\\s*#.*$\");Inline.PATTERN_QUOTED_SCALAR=new Pattern(\"^\"+Inline.REGEX_QUOTED_STRING);Inline.PATTERN_THOUSAND_NUMERIC_SCALAR=new Pattern(\"^(-|\\\\+)?[0-9,]+(\\\\.[0-9]+)?$\");Inline.PATTERN_SCALAR_BY_DELIMITERS={};Inline.settings={};Inline.configure=function(exceptionOnInvalidType,objectDecoder){if(exceptionOnInvalidType==null){exceptionOnInvalidType=null}if(objectDecoder==null){objectDecoder=null}this.settings.exceptionOnInvalidType=exceptionOnInvalidType;this.settings.objectDecoder=objectDecoder};Inline.parse=function(value,exceptionOnInvalidType,objectDecoder){var context,result;if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectDecoder==null){objectDecoder=null}this.settings.exceptionOnInvalidType=exceptionOnInvalidType;this.settings.objectDecoder=objectDecoder;if(value==null){return\"\"}value=Utils.trim(value);if(0===value.length){return\"\"}context={exceptionOnInvalidType:exceptionOnInvalidType,objectDecoder:objectDecoder,i:0};switch(value.charAt(0)){case\"[\":result=this.parseSequence(value,context);++context.i;break;case\"{\":result=this.parseMapping(value,context);++context.i;break;default:result=this.parseScalar(value,null,['\"',\"'\"],context)}if(this.PATTERN_TRAILING_COMMENTS.replace(value.slice(context.i),\"\")!==\"\"){throw new ParseException('Unexpected characters near \"'+value.slice(context.i)+'\".')}return result};Inline.dump=function(value,exceptionOnInvalidType,objectEncoder){var ref,result,type;if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectEncoder==null){objectEncoder=null}if(value==null){return\"null\"}type=typeof value;if(type===\"object\"){if(value instanceof Date){return value.toISOString()}else if(objectEncoder!=null){result=objectEncoder(value);if(typeof result===\"string\"||result!=null){return result}}return this.dumpObject(value)}if(type===\"boolean\"){return value?\"true\":\"false\"}if(Utils.isDigits(value)){return type===\"string\"?\"'\"+value+\"'\":String(parseInt(value))}if(Utils.isNumeric(value)){return type===\"string\"?\"'\"+value+\"'\":String(parseFloat(value))}if(type===\"number\"){return value===Infinity?\".Inf\":value===-Infinity?\"-.Inf\":isNaN(value)?\".NaN\":value}if(Escaper.requiresDoubleQuoting(value)){return Escaper.escapeWithDoubleQuotes(value)}if(Escaper.requiresSingleQuoting(value)){return Escaper.escapeWithSingleQuotes(value)}if(\"\"===value){return'\"\"'}if(Utils.PATTERN_DATE.test(value)){return\"'\"+value+\"'\"}if((ref=value.toLowerCase())===\"null\"||ref===\"~\"||ref===\"true\"||ref===\"false\"){return\"'\"+value+\"'\"}return value};Inline.dumpObject=function(value,exceptionOnInvalidType,objectSupport){var j,key,len1,output,val;if(objectSupport==null){objectSupport=null}if(value instanceof Array){output=[];for(j=0,len1=value.length;j<len1;j++){val=value[j];output.push(this.dump(val))}return\"[\"+output.join(\", \")+\"]\"}else{output=[];for(key in value){val=value[key];output.push(this.dump(key)+\": \"+this.dump(val))}return\"{\"+output.join(\", \")+\"}\"}};Inline.parseScalar=function(scalar,delimiters,stringDelimiters,context,evaluate){var i,joinedDelimiters,match,output,pattern,ref,ref1,strpos,tmp;if(delimiters==null){delimiters=null}if(stringDelimiters==null){stringDelimiters=['\"',\"'\"]}if(context==null){context=null}if(evaluate==null){evaluate=true}if(context==null){context={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}i=context.i;if(ref=scalar.charAt(i),indexOf.call(stringDelimiters,ref)>=0){output=this.parseQuotedScalar(scalar,context);i=context.i;if(delimiters!=null){tmp=Utils.ltrim(scalar.slice(i),\" \");if(!(ref1=tmp.charAt(0),indexOf.call(delimiters,ref1)>=0)){throw new ParseException(\"Unexpected characters (\"+scalar.slice(i)+\").\")}}}else{if(!delimiters){output=scalar.slice(i);i+=output.length;strpos=output.indexOf(\" #\");if(strpos!==-1){output=Utils.rtrim(output.slice(0,strpos))}}else{joinedDelimiters=delimiters.join(\"|\");pattern=this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters];if(pattern==null){pattern=new Pattern(\"^(.+?)(\"+joinedDelimiters+\")\");this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters]=pattern}if(match=pattern.exec(scalar.slice(i))){output=match[1];i+=output.length}else{throw new ParseException(\"Malformed inline YAML string (\"+scalar+\").\")}}if(evaluate){output=this.evaluateScalar(output,context)}}context.i=i;return output};Inline.parseQuotedScalar=function(scalar,context){var i,match,output;i=context.i;if(!(match=this.PATTERN_QUOTED_SCALAR.exec(scalar.slice(i)))){throw new ParseMore(\"Malformed inline YAML string (\"+scalar.slice(i)+\").\")}output=match[0].substr(1,match[0].length-2);if('\"'===scalar.charAt(i)){output=Unescaper.unescapeDoubleQuotedString(output)}else{output=Unescaper.unescapeSingleQuotedString(output)}i+=match[0].length;context.i=i;return output};Inline.parseSequence=function(sequence,context){var e,error,i,isQuoted,len,output,ref,value;output=[];len=sequence.length;i=context.i;i+=1;while(i<len){context.i=i;switch(sequence.charAt(i)){case\"[\":output.push(this.parseSequence(sequence,context));i=context.i;break;case\"{\":output.push(this.parseMapping(sequence,context));i=context.i;break;case\"]\":return output;case\",\":case\" \":case\"\\n\":break;default:isQuoted=(ref=sequence.charAt(i))==='\"'||ref===\"'\";value=this.parseScalar(sequence,[\",\",\"]\"],['\"',\"'\"],context);i=context.i;if(!isQuoted&&typeof value===\"string\"&&(value.indexOf(\": \")!==-1||value.indexOf(\":\\n\")!==-1)){try{value=this.parseMapping(\"{\"+value+\"}\")}catch(error){e=error}}output.push(value);--i}++i}throw new ParseMore(\"Malformed inline YAML string \"+sequence)};Inline.parseMapping=function(mapping,context){var done,i,key,len,output,shouldContinueWhileLoop,value;output={};len=mapping.length;i=context.i;i+=1;shouldContinueWhileLoop=false;while(i<len){context.i=i;switch(mapping.charAt(i)){case\" \":case\",\":case\"\\n\":++i;context.i=i;shouldContinueWhileLoop=true;break;case\"}\":return output}if(shouldContinueWhileLoop){shouldContinueWhileLoop=false;continue}key=this.parseScalar(mapping,[\":\",\" \",\"\\n\"],['\"',\"'\"],context,false);i=context.i;done=false;while(i<len){context.i=i;switch(mapping.charAt(i)){case\"[\":value=this.parseSequence(mapping,context);i=context.i;if(output[key]===void 0){output[key]=value}done=true;break;case\"{\":value=this.parseMapping(mapping,context);i=context.i;if(output[key]===void 0){output[key]=value}done=true;break;case\":\":case\" \":case\"\\n\":break;default:value=this.parseScalar(mapping,[\",\",\"}\"],['\"',\"'\"],context);i=context.i;if(output[key]===void 0){output[key]=value}done=true;--i}++i;if(done){break}}}throw new ParseMore(\"Malformed inline YAML string \"+mapping)};Inline.evaluateScalar=function(scalar,context){var cast,date,exceptionOnInvalidType,firstChar,firstSpace,firstWord,objectDecoder,raw,scalarLower,subValue,trimmedScalar;scalar=Utils.trim(scalar);scalarLower=scalar.toLowerCase();switch(scalarLower){case\"null\":case\"\":case\"~\":return null;case\"true\":return true;case\"false\":return false;case\".inf\":return Infinity;case\".nan\":return NaN;case\"-.inf\":return Infinity;default:firstChar=scalarLower.charAt(0);switch(firstChar){case\"!\":firstSpace=scalar.indexOf(\" \");if(firstSpace===-1){firstWord=scalarLower}else{firstWord=scalarLower.slice(0,firstSpace)}switch(firstWord){case\"!\":if(firstSpace!==-1){return parseInt(this.parseScalar(scalar.slice(2)))}return null;case\"!str\":return Utils.ltrim(scalar.slice(4));case\"!!str\":return Utils.ltrim(scalar.slice(5));case\"!!int\":return parseInt(this.parseScalar(scalar.slice(5)));case\"!!bool\":return Utils.parseBoolean(this.parseScalar(scalar.slice(6)),false);case\"!!float\":return parseFloat(this.parseScalar(scalar.slice(7)));case\"!!timestamp\":return Utils.stringToDate(Utils.ltrim(scalar.slice(11)));default:if(context==null){context={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}}objectDecoder=context.objectDecoder,exceptionOnInvalidType=context.exceptionOnInvalidType;if(objectDecoder){trimmedScalar=Utils.rtrim(scalar);firstSpace=trimmedScalar.indexOf(\" \");if(firstSpace===-1){return objectDecoder(trimmedScalar,null)}else{subValue=Utils.ltrim(trimmedScalar.slice(firstSpace+1));if(!(subValue.length>0)){subValue=null}return objectDecoder(trimmedScalar.slice(0,firstSpace),subValue)}}if(exceptionOnInvalidType){throw new ParseException(\"Custom object support when parsing a YAML file has been disabled.\")}return null}break;case\"0\":if(\"0x\"===scalar.slice(0,2)){return Utils.hexDec(scalar)}else if(Utils.isDigits(scalar)){return Utils.octDec(scalar)}else if(Utils.isNumeric(scalar)){return parseFloat(scalar)}else{return scalar}break;case\"+\":if(Utils.isDigits(scalar)){raw=scalar;cast=parseInt(raw);if(raw===String(cast)){return cast}else{return raw}}else if(Utils.isNumeric(scalar)){return parseFloat(scalar)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)){return parseFloat(scalar.replace(\",\",\"\"))}return scalar;case\"-\":if(Utils.isDigits(scalar.slice(1))){if(\"0\"===scalar.charAt(1)){return-Utils.octDec(scalar.slice(1))}else{raw=scalar.slice(1);cast=parseInt(raw);if(raw===String(cast)){return-cast}else{return-raw}}}else if(Utils.isNumeric(scalar)){return parseFloat(scalar)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)){return parseFloat(scalar.replace(\",\",\"\"))}return scalar;default:if(date=Utils.stringToDate(scalar)){return date}else if(Utils.isNumeric(scalar)){return parseFloat(scalar)}else if(this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)){return parseFloat(scalar.replace(\",\",\"\"))}return scalar}}};return Inline}();module.exports=Inline},{\"./Escaper\":2,\"./Exception/DumpException\":3,\"./Exception/ParseException\":4,\"./Exception/ParseMore\":5,\"./Pattern\":8,\"./Unescaper\":9,\"./Utils\":10}],7:[function(require,module,exports){var Inline,ParseException,ParseMore,Parser,Pattern,Utils;Inline=require(\"./Inline\");Pattern=require(\"./Pattern\");Utils=require(\"./Utils\");ParseException=require(\"./Exception/ParseException\");ParseMore=require(\"./Exception/ParseMore\");Parser=function(){Parser.prototype.PATTERN_FOLDED_SCALAR_ALL=new Pattern(\"^(?:(?<type>![^\\\\|>]*)\\\\s+)?(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$\");Parser.prototype.PATTERN_FOLDED_SCALAR_END=new Pattern(\"(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$\");Parser.prototype.PATTERN_SEQUENCE_ITEM=new Pattern(\"^\\\\-((?<leadspaces>\\\\s+)(?<value>.+?))?\\\\s*$\");Parser.prototype.PATTERN_ANCHOR_VALUE=new Pattern(\"^&(?<ref>[^ ]+) *(?<value>.*)\");Parser.prototype.PATTERN_COMPACT_NOTATION=new Pattern(\"^(?<key>\"+Inline.REGEX_QUOTED_STRING+\"|[^ '\\\"\\\\{\\\\[].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$\");Parser.prototype.PATTERN_MAPPING_ITEM=new Pattern(\"^(?<key>\"+Inline.REGEX_QUOTED_STRING+\"|[^ '\\\"\\\\[\\\\{].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$\");Parser.prototype.PATTERN_DECIMAL=new Pattern(\"\\\\d+\");Parser.prototype.PATTERN_INDENT_SPACES=new Pattern(\"^ +\");Parser.prototype.PATTERN_TRAILING_LINES=new Pattern(\"(\\n*)$\");Parser.prototype.PATTERN_YAML_HEADER=new Pattern(\"^\\\\%YAML[: ][\\\\d\\\\.]+.*\\n\",\"m\");Parser.prototype.PATTERN_LEADING_COMMENTS=new Pattern(\"^(\\\\#.*?\\n)+\",\"m\");Parser.prototype.PATTERN_DOCUMENT_MARKER_START=new Pattern(\"^\\\\-\\\\-\\\\-.*?\\n\",\"m\");Parser.prototype.PATTERN_DOCUMENT_MARKER_END=new Pattern(\"^\\\\.\\\\.\\\\.\\\\s*$\",\"m\");Parser.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={};Parser.prototype.CONTEXT_NONE=0;Parser.prototype.CONTEXT_SEQUENCE=1;Parser.prototype.CONTEXT_MAPPING=2;function Parser(offset){this.offset=offset!=null?offset:0;this.lines=[];this.currentLineNb=-1;this.currentLine=\"\";this.refs={}}Parser.prototype.parse=function(value,exceptionOnInvalidType,objectDecoder){var alias,allowOverwrite,block,c,context,data,e,error,error1,error2,first,i,indent,isRef,j,k,key,l,lastKey,len,len1,len2,len3,lineCount,m,matches,mergeNode,n,name,parsed,parsedItem,parser,ref,ref1,ref2,refName,refValue,val,values;if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectDecoder==null){objectDecoder=null}this.currentLineNb=-1;this.currentLine=\"\";this.lines=this.cleanup(value).split(\"\\n\");data=null;context=this.CONTEXT_NONE;allowOverwrite=false;while(this.moveToNextLine()){if(this.isCurrentLineEmpty()){continue}if(\"\\t\"===this.currentLine[0]){throw new ParseException(\"A YAML file cannot contain tabs as indentation.\",this.getRealCurrentLineNb()+1,this.currentLine)}isRef=mergeNode=false;if(values=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===context){throw new ParseException(\"You cannot define a sequence item when in a mapping\")}context=this.CONTEXT_SEQUENCE;if(data==null){data=[]}if(values.value!=null&&(matches=this.PATTERN_ANCHOR_VALUE.exec(values.value))){isRef=matches.ref;values.value=matches.value}if(!(values.value!=null)||\"\"===Utils.trim(values.value,\" \")||Utils.ltrim(values.value,\" \").indexOf(\"#\")===0){if(this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()){c=this.getRealCurrentLineNb()+1;parser=new Parser(c);parser.refs=this.refs;data.push(parser.parse(this.getNextEmbedBlock(null,true),exceptionOnInvalidType,objectDecoder))}else{data.push(null)}}else{if(((ref=values.leadspaces)!=null?ref.length:void 0)&&(matches=this.PATTERN_COMPACT_NOTATION.exec(values.value))){c=this.getRealCurrentLineNb();parser=new Parser(c);parser.refs=this.refs;block=values.value;indent=this.getCurrentLineIndentation();if(this.isNextLineIndented(false)){block+=\"\\n\"+this.getNextEmbedBlock(indent+values.leadspaces.length+1,true)}data.push(parser.parse(block,exceptionOnInvalidType,objectDecoder))}else{data.push(this.parseValue(values.value,exceptionOnInvalidType,objectDecoder))}}}else if((values=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))&&values.key.indexOf(\" #\")===-1){if(this.CONTEXT_SEQUENCE===context){throw new ParseException(\"You cannot define a mapping item when in a sequence\")}context=this.CONTEXT_MAPPING;if(data==null){data={}}Inline.configure(exceptionOnInvalidType,objectDecoder);try{key=Inline.parseScalar(values.key)}catch(error){e=error;e.parsedLine=this.getRealCurrentLineNb()+1;e.snippet=this.currentLine;throw e}if(\"<<\"===key){mergeNode=true;allowOverwrite=true;if(((ref1=values.value)!=null?ref1.indexOf(\"*\"):void 0)===0){refName=values.value.slice(1);if(this.refs[refName]==null){throw new ParseException('Reference \"'+refName+'\" does not exist.',this.getRealCurrentLineNb()+1,this.currentLine)}refValue=this.refs[refName];if(typeof refValue!==\"object\"){throw new ParseException(\"YAML merge keys used with a scalar value instead of an object.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(refValue instanceof Array){for(i=j=0,len=refValue.length;j<len;i=++j){value=refValue[i];if(data[name=String(i)]==null){data[name]=value}}}else{for(key in refValue){value=refValue[key];if(data[key]==null){data[key]=value}}}}else{if(values.value!=null&&values.value!==\"\"){value=values.value}else{value=this.getNextEmbedBlock()}c=this.getRealCurrentLineNb()+1;parser=new Parser(c);parser.refs=this.refs;parsed=parser.parse(value,exceptionOnInvalidType);if(typeof parsed!==\"object\"){throw new ParseException(\"YAML merge keys used with a scalar value instead of an object.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(parsed instanceof Array){for(l=0,len1=parsed.length;l<len1;l++){parsedItem=parsed[l];if(typeof parsedItem!==\"object\"){throw new ParseException(\"Merge items must be objects.\",this.getRealCurrentLineNb()+1,parsedItem)}if(parsedItem instanceof Array){for(i=m=0,len2=parsedItem.length;m<len2;i=++m){value=parsedItem[i];k=String(i);if(!data.hasOwnProperty(k)){data[k]=value}}}else{for(key in parsedItem){value=parsedItem[key];if(!data.hasOwnProperty(key)){data[key]=value}}}}}else{for(key in parsed){value=parsed[key];if(!data.hasOwnProperty(key)){data[key]=value}}}}}else if(values.value!=null&&(matches=this.PATTERN_ANCHOR_VALUE.exec(values.value))){isRef=matches.ref;values.value=matches.value}if(mergeNode){}else if(!(values.value!=null)||\"\"===Utils.trim(values.value,\" \")||Utils.ltrim(values.value,\" \").indexOf(\"#\")===0){if(!this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()){if(allowOverwrite||data[key]===void 0){data[key]=null}}else{c=this.getRealCurrentLineNb()+1;parser=new Parser(c);parser.refs=this.refs;val=parser.parse(this.getNextEmbedBlock(),exceptionOnInvalidType,objectDecoder);if(allowOverwrite||data[key]===void 0){data[key]=val}}}else{val=this.parseValue(values.value,exceptionOnInvalidType,objectDecoder);if(allowOverwrite||data[key]===void 0){data[key]=val}}}else{lineCount=this.lines.length;if(1===lineCount||2===lineCount&&Utils.isEmpty(this.lines[1])){try{value=Inline.parse(this.lines[0],exceptionOnInvalidType,objectDecoder)}catch(error1){e=error1;e.parsedLine=this.getRealCurrentLineNb()+1;e.snippet=this.currentLine;throw e}if(typeof value===\"object\"){if(value instanceof Array){first=value[0]}else{for(key in value){first=value[key];break}}if(typeof first===\"string\"&&first.indexOf(\"*\")===0){data=[];for(n=0,len3=value.length;n<len3;n++){alias=value[n];data.push(this.refs[alias.slice(1)])}value=data}}return value}else if((ref2=Utils.ltrim(value).charAt(0))===\"[\"||ref2===\"{\"){try{return Inline.parse(value,exceptionOnInvalidType,objectDecoder)}catch(error2){e=error2;e.parsedLine=this.getRealCurrentLineNb()+1;e.snippet=this.currentLine;throw e}}throw new ParseException(\"Unable to parse.\",this.getRealCurrentLineNb()+1,this.currentLine)}if(isRef){if(data instanceof Array){this.refs[isRef]=data[data.length-1]}else{lastKey=null;for(key in data){lastKey=key}this.refs[isRef]=data[lastKey]}}}if(Utils.isEmpty(data)){return null}else{return data}};Parser.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset};Parser.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-Utils.ltrim(this.currentLine,\" \").length};Parser.prototype.getNextEmbedBlock=function(indentation,includeUnindentedCollection){var data,indent,isItUnindentedCollection,newIndent,removeComments,removeCommentsPattern,unindentedEmbedBlock;if(indentation==null){indentation=null}if(includeUnindentedCollection==null){includeUnindentedCollection=false}this.moveToNextLine();if(indentation==null){newIndent=this.getCurrentLineIndentation();unindentedEmbedBlock=this.isStringUnIndentedCollectionItem(this.currentLine);if(!this.isCurrentLineEmpty()&&0===newIndent&&!unindentedEmbedBlock){throw new ParseException(\"Indentation problem.\",this.getRealCurrentLineNb()+1,this.currentLine)}}else{newIndent=indentation}data=[this.currentLine.slice(newIndent)];if(!includeUnindentedCollection){isItUnindentedCollection=this.isStringUnIndentedCollectionItem(this.currentLine)}removeCommentsPattern=this.PATTERN_FOLDED_SCALAR_END;removeComments=!removeCommentsPattern.test(this.currentLine);while(this.moveToNextLine()){indent=this.getCurrentLineIndentation();if(indent===newIndent){removeComments=!removeCommentsPattern.test(this.currentLine)}if(removeComments&&this.isCurrentLineComment()){continue}if(this.isCurrentLineBlank()){data.push(this.currentLine.slice(newIndent));continue}if(isItUnindentedCollection&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&indent===newIndent){this.moveToPreviousLine();break}if(indent>=newIndent){data.push(this.currentLine.slice(newIndent))}else if(Utils.ltrim(this.currentLine).charAt(0)===\"#\"){}else if(0===indent){this.moveToPreviousLine();break}else{throw new ParseException(\"Indentation problem.\",this.getRealCurrentLineNb()+1,this.currentLine)}}return data.join(\"\\n\")};Parser.prototype.moveToNextLine=function(){if(this.currentLineNb>=this.lines.length-1){return false}this.currentLine=this.lines[++this.currentLineNb];return true};Parser.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]};Parser.prototype.parseValue=function(value,exceptionOnInvalidType,objectDecoder){var e,error,foldedIndent,matches,modifiers,pos,ref,ref1,val;if(0===value.indexOf(\"*\")){pos=value.indexOf(\"#\");if(pos!==-1){value=value.substr(1,pos-2)}else{value=value.slice(1)}if(this.refs[value]===void 0){throw new ParseException('Reference \"'+value+'\" does not exist.',this.currentLine)}return this.refs[value]}if(matches=this.PATTERN_FOLDED_SCALAR_ALL.exec(value)){modifiers=(ref=matches.modifiers)!=null?ref:\"\";foldedIndent=Math.abs(parseInt(modifiers));if(isNaN(foldedIndent)){foldedIndent=0}val=this.parseFoldedScalar(matches.separator,this.PATTERN_DECIMAL.replace(modifiers,\"\"),foldedIndent);if(matches.type!=null){Inline.configure(exceptionOnInvalidType,objectDecoder);return Inline.parseScalar(matches.type+\" \"+val)}else{return val}}if((ref1=value.charAt(0))===\"[\"||ref1===\"{\"||ref1==='\"'||ref1===\"'\"){while(true){try{return Inline.parse(value,exceptionOnInvalidType,objectDecoder)}catch(error){e=error;if(e instanceof ParseMore&&this.moveToNextLine()){value+=\"\\n\"+Utils.trim(this.currentLine,\" \")}else{e.parsedLine=this.getRealCurrentLineNb()+1;e.snippet=this.currentLine;throw e}}}}else{if(this.isNextLineIndented()){value+=\"\\n\"+this.getNextEmbedBlock()}return Inline.parse(value,exceptionOnInvalidType,objectDecoder)}};Parser.prototype.parseFoldedScalar=function(separator,indicator,indentation){var isCurrentLineBlank,j,len,line,matches,newText,notEOF,pattern,ref,text;if(indicator==null){indicator=\"\"}if(indentation==null){indentation=0}notEOF=this.moveToNextLine();if(!notEOF){return\"\"}isCurrentLineBlank=this.isCurrentLineBlank();text=\"\";while(notEOF&&isCurrentLineBlank){if(notEOF=this.moveToNextLine()){text+=\"\\n\";isCurrentLineBlank=this.isCurrentLineBlank()}}if(0===indentation){if(matches=this.PATTERN_INDENT_SPACES.exec(this.currentLine)){indentation=matches[0].length}}if(indentation>0){pattern=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation];if(pattern==null){pattern=new Pattern(\"^ {\"+indentation+\"}(.*)$\");Parser.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation]=pattern}while(notEOF&&(isCurrentLineBlank||(matches=pattern.exec(this.currentLine)))){if(isCurrentLineBlank){text+=this.currentLine.slice(indentation)}else{text+=matches[1]}if(notEOF=this.moveToNextLine()){text+=\"\\n\";isCurrentLineBlank=this.isCurrentLineBlank()}}}else if(notEOF){text+=\"\\n\"}if(notEOF){this.moveToPreviousLine()}if(\">\"===separator){newText=\"\";ref=text.split(\"\\n\");for(j=0,len=ref.length;j<len;j++){line=ref[j];if(line.length===0||line.charAt(0)===\" \"){newText=Utils.rtrim(newText,\" \")+line+\"\\n\"}else{newText+=line+\" \"}}text=newText}if(\"+\"!==indicator){text=Utils.rtrim(text)}if(\"\"===indicator){text=this.PATTERN_TRAILING_LINES.replace(text,\"\\n\")}else if(\"-\"===indicator){text=this.PATTERN_TRAILING_LINES.replace(text,\"\")}return text};Parser.prototype.isNextLineIndented=function(ignoreComments){var EOF,currentIndentation,ret;if(ignoreComments==null){ignoreComments=true}currentIndentation=this.getCurrentLineIndentation();EOF=!this.moveToNextLine();if(ignoreComments){while(!EOF&&this.isCurrentLineEmpty()){EOF=!this.moveToNextLine()}}else{while(!EOF&&this.isCurrentLineBlank()){EOF=!this.moveToNextLine()}}if(EOF){return false}ret=false;if(this.getCurrentLineIndentation()>currentIndentation){ret=true}this.moveToPreviousLine();return ret};Parser.prototype.isCurrentLineEmpty=function(){var trimmedLine;trimmedLine=Utils.trim(this.currentLine,\" \");return trimmedLine.length===0||trimmedLine.charAt(0)===\"#\"};Parser.prototype.isCurrentLineBlank=function(){return\"\"===Utils.trim(this.currentLine,\" \")};Parser.prototype.isCurrentLineComment=function(){var ltrimmedLine;ltrimmedLine=Utils.ltrim(this.currentLine,\" \");return ltrimmedLine.charAt(0)===\"#\"};Parser.prototype.cleanup=function(value){var count,i,indent,j,l,len,len1,line,lines,ref,ref1,ref2,smallestIndent,trimmedValue;if(value.indexOf(\"\\r\")!==-1){value=value.split(\"\\r\\n\").join(\"\\n\").split(\"\\r\").join(\"\\n\")}count=0;ref=this.PATTERN_YAML_HEADER.replaceAll(value,\"\"),value=ref[0],count=ref[1];this.offset+=count;ref1=this.PATTERN_LEADING_COMMENTS.replaceAll(value,\"\",1),trimmedValue=ref1[0],count=ref1[1];if(count===1){this.offset+=Utils.subStrCount(value,\"\\n\")-Utils.subStrCount(trimmedValue,\"\\n\");value=trimmedValue}ref2=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(value,\"\",1),trimmedValue=ref2[0],count=ref2[1];if(count===1){this.offset+=Utils.subStrCount(value,\"\\n\")-Utils.subStrCount(trimmedValue,\"\\n\");value=trimmedValue;value=this.PATTERN_DOCUMENT_MARKER_END.replace(value,\"\")}lines=value.split(\"\\n\");smallestIndent=-1;for(j=0,len=lines.length;j<len;j++){line=lines[j];if(Utils.trim(line,\" \").length===0){continue}indent=line.length-Utils.ltrim(line).length;if(smallestIndent===-1||indent<smallestIndent){smallestIndent=indent}}if(smallestIndent>0){for(i=l=0,len1=lines.length;l<len1;i=++l){line=lines[i];lines[i]=line.slice(smallestIndent)}value=lines.join(\"\\n\")}return value};Parser.prototype.isNextLineUnIndentedCollection=function(currentIndentation){var notEOF,ret;if(currentIndentation==null){currentIndentation=null}if(currentIndentation==null){currentIndentation=this.getCurrentLineIndentation()}notEOF=this.moveToNextLine();while(notEOF&&this.isCurrentLineEmpty()){notEOF=this.moveToNextLine()}if(false===notEOF){return false}ret=false;if(this.getCurrentLineIndentation()===currentIndentation&&this.isStringUnIndentedCollectionItem(this.currentLine)){ret=true}this.moveToPreviousLine();return ret};Parser.prototype.isStringUnIndentedCollectionItem=function(){return this.currentLine===\"-\"||this.currentLine.slice(0,2)===\"- \"};return Parser}();module.exports=Parser},{\"./Exception/ParseException\":4,\"./Exception/ParseMore\":5,\"./Inline\":6,\"./Pattern\":8,\"./Utils\":10}],8:[function(require,module,exports){var Pattern;Pattern=function(){Pattern.prototype.regex=null;Pattern.prototype.rawRegex=null;Pattern.prototype.cleanedRegex=null;Pattern.prototype.mapping=null;function Pattern(rawRegex,modifiers){var _char,capturingBracketNumber,cleanedRegex,i,len,mapping,name,part,subChar;if(modifiers==null){modifiers=\"\"}cleanedRegex=\"\";len=rawRegex.length;mapping=null;capturingBracketNumber=0;i=0;while(i<len){_char=rawRegex.charAt(i);if(_char===\"\\\\\"){cleanedRegex+=rawRegex.slice(i,+(i+1)+1||9e9);i++}else if(_char===\"(\"){if(i<len-2){part=rawRegex.slice(i,+(i+2)+1||9e9);if(part===\"(?:\"){i+=2;cleanedRegex+=part}else if(part===\"(?<\"){capturingBracketNumber++;i+=2;name=\"\";while(i+1<len){subChar=rawRegex.charAt(i+1);if(subChar===\">\"){cleanedRegex+=\"(\";i++;if(name.length>0){if(mapping==null){mapping={}}mapping[name]=capturingBracketNumber}break}else{name+=subChar}i++}}else{cleanedRegex+=_char;capturingBracketNumber++}}else{cleanedRegex+=_char}}else{cleanedRegex+=_char}i++}this.rawRegex=rawRegex;this.cleanedRegex=cleanedRegex;this.regex=new RegExp(this.cleanedRegex,\"g\"+modifiers.replace(\"g\",\"\"));this.mapping=mapping}Pattern.prototype.exec=function(str){var index,matches,name,ref;this.regex.lastIndex=0;matches=this.regex.exec(str);if(matches==null){return null}if(this.mapping!=null){ref=this.mapping;for(name in ref){index=ref[name];matches[name]=matches[index]}}return matches};Pattern.prototype.test=function(str){this.regex.lastIndex=0;return this.regex.test(str)};Pattern.prototype.replace=function(str,replacement){this.regex.lastIndex=0;return str.replace(this.regex,replacement)};Pattern.prototype.replaceAll=function(str,replacement,limit){var count;if(limit==null){limit=0}this.regex.lastIndex=0;count=0;while(this.regex.test(str)&&(limit===0||count<limit)){this.regex.lastIndex=0;str=str.replace(this.regex,replacement);count++}return[str,count]};return Pattern}();module.exports=Pattern},{}],9:[function(require,module,exports){var Pattern,Unescaper,Utils;Utils=require(\"./Utils\");Pattern=require(\"./Pattern\");Unescaper=function(){function Unescaper(){}Unescaper.PATTERN_ESCAPED_CHARACTER=new Pattern('\\\\\\\\([0abt\\tnvfre \"\\\\/\\\\\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})');Unescaper.unescapeSingleQuotedString=function(value){return value.replace(/\\'\\'/g,\"'\")};Unescaper.unescapeDoubleQuotedString=function(value){if(this._unescapeCallback==null){this._unescapeCallback=function(_this){return function(str){return _this.unescapeCharacter(str)}}(this)}return this.PATTERN_ESCAPED_CHARACTER.replace(value,this._unescapeCallback)};Unescaper.unescapeCharacter=function(value){var ch;ch=String.fromCharCode;switch(value.charAt(1)){case\"0\":return ch(0);case\"a\":return ch(7);case\"b\":return ch(8);case\"t\":return\"\\t\";case\"\\t\":return\"\\t\";case\"n\":return\"\\n\";case\"v\":return ch(11);case\"f\":return ch(12);case\"r\":return ch(13);case\"e\":return ch(27);case\" \":return\" \";case'\"':return'\"';case\"/\":return\"/\";case\"\\\\\":return\"\\\\\";case\"N\":return ch(133);case\"_\":return ch(160);case\"L\":return ch(8232);case\"P\":return ch(8233);case\"x\":return Utils.utf8chr(Utils.hexDec(value.substr(2,2)));case\"u\":return Utils.utf8chr(Utils.hexDec(value.substr(2,4)));case\"U\":return Utils.utf8chr(Utils.hexDec(value.substr(2,8)));default:return\"\"}};return Unescaper}();module.exports=Unescaper},{\"./Pattern\":8,\"./Utils\":10}],10:[function(require,module,exports){var Pattern,Utils,hasProp={}.hasOwnProperty;Pattern=require(\"./Pattern\");Utils=function(){function Utils(){}Utils.REGEX_LEFT_TRIM_BY_CHAR={};Utils.REGEX_RIGHT_TRIM_BY_CHAR={};Utils.REGEX_SPACES=/\\s+/g;Utils.REGEX_DIGITS=/^\\d+$/;Utils.REGEX_OCTAL=/[^0-7]/gi;Utils.REGEX_HEXADECIMAL=/[^a-f0-9]/gi;Utils.PATTERN_DATE=new Pattern(\"^\"+\"(?<year>[0-9][0-9][0-9][0-9])\"+\"-(?<month>[0-9][0-9]?)\"+\"-(?<day>[0-9][0-9]?)\"+\"(?:(?:[Tt]|[ \\t]+)\"+\"(?<hour>[0-9][0-9]?)\"+\":(?<minute>[0-9][0-9])\"+\":(?<second>[0-9][0-9])\"+\"(?:.(?<fraction>[0-9]*))?\"+\"(?:[ \\t]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)\"+\"(?::(?<tz_minute>[0-9][0-9]))?))?)?\"+\"$\",\"i\");Utils.LOCAL_TIMEZONE_OFFSET=(new Date).getTimezoneOffset()*60*1e3;Utils.trim=function(str,_char){var regexLeft,regexRight;if(_char==null){_char=\"\\\\s\"}regexLeft=this.REGEX_LEFT_TRIM_BY_CHAR[_char];if(regexLeft==null){this.REGEX_LEFT_TRIM_BY_CHAR[_char]=regexLeft=new RegExp(\"^\"+_char+\"\"+_char+\"*\")}regexLeft.lastIndex=0;regexRight=this.REGEX_RIGHT_TRIM_BY_CHAR[_char];if(regexRight==null){this.REGEX_RIGHT_TRIM_BY_CHAR[_char]=regexRight=new RegExp(_char+\"\"+_char+\"*$\")}regexRight.lastIndex=0;return str.replace(regexLeft,\"\").replace(regexRight,\"\")};Utils.ltrim=function(str,_char){var regexLeft;if(_char==null){_char=\"\\\\s\"}regexLeft=this.REGEX_LEFT_TRIM_BY_CHAR[_char];if(regexLeft==null){this.REGEX_LEFT_TRIM_BY_CHAR[_char]=regexLeft=new RegExp(\"^\"+_char+\"\"+_char+\"*\")}regexLeft.lastIndex=0;return str.replace(regexLeft,\"\")};Utils.rtrim=function(str,_char){var regexRight;if(_char==null){_char=\"\\\\s\"}regexRight=this.REGEX_RIGHT_TRIM_BY_CHAR[_char];if(regexRight==null){this.REGEX_RIGHT_TRIM_BY_CHAR[_char]=regexRight=new RegExp(_char+\"\"+_char+\"*$\")}regexRight.lastIndex=0;return str.replace(regexRight,\"\")};Utils.isEmpty=function(value){return!value||value===\"\"||value===\"0\"||value instanceof Array&&value.length===0||this.isEmptyObject(value)};Utils.isEmptyObject=function(value){var k;return value instanceof Object&&function(){var results;results=[];for(k in value){if(!hasProp.call(value,k))continue;results.push(k)}return results}().length===0};Utils.subStrCount=function(string,subString,start,length){var c,i,j,len,ref,sublen;c=0;string=\"\"+string;subString=\"\"+subString;if(start!=null){string=string.slice(start)}if(length!=null){string=string.slice(0,length)}len=string.length;sublen=subString.length;for(i=j=0,ref=len;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){if(subString===string.slice(i,sublen)){c++;i+=sublen-1}}return c};Utils.isDigits=function(input){this.REGEX_DIGITS.lastIndex=0;return this.REGEX_DIGITS.test(input)};Utils.octDec=function(input){this.REGEX_OCTAL.lastIndex=0;return parseInt((input+\"\").replace(this.REGEX_OCTAL,\"\"),8)};Utils.hexDec=function(input){this.REGEX_HEXADECIMAL.lastIndex=0;input=this.trim(input);if((input+\"\").slice(0,2)===\"0x\"){input=(input+\"\").slice(2)}return parseInt((input+\"\").replace(this.REGEX_HEXADECIMAL,\"\"),16)};Utils.utf8chr=function(c){var ch;ch=String.fromCharCode;if(128>(c%=2097152)){return ch(c)}if(2048>c){return ch(192|c>>6)+ch(128|c&63)}if(65536>c){return ch(224|c>>12)+ch(128|c>>6&63)+ch(128|c&63)}return ch(240|c>>18)+ch(128|c>>12&63)+ch(128|c>>6&63)+ch(128|c&63)};Utils.parseBoolean=function(input,strict){var lowerInput;if(strict==null){strict=true}if(typeof input===\"string\"){lowerInput=input.toLowerCase();if(!strict){if(lowerInput===\"no\"){return false}}if(lowerInput===\"0\"){return false}if(lowerInput===\"false\"){return false}if(lowerInput===\"\"){return false}return true}return!!input};Utils.isNumeric=function(input){this.REGEX_SPACES.lastIndex=0;return typeof input===\"number\"||typeof input===\"string\"&&!isNaN(input)&&input.replace(this.REGEX_SPACES,\"\")!==\"\"};Utils.stringToDate=function(str){var date,day,fraction,hour,info,minute,month,second,tz_hour,tz_minute,tz_offset,year;if(!(str!=null?str.length:void 0)){return null}info=this.PATTERN_DATE.exec(str);if(!info){return null}year=parseInt(info.year,10);month=parseInt(info.month,10)-1;day=parseInt(info.day,10);if(info.hour==null){date=new Date(Date.UTC(year,month,day));return date}hour=parseInt(info.hour,10);minute=parseInt(info.minute,10);second=parseInt(info.second,10);if(info.fraction!=null){fraction=info.fraction.slice(0,3);while(fraction.length<3){fraction+=\"0\"}fraction=parseInt(fraction,10)}else{fraction=0}if(info.tz!=null){tz_hour=parseInt(info.tz_hour,10);if(info.tz_minute!=null){tz_minute=parseInt(info.tz_minute,10)}else{tz_minute=0}tz_offset=(tz_hour*60+tz_minute)*6e4;if(\"-\"===info.tz_sign){tz_offset*=-1}}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));if(tz_offset){date.setTime(date.getTime()-tz_offset)}return date};Utils.strRepeat=function(str,number){var i,res;res=\"\";i=0;while(i<number){res+=str;i++}return res};Utils.getStringFromFile=function(path,callback){var data,fs,j,len1,name,ref,req,xhr;if(callback==null){callback=null}xhr=null;if(typeof window!==\"undefined\"&&window!==null){if(window.XMLHttpRequest){xhr=new XMLHttpRequest}else if(window.ActiveXObject){ref=[\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.3.0\",\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\"];for(j=0,len1=ref.length;j<len1;j++){name=ref[j];try{xhr=new ActiveXObject(name)}catch(undefined){}}}}if(xhr!=null){if(callback!=null){xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200||xhr.status===0){return callback(xhr.responseText)}else{return callback(null)}}};xhr.open(\"GET\",path,true);return xhr.send(null)}else{xhr.open(\"GET\",path,false);xhr.send(null);if(xhr.status===200||xhr.status===0){return xhr.responseText}return null}}else{req=require;fs=req(\"fs\");if(callback!=null){return fs.readFile(path,function(err,data){if(err){return callback(null)}else{return callback(String(data))}})}else{data=fs.readFileSync(path);if(data!=null){return String(data)}return null}}};return Utils}();module.exports=Utils},{\"./Pattern\":8}],11:[function(require,module,exports){var Dumper,Parser,Utils,Yaml;Parser=require(\"./Parser\");Dumper=require(\"./Dumper\");Utils=require(\"./Utils\");Yaml=function(){function Yaml(){}Yaml.parse=function(input,exceptionOnInvalidType,objectDecoder){if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectDecoder==null){objectDecoder=null}return(new Parser).parse(input,exceptionOnInvalidType,objectDecoder)};Yaml.parseFile=function(path,callback,exceptionOnInvalidType,objectDecoder){var input;if(callback==null){callback=null}if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectDecoder==null){objectDecoder=null}if(callback!=null){return Utils.getStringFromFile(path,function(_this){return function(input){var result;result=null;if(input!=null){result=_this.parse(input,exceptionOnInvalidType,objectDecoder)}callback(result)}}(this))}else{input=Utils.getStringFromFile(path);if(input!=null){return this.parse(input,exceptionOnInvalidType,objectDecoder)}return null}};Yaml.dump=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){var yaml;if(inline==null){inline=2}if(indent==null){indent=4}if(exceptionOnInvalidType==null){exceptionOnInvalidType=false}if(objectEncoder==null){objectEncoder=null}yaml=new Dumper;yaml.indentation=indent;return yaml.dump(input,inline,0,exceptionOnInvalidType,objectEncoder)};Yaml.stringify=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){return this.dump(input,inline,indent,exceptionOnInvalidType,objectEncoder)};Yaml.load=function(path,callback,exceptionOnInvalidType,objectDecoder){return this.parseFile(path,callback,exceptionOnInvalidType,objectDecoder)};return Yaml}();if(typeof window!==\"undefined\"&&window!==null){window.YAML=Yaml}if(typeof window===\"undefined\"||window===null){this.YAML=Yaml}module.exports=Yaml},{\"./Dumper\":1,\"./Parser\":7,\"./Utils\":10}]},{},[11]);\n",
					"match": false,
					"packageHash": "2e076cf03dec6066e5eac295179a15f72d8e42f74ab815619be60ea5753a567a",
					"size": 29904,
					"sourceHash": "b8ccdf0e45f181fc04f0d202779fff71aa76f27f0428a792e0e6f13fe1d0b085",
					"status": "content"
				},
				"lib/Dumper.js": {
					"diff": "--- published/lib/Dumper.js\n+++ rebuilt/lib/Dumper.js\n@@ -1,4 +1,4 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n var Dumper, Inline, Utils;\n \n Utils = require('./Utils');\n@@ -6,48 +6,53 @@\n Inline = require('./Inline');\n \n Dumper = (function() {\n-  function Dumper() {}\n+  // Dumper dumps JavaScript variables to YAML strings.\n \n-  Dumper.indentation = 4;\n+  class Dumper {\n+    // Dumps a JavaScript value to YAML.\n \n-  Dumper.prototype.dump = function(input, inline, indent, exceptionOnInvalidType, objectEncoder) {\n-    var i, key, len, output, prefix, value, willBeInlined;\n-    if (inline == null) {\n-      inline = 0;\n-    }\n-    if (indent == null) {\n-      indent = 0;\n-    }\n-    if (exceptionOnInvalidType == null) {\n-      exceptionOnInvalidType = false;\n-    }\n-    if (objectEncoder == null) {\n-      objectEncoder = null;\n-    }\n-    output = '';\n-    prefix = (indent ? Utils.strRepeat(' ', indent) : '');\n-    if (inline <= 0 || typeof input !== 'object' || input instanceof Date || Utils.isEmpty(input)) {\n-      output += prefix + Inline.dump(input, exceptionOnInvalidType, objectEncoder);\n-    } else {\n-      if (input instanceof Array) {\n-        for (i = 0, len = input.length; i < len; i++) {\n-          value = input[i];\n-          willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);\n-          output += prefix + '-' + (willBeInlined ? ' ' : \"\\n\") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? \"\\n\" : '');\n-        }\n+    // @param [Object]   input                   The JavaScript value\n+    // @param [Integer]  inline                  The level where you switch to inline YAML\n+    // @param [Integer]  indent                  The level of indentation (used internally)\n+    // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types (a JavaScript resource or object), false otherwise\n+    // @param [Function] objectEncoder           A function to serialize custom objects, null otherwise\n+\n+    // @return [String]  The YAML representation of the JavaScript value\n+\n+    dump(input, inline = 0, indent = 0, exceptionOnInvalidType = false, objectEncoder = null) {\n+      var i, key, len, output, prefix, value, willBeInlined;\n+      output = '';\n+      if (typeof input === 'function') {\n+        return output;\n+      }\n+      prefix = (indent ? Utils.strRepeat(' ', indent) : '');\n+      if (inline <= 0 || typeof input !== 'object' || input instanceof Date || Utils.isEmpty(input)) {\n+        output += prefix + Inline.dump(input, exceptionOnInvalidType, objectEncoder);\n       } else {\n-        for (key in input) {\n-          value = input[key];\n-          willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);\n-          output += prefix + Inline.dump(key, exceptionOnInvalidType, objectEncoder) + ':' + (willBeInlined ? ' ' : \"\\n\") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? \"\\n\" : '');\n+        if (input instanceof Array) {\n+          for (i = 0, len = input.length; i < len; i++) {\n+            value = input[i];\n+            willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);\n+            output += prefix + '-' + (willBeInlined ? ' ' : \"\\n\") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? \"\\n\" : '');\n+          }\n+        } else {\n+          for (key in input) {\n+            value = input[key];\n+            willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);\n+            output += prefix + Inline.dump(key, exceptionOnInvalidType, objectEncoder) + ':' + (willBeInlined ? ' ' : \"\\n\") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? \"\\n\" : '');\n+          }\n         }\n       }\n+      return output;\n     }\n-    return output;\n+\n   };\n \n+  // The amount of spaces to use for indentation of nested nodes.\n+  Dumper.indentation = 4;\n+\n   return Dumper;\n \n-})();\n+}).call(this);\n \n module.exports = Dumper;\n",
					"match": false,
					"packageHash": "07b5f82cd2155e633a383ed4f9f733894f73d3447b3659f8ef9a63a3149ca893",
					"size": 1864,
					"sourceHash": "841aa6539f85f749839eaad83628ca2e1ad49f8ef4771a93e3d50877e54cffc7",
					"status": "content"
				},
				"lib/Escaper.js": {
					"diff": "--- published/lib/Escaper.js\n+++ rebuilt/lib/Escaper.js\n@@ -1,4 +1,4 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n var Escaper, Pattern;\n \n Pattern = require('./Pattern');\n@@ -6,51 +6,80 @@\n Escaper = (function() {\n   var ch;\n \n-  function Escaper() {}\n+  // Escaper encapsulates escaping rules for single\n+  // and double-quoted YAML strings.\n+  class Escaper {\n+    // Determines if a JavaScript value would require double quoting in YAML.\n \n+    // @param [String]   value   A JavaScript value value\n+\n+    // @return [Boolean] true    if the value would require double quotes.\n+\n+    static requiresDoubleQuoting(value) {\n+      return this.PATTERN_CHARACTERS_TO_ESCAPE.test(value);\n+    }\n+\n+    // Escapes and surrounds a JavaScript value with double quotes.\n+\n+    // @param [String]   value   A JavaScript value\n+\n+    // @return [String]  The quoted, escaped string\n+\n+    static escapeWithDoubleQuotes(value) {\n+      var result;\n+      result = this.PATTERN_MAPPING_ESCAPEES.replace(value, (str) => {\n+        return this.MAPPING_ESCAPEES_TO_ESCAPED[str];\n+      });\n+      return '\"' + result + '\"';\n+    }\n+\n+    // Determines if a JavaScript value would require single quoting in YAML.\n+\n+    // @param [String]   value   A JavaScript value\n+\n+    // @return [Boolean] true if the value would require single quotes.\n+\n+    static requiresSingleQuoting(value) {\n+      return this.PATTERN_SINGLE_QUOTING.test(value);\n+    }\n+\n+    // Escapes and surrounds a JavaScript value with single quotes.\n+\n+    // @param [String]   value   A JavaScript value\n+\n+    // @return [String]  The quoted, escaped string\n+\n+    static escapeWithSingleQuotes(value) {\n+      return \"'\" + value.replace(/'/g, \"''\") + \"'\";\n+    }\n+\n+  };\n+\n+  // Mapping arrays for escaping a double quoted string. The backslash is\n+  // first to ensure proper escaping.\n   Escaper.LIST_ESCAPEES = ['\\\\', '\\\\\\\\', '\\\\\"', '\"', \"\\x00\", \"\\x01\", \"\\x02\", \"\\x03\", \"\\x04\", \"\\x05\", \"\\x06\", \"\\x07\", \"\\x08\", \"\\x09\", \"\\x0a\", \"\\x0b\", \"\\x0c\", \"\\x0d\", \"\\x0e\", \"\\x0f\", \"\\x10\", \"\\x11\", \"\\x12\", \"\\x13\", \"\\x14\", \"\\x15\", \"\\x16\", \"\\x17\", \"\\x18\", \"\\x19\", \"\\x1a\", \"\\x1b\", \"\\x1c\", \"\\x1d\", \"\\x1e\", \"\\x1f\", (ch = String.fromCharCode)(0x0085), ch(0x00A0), ch(0x2028), ch(0x2029)];\n \n   Escaper.LIST_ESCAPED = ['\\\\\\\\', '\\\\\"', '\\\\\"', '\\\\\"', \"\\\\0\", \"\\\\x01\", \"\\\\x02\", \"\\\\x03\", \"\\\\x04\", \"\\\\x05\", \"\\\\x06\", \"\\\\a\", \"\\\\b\", \"\\\\t\", \"\\\\n\", \"\\\\v\", \"\\\\f\", \"\\\\r\", \"\\\\x0e\", \"\\\\x0f\", \"\\\\x10\", \"\\\\x11\", \"\\\\x12\", \"\\\\x13\", \"\\\\x14\", \"\\\\x15\", \"\\\\x16\", \"\\\\x17\", \"\\\\x18\", \"\\\\x19\", \"\\\\x1a\", \"\\\\e\", \"\\\\x1c\", \"\\\\x1d\", \"\\\\x1e\", \"\\\\x1f\", \"\\\\N\", \"\\\\_\", \"\\\\L\", \"\\\\P\"];\n \n-  Escaper.MAPPING_ESCAPEES_TO_ESCAPED = (function() {\n+  Escaper.MAPPING_ESCAPEES_TO_ESCAPED = (() => {\n     var i, j, mapping, ref;\n     mapping = {};\n-    for (i = j = 0, ref = Escaper.LIST_ESCAPEES.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n+    for (i = j = 0, ref = Escaper.LIST_ESCAPEES.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {\n       mapping[Escaper.LIST_ESCAPEES[i]] = Escaper.LIST_ESCAPED[i];\n     }\n     return mapping;\n   })();\n \n+  // Characters that would cause a dumped string to require double quoting.\n   Escaper.PATTERN_CHARACTERS_TO_ESCAPE = new Pattern('[\\\\x00-\\\\x1f]|\\xc2\\x85|\\xc2\\xa0|\\xe2\\x80\\xa8|\\xe2\\x80\\xa9');\n \n+  // Other precompiled patterns\n   Escaper.PATTERN_MAPPING_ESCAPEES = new Pattern(Escaper.LIST_ESCAPEES.join('|').split('\\\\').join('\\\\\\\\'));\n \n   Escaper.PATTERN_SINGLE_QUOTING = new Pattern('[\\\\s\\'\":{}[\\\\],&*#?]|^[-?|<>=!%@`]');\n \n-  Escaper.requiresDoubleQuoting = function(value) {\n-    return this.PATTERN_CHARACTERS_TO_ESCAPE.test(value);\n-  };\n-\n-  Escaper.escapeWithDoubleQuotes = function(value) {\n-    var result;\n-    result = this.PATTERN_MAPPING_ESCAPEES.replace(value, (function(_this) {\n-      return function(str) {\n-        return _this.MAPPING_ESCAPEES_TO_ESCAPED[str];\n-      };\n-    })(this));\n-    return '\"' + result + '\"';\n-  };\n",
					"match": false,
					"packageHash": "da2ea563b58f166a098df356856fe74d78bce3ac2ae6136571cc65d11c19fe77",
					"size": 2196,
					"sourceHash": "12d7a1a95360084ffa7c6b67f35aa02b52c0a166da704bc0bc87513284b7aa04",
					"status": "content"
				},
				"lib/Exception/DumpException.js": {
					"diff": "--- published/lib/Exception/DumpException.js\n+++ rebuilt/lib/Exception/DumpException.js\n@@ -1,27 +1,22 @@\n-// Generated by CoffeeScript 1.10.0\n-var DumpException,\n-  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n-  hasProp = {}.hasOwnProperty;\n+// Generated by CoffeeScript 2.4.1\n+var DumpException;\n \n-DumpException = (function(superClass) {\n-  extend(DumpException, superClass);\n-\n-  function DumpException(message, parsedLine, snippet) {\n+DumpException = class DumpException extends Error {\n+  constructor(message, parsedLine, snippet) {\n+    super(message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n   }\n \n-  DumpException.prototype.toString = function() {\n+  toString() {\n     if ((this.parsedLine != null) && (this.snippet != null)) {\n       return '<DumpException> ' + this.message + ' (line ' + this.parsedLine + ': \\'' + this.snippet + '\\')';\n     } else {\n       return '<DumpException> ' + this.message;\n     }\n-  };\n-\n-  return DumpException;\n+  }\n \n-})(Error);\n+};\n \n module.exports = DumpException;\n",
					"match": false,
					"packageHash": "de756eaa0029397ccc7287e4069c70ee7d72d6147b569633ff4156cda1739076",
					"size": 968,
					"sourceHash": "7662db3ff252dcdaf0576d732c00e18e7605c4a292aaa9f32274e572dbe9bded",
					"status": "content"
				},
				"lib/Exception/ParseException.js": {
					"diff": "--- published/lib/Exception/ParseException.js\n+++ rebuilt/lib/Exception/ParseException.js\n@@ -1,27 +1,22 @@\n-// Generated by CoffeeScript 1.10.0\n-var ParseException,\n-  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n-  hasProp = {}.hasOwnProperty;\n+// Generated by CoffeeScript 2.4.1\n+var ParseException;\n \n-ParseException = (function(superClass) {\n-  extend(ParseException, superClass);\n-\n-  function ParseException(message, parsedLine, snippet) {\n+ParseException = class ParseException extends Error {\n+  constructor(message, parsedLine, snippet) {\n+    super(message);\n     this.message = message;\n     this.parsedLine = parsedLine;\n     this.snippet = snippet;\n   }\n \n-  ParseException.prototype.toString = function() {\n+  toString() {\n     if ((this.parsedLine != null) && (this.snippet != null)) {\n       return '<ParseException> ' + this.message + ' (line ' + this.parsedLine + ': \\'' + this.snippet + '\\')';\n     } else {\n       return '<ParseException> ' + this.message;\n     }\n-  };\n-\n-  return ParseException;\n+  }\n \n-})(Error);\n+};\n \n module.exports = ParseException;\n",
					"match": false,
					"packageHash": "2ae8d43933dcd85a79975d3358abb90aef44405bf17cd303ac0496eeaf99f925",
					"size": 977,
					"sourceHash": "74716cfc541516b2a28610cecd615dd1744cab15f3e4755414b3560b556adbcf",
					"status": "content"
				},
				"lib/Inline.js": {
					"diff": "--- published/lib/Inline.js\n+++ rebuilt/lib/Inline.js\n@@ -1,6 +1,6 @@\n-// Generated by CoffeeScript 1.10.0\n-var DumpException, Escaper, Inline, ParseException, Pattern, Unescaper, Utils,\n-  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n+// Generated by CoffeeScript 2.4.1\n+var DumpException, Escaper, Inline, ParseException, ParseMore, Pattern, Unescaper, Utils,\n+  indexOf = [].indexOf;\n \n Pattern = require('./Pattern');\n \n@@ -12,472 +12,549 @@\n \n ParseException = require('./Exception/ParseException');\n \n+ParseMore = require('./Exception/ParseMore');\n+\n DumpException = require('./Exception/DumpException');\n \n Inline = (function() {\n-  function Inline() {}\n+  // Inline YAML parsing and dumping\n+  class Inline {\n+    // Configure YAML inline.\n \n-  Inline.REGEX_QUOTED_STRING = '(?:\"(?:[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*)\"|\\'(?:[^\\']*(?:\\'\\'[^\\']*)*)\\')';\n+    // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types (a JavaScript resource or object), false otherwise\n+    // @param [Function] objectDecoder           A function to deserialize custom objects, null otherwise\n \n-  Inline.PATTERN_TRAILING_COMMENTS = new Pattern('^\\\\s*#.*$');\n+    static configure(exceptionOnInvalidType = null, objectDecoder = null) {\n+      // Update settings\n+      this.settings.exceptionOnInvalidType = exceptionOnInvalidType;\n+      this.settings.objectDecoder = objectDecoder;\n+    }\n \n-  Inline.PATTERN_QUOTED_SCALAR = new Pattern('^' + Inline.REGEX_QUOTED_STRING);\n+    // Converts a YAML string to a JavaScript object.\n \n-  Inline.PATTERN_THOUSAND_NUMERIC_SCALAR = new Pattern('^(-|\\\\+)?[0-9,]+(\\\\.[0-9]+)?$');\n+    // @param [String]   value                   A YAML string\n+    // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types (a JavaScript resource or object), false otherwise\n+    // @param [Function] objectDecoder           A function to deserialize custom objects, null otherwise\n \n-  Inline.PATTERN_SCALAR_BY_DELIMITERS = {};\n+    // @return [Object]  A JavaScript object representing the YAML string\n \n-  Inline.settings = {};\n+    // @throw [ParseException]\n \n-  Inline.configure = function(exceptionOnInvalidType, objectDecoder) {\n-    if (exceptionOnInvalidType == null) {\n-      exceptionOnInvalidType = null;\n-    }\n-    if (objectDecoder == null) {\n-      objectDecoder = null;\n+    static parse(value, exceptionOnInvalidType = false, objectDecoder = null) {\n+      var context, result;\n+      // Update settings from last call of Inline.parse()\n+      this.settings.exceptionOnInvalidType = exceptionOnInvalidType;\n+      this.settings.objectDecoder = objectDecoder;\n+      if (value == null) {\n+        return '';\n+      }\n+      value = Utils.trim(value);\n+      if (0 === value.length) {\n+        return '';\n+      }\n+      // Keep a context object to pass through static methods\n+      context = {\n+        exceptionOnInvalidType,\n+        objectDecoder,\n+        i: 0\n+      };\n+      switch (value.charAt(0)) {\n+        case '[':\n+          result = this.parseSequence(value, context);\n+          ++context.i;\n+          break;\n+        case '{':\n+          result = this.parseMapping(value, context);\n+          ++context.i;\n+          break;\n+        default:\n+          result = this.parseScalar(value, null, ['\"', \"'\"], context);\n+      }\n+      // Some comments are allowed at the end\n+      if (this.PATTERN_TRAILING_COMMENTS.replace(value.slice(context.i), '') !== '') {\n+        throw new ParseException('Unexpected characters near \"' + value.slice(context.i) + '\".');\n+      }\n+      return result;\n     }\n-    this.settings.exceptionOnInvalidType = exceptionOnInvalidType;\n-    this.settings.objectDecoder = objectDecoder;\n-  };\n \n-  Inline.parse = function(value, exceptionOnInvalidType, objectDecoder) {\n-    var context, result;\n-    if (exceptionOnInvalidType == null) {\n",
					"match": false,
					"packageHash": "ca396ed3b2debcf0b561f28a1027a11c809dafd9a88ed3998cecac58a5415f12",
					"size": 15308,
					"sourceHash": "15b56e3e312ad91bc6cfee9f54505eea78fe80eedec6f7209fc1dda2b40bbfd7",
					"status": "content"
				},
				"lib/Parser.js": {
					"diff": "--- published/lib/Parser.js\n+++ rebuilt/lib/Parser.js\n@@ -1,5 +1,5 @@\n-// Generated by CoffeeScript 1.10.0\n-var Inline, ParseException, Parser, Pattern, Utils;\n+// Generated by CoffeeScript 2.4.1\n+var Inline, ParseException, ParseMore, Parser, Pattern, Utils;\n \n Inline = require('./Inline');\n \n@@ -9,591 +9,707 @@\n \n ParseException = require('./Exception/ParseException');\n \n-Parser = (function() {\n-  Parser.prototype.PATTERN_FOLDED_SCALAR_ALL = new Pattern('^(?:(?<type>![^\\\\|>]*)\\\\s+)?(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$');\n-\n-  Parser.prototype.PATTERN_FOLDED_SCALAR_END = new Pattern('(?<separator>\\\\||>)(?<modifiers>\\\\+|\\\\-|\\\\d+|\\\\+\\\\d+|\\\\-\\\\d+|\\\\d+\\\\+|\\\\d+\\\\-)?(?<comments> +#.*)?$');\n-\n-  Parser.prototype.PATTERN_SEQUENCE_ITEM = new Pattern('^\\\\-((?<leadspaces>\\\\s+)(?<value>.+?))?\\\\s*$');\n-\n-  Parser.prototype.PATTERN_ANCHOR_VALUE = new Pattern('^&(?<ref>[^ ]+) *(?<value>.*)');\n-\n-  Parser.prototype.PATTERN_COMPACT_NOTATION = new Pattern('^(?<key>' + Inline.REGEX_QUOTED_STRING + '|[^ \\'\"\\\\{\\\\[].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$');\n-\n-  Parser.prototype.PATTERN_MAPPING_ITEM = new Pattern('^(?<key>' + Inline.REGEX_QUOTED_STRING + '|[^ \\'\"\\\\[\\\\{].*?) *\\\\:(\\\\s+(?<value>.+?))?\\\\s*$');\n-\n-  Parser.prototype.PATTERN_DECIMAL = new Pattern('\\\\d+');\n-\n-  Parser.prototype.PATTERN_INDENT_SPACES = new Pattern('^ +');\n+ParseMore = require('./Exception/ParseMore');\n \n-  Parser.prototype.PATTERN_TRAILING_LINES = new Pattern('(\\n*)$');\n-\n-  Parser.prototype.PATTERN_YAML_HEADER = new Pattern('^\\\\%YAML[: ][\\\\d\\\\.]+.*\\n');\n+Parser = (function() {\n+  // Parser parses YAML strings to convert them to JavaScript objects.\n \n-  Parser.prototype.PATTERN_LEADING_COMMENTS = new Pattern('^(\\\\#.*?\\n)+');\n+  class Parser {\n+    // Constructor\n \n-  Parser.prototype.PATTERN_DOCUMENT_MARKER_START = new Pattern('^\\\\-\\\\-\\\\-.*?\\n');\n+    // @param [Integer]  offset  The offset of YAML document (used for line numbers in error messages)\n \n-  Parser.prototype.PATTERN_DOCUMENT_MARKER_END = new Pattern('^\\\\.\\\\.\\\\.\\\\s*$');\n+    constructor(offset = 0) {\n+      this.offset = offset;\n+      this.lines = [];\n+      this.currentLineNb = -1;\n+      this.currentLine = '';\n+      this.refs = {};\n+    }\n \n-  Parser.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION = {};\n+    // Parses a YAML string to a JavaScript value.\n \n-  Parser.prototype.CONTEXT_NONE = 0;\n+    // @param [String]   value                   A YAML string\n+    // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types (a JavaScript resource or object), false otherwise\n+    // @param [Function] objectDecoder           A function to deserialize custom objects, null otherwise\n \n-  Parser.prototype.CONTEXT_SEQUENCE = 1;\n+    // @return [Object]  A JavaScript value\n \n-  Parser.prototype.CONTEXT_MAPPING = 2;\n+    // @throw [ParseException] If the YAML is not valid\n \n-  function Parser(offset) {\n-    this.offset = offset != null ? offset : 0;\n-    this.lines = [];\n-    this.currentLineNb = -1;\n-    this.currentLine = '';\n-    this.refs = {};\n-  }\n-\n-  Parser.prototype.parse = function(value, exceptionOnInvalidType, objectDecoder) {\n-    var alias, allowOverwrite, block, c, context, data, e, error, error1, error2, first, i, indent, isRef, j, k, key, l, lastKey, len, len1, len2, len3, lineCount, m, matches, mergeNode, n, name, parsed, parsedItem, parser, ref, ref1, ref2, refName, refValue, val, values;\n-    if (exceptionOnInvalidType == null) {\n-      exceptionOnInvalidType = false;\n-    }\n-    if (objectDecoder == null) {\n-      objectDecoder = null;\n-    }\n-    this.currentLineNb = -1;\n-    this.currentLine = '';\n-    this.lines = this.cleanup(value).split(\"\\n\");\n-    data = null;\n-    context = this.CONTEXT_NONE;\n-    allowOverwrite = false;\n-    while (this.moveToNextLine()) {\n-      if (this.isCurrentLineEmpty()) {\n-        continue;\n-      }\n-      if (\"\\t\" === this.currentLine[0]) {\n-        throw new ParseException('A YAML file cannot contain tabs as indentation.', this.getRealCurrentLineNb() + 1, this.currentLine);\n-      }\n-      isRef = mergeNode = false;\n-      if (values = this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)) {\n-        if (this.CONTEXT_MAPPING === context) {\n",
					"match": false,
					"packageHash": "2e32ba7192a3398fa3a26daa98710c06244dad021a30b974dcced76c61b54c15",
					"size": 21834,
					"sourceHash": "1cb3c65b401c24517c96713d7b6a2828cfd7ef67b4c9f59c65d8203c2de3c3ee",
					"status": "content"
				},
				"lib/Pattern.js": {
					"diff": "--- published/lib/Pattern.js\n+++ rebuilt/lib/Pattern.js\n@@ -1,119 +1,161 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n+// Pattern is a zero-conflict wrapper extending RegExp features\n+// in order to make YAML parsing regex more expressive.\n+\n var Pattern;\n \n Pattern = (function() {\n-  Pattern.prototype.regex = null;\n-\n-  Pattern.prototype.rawRegex = null;\n-\n-  Pattern.prototype.cleanedRegex = null;\n+  class Pattern {\n+    // Constructor\n \n-  Pattern.prototype.mapping = null;\n+    // @param [String] rawRegex The raw regex string defining the pattern\n \n-  function Pattern(rawRegex, modifiers) {\n-    var _char, capturingBracketNumber, cleanedRegex, i, len, mapping, name, part, subChar;\n-    if (modifiers == null) {\n-      modifiers = '';\n-    }\n-    cleanedRegex = '';\n-    len = rawRegex.length;\n-    mapping = null;\n-    capturingBracketNumber = 0;\n-    i = 0;\n-    while (i < len) {\n-      _char = rawRegex.charAt(i);\n-      if (_char === '\\\\') {\n-        cleanedRegex += rawRegex.slice(i, +(i + 1) + 1 || 9e9);\n-        i++;\n-      } else if (_char === '(') {\n-        if (i < len - 2) {\n-          part = rawRegex.slice(i, +(i + 2) + 1 || 9e9);\n-          if (part === '(?:') {\n-            i += 2;\n-            cleanedRegex += part;\n-          } else if (part === '(?<') {\n-            capturingBracketNumber++;\n-            i += 2;\n-            name = '';\n-            while (i + 1 < len) {\n-              subChar = rawRegex.charAt(i + 1);\n-              if (subChar === '>') {\n-                cleanedRegex += '(';\n-                i++;\n-                if (name.length > 0) {\n-                  if (mapping == null) {\n-                    mapping = {};\n+    constructor(rawRegex, modifiers = '') {\n+      var _char, capturingBracketNumber, cleanedRegex, i, len, mapping, name, part, subChar;\n+      cleanedRegex = '';\n+      len = rawRegex.length;\n+      mapping = null;\n+      // Cleanup raw regex and compute mapping\n+      capturingBracketNumber = 0;\n+      i = 0;\n+      while (i < len) {\n+        _char = rawRegex.charAt(i);\n+        if (_char === '\\\\') {\n+          // Ignore next character\n+          cleanedRegex += rawRegex.slice(i, +(i + 1) + 1 || 9e9);\n+          i++;\n+        } else if (_char === '(') {\n+          // Increase bracket number, only if it is capturing\n+          if (i < len - 2) {\n+            part = rawRegex.slice(i, +(i + 2) + 1 || 9e9);\n+            if (part === '(?:') {\n+              // Non-capturing bracket\n+              i += 2;\n+              cleanedRegex += part;\n+            } else if (part === '(?<') {\n+              // Capturing bracket with possibly a name\n+              capturingBracketNumber++;\n+              i += 2;\n+              name = '';\n+              while (i + 1 < len) {\n+                subChar = rawRegex.charAt(i + 1);\n+                if (subChar === '>') {\n+                  cleanedRegex += '(';\n+                  i++;\n+                  if (name.length > 0) {\n+                    // Associate a name with a capturing bracket number\n+                    if (mapping == null) {\n+                      mapping = {};\n+                    }\n+                    mapping[name] = capturingBracketNumber;\n                   }\n-                  mapping[name] = capturingBracketNumber;\n+                  break;\n+                } else {\n+                  name += subChar;\n                 }\n-                break;\n",
					"match": false,
					"packageHash": "164994ffe58a2101ae4c81f5431b902470f8667db815ebd71413271251084bf7",
					"size": 3013,
					"sourceHash": "45665fb51b1f77289306cfd5e40c246974ec578d8427bff42889fdfc31a090f5",
					"status": "content"
				},
				"lib/Unescaper.js": {
					"diff": "--- published/lib/Unescaper.js\n+++ rebuilt/lib/Unescaper.js\n@@ -1,4 +1,4 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n var Pattern, Unescaper, Utils;\n \n Utils = require('./Utils');\n@@ -6,78 +6,98 @@\n Pattern = require('./Pattern');\n \n Unescaper = (function() {\n-  function Unescaper() {}\n+  // Unescaper encapsulates unescaping rules for single and double-quoted YAML strings.\n \n-  Unescaper.PATTERN_ESCAPED_CHARACTER = new Pattern('\\\\\\\\([0abt\\tnvfre \"\\\\/\\\\\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})');\n+  class Unescaper {\n+    static unescapeSingleQuotedString(value) {\n+      return value.replace(/\\'\\'/g, '\\'');\n+    }\n \n-  Unescaper.unescapeSingleQuotedString = function(value) {\n-    return value.replace(/\\'\\'/g, '\\'');\n-  };\n+    // Unescapes a double quoted string.\n \n-  Unescaper.unescapeDoubleQuotedString = function(value) {\n-    if (this._unescapeCallback == null) {\n-      this._unescapeCallback = (function(_this) {\n-        return function(str) {\n-          return _this.unescapeCharacter(str);\n+    // @param [String]       value A double quoted string.\n+\n+    // @return [String]      The unescaped string.\n+\n+    static unescapeDoubleQuotedString(value) {\n+      if (this._unescapeCallback == null) {\n+        this._unescapeCallback = (str) => {\n+          return this.unescapeCharacter(str);\n         };\n-      })(this);\n+      }\n+      // Evaluate the string\n+      return this.PATTERN_ESCAPED_CHARACTER.replace(value, this._unescapeCallback);\n     }\n-    return this.PATTERN_ESCAPED_CHARACTER.replace(value, this._unescapeCallback);\n-  };\n \n-  Unescaper.unescapeCharacter = function(value) {\n-    var ch;\n-    ch = String.fromCharCode;\n-    switch (value.charAt(1)) {\n-      case '0':\n-        return ch(0);\n-      case 'a':\n-        return ch(7);\n-      case 'b':\n-        return ch(8);\n-      case 't':\n-        return \"\\t\";\n-      case \"\\t\":\n-        return \"\\t\";\n-      case 'n':\n-        return \"\\n\";\n-      case 'v':\n-        return ch(11);\n-      case 'f':\n-        return ch(12);\n-      case 'r':\n-        return ch(13);\n-      case 'e':\n-        return ch(27);\n-      case ' ':\n-        return ' ';\n-      case '\"':\n-        return '\"';\n-      case '/':\n-        return '/';\n-      case '\\\\':\n-        return '\\\\';\n-      case 'N':\n-        return ch(0x0085);\n-      case '_':\n-        return ch(0x00A0);\n-      case 'L':\n-        return ch(0x2028);\n-      case 'P':\n-        return ch(0x2029);\n-      case 'x':\n-        return Utils.utf8chr(Utils.hexDec(value.substr(2, 2)));\n-      case 'u':\n-        return Utils.utf8chr(Utils.hexDec(value.substr(2, 4)));\n-      case 'U':\n-        return Utils.utf8chr(Utils.hexDec(value.substr(2, 8)));\n-      default:\n-        return '';\n+    // Unescapes a character that was found in a double-quoted string\n+\n+    // @param [String]       value An escaped character\n+\n",
					"match": false,
					"packageHash": "1e46a71d9a5e880c2f4aafe852d57656095fbbb574038202106d7fb7890a53be",
					"size": 1942,
					"sourceHash": "caf6f795666afb0f8655a0e17e91ae357e8c7425adad4e6eb4e5a776e142763e",
					"status": "content"
				},
				"lib/Utils.js": {
					"diff": "--- published/lib/Utils.js\n+++ rebuilt/lib/Utils.js\n@@ -1,284 +1,400 @@\n-// Generated by CoffeeScript 1.10.0\n-var Pattern, Utils;\n+// Generated by CoffeeScript 2.4.1\n+var Pattern, Utils,\n+  hasProp = {}.hasOwnProperty;\n \n Pattern = require('./Pattern');\n \n Utils = (function() {\n-  function Utils() {}\n+  // A bunch of utility methods\n \n-  Utils.REGEX_LEFT_TRIM_BY_CHAR = {};\n+  class Utils {\n+    // Trims the given string on both sides\n \n-  Utils.REGEX_RIGHT_TRIM_BY_CHAR = {};\n+    // @param [String] str The string to trim\n+    // @param [String] _char The character to use for trimming (default: '\\\\s')\n \n-  Utils.REGEX_SPACES = /\\s+/g;\n+    // @return [String] A trimmed string\n \n-  Utils.REGEX_DIGITS = /^\\d+$/;\n+    static trim(str, _char = '\\\\s') {\n+      var regexLeft, regexRight;\n+      regexLeft = this.REGEX_LEFT_TRIM_BY_CHAR[_char];\n+      if (regexLeft == null) {\n+        this.REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp('^' + _char + '' + _char + '*');\n+      }\n+      regexLeft.lastIndex = 0;\n+      regexRight = this.REGEX_RIGHT_TRIM_BY_CHAR[_char];\n+      if (regexRight == null) {\n+        this.REGEX_RIGHT_TRIM_BY_CHAR[_char] = regexRight = new RegExp(_char + '' + _char + '*$');\n+      }\n+      regexRight.lastIndex = 0;\n+      return str.replace(regexLeft, '').replace(regexRight, '');\n+    }\n \n-  Utils.REGEX_OCTAL = /[^0-7]/gi;\n+    // Trims the given string on the left side\n \n-  Utils.REGEX_HEXADECIMAL = /[^a-f0-9]/gi;\n+    // @param [String] str The string to trim\n+    // @param [String] _char The character to use for trimming (default: '\\\\s')\n \n-  Utils.PATTERN_DATE = new Pattern('^' + '(?<year>[0-9][0-9][0-9][0-9])' + '-(?<month>[0-9][0-9]?)' + '-(?<day>[0-9][0-9]?)' + '(?:(?:[Tt]|[ \\t]+)' + '(?<hour>[0-9][0-9]?)' + ':(?<minute>[0-9][0-9])' + ':(?<second>[0-9][0-9])' + '(?:\\.(?<fraction>[0-9]*))?' + '(?:[ \\t]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)' + '(?::(?<tz_minute>[0-9][0-9]))?))?)?' + '$', 'i');\n+    // @return [String] A trimmed string\n \n-  Utils.LOCAL_TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\n+    static ltrim(str, _char = '\\\\s') {\n+      var regexLeft;\n+      regexLeft = this.REGEX_LEFT_TRIM_BY_CHAR[_char];\n+      if (regexLeft == null) {\n+        this.REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp('^' + _char + '' + _char + '*');\n+      }\n+      regexLeft.lastIndex = 0;\n+      return str.replace(regexLeft, '');\n+    }\n+\n+    // Trims the given string on the right side\n+\n+    // @param [String] str The string to trim\n+    // @param [String] _char The character to use for trimming (default: '\\\\s')\n \n-  Utils.trim = function(str, _char) {\n-    var regexLeft, regexRight;\n-    if (_char == null) {\n-      _char = '\\\\s';\n-    }\n-    return str.trim();\n-    regexLeft = this.REGEX_LEFT_TRIM_BY_CHAR[_char];\n-    if (regexLeft == null) {\n-      this.REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp('^' + _char + '' + _char + '*');\n-    }\n-    regexLeft.lastIndex = 0;\n-    regexRight = this.REGEX_RIGHT_TRIM_BY_CHAR[_char];\n-    if (regexRight == null) {\n-      this.REGEX_RIGHT_TRIM_BY_CHAR[_char] = regexRight = new RegExp(_char + '' + _char + '*$');\n+    // @return [String] A trimmed string\n+\n+    static rtrim(str, _char = '\\\\s') {\n+      var regexRight;\n+      regexRight = this.REGEX_RIGHT_TRIM_BY_CHAR[_char];\n+      if (regexRight == null) {\n+        this.REGEX_RIGHT_TRIM_BY_CHAR[_char] = regexRight = new RegExp(_char + '' + _char + '*$');\n+      }\n+      regexRight.lastIndex = 0;\n+      return str.replace(regexRight, '');\n     }\n-    regexRight.lastIndex = 0;\n-    return str.replace(regexLeft, '').replace(regexRight, '');\n-  };\n \n-  Utils.ltrim = function(str, _char) {\n-    var regexLeft;\n-    if (_char == null) {\n",
					"match": false,
					"packageHash": "c5ddda1c590fcbfd2e920361efd2b23ced33ef852a8b6e5386b625d3c035c915",
					"size": 7937,
					"sourceHash": "5190322779f269eda9b93ef0d003a23f80b92f20aa3ed12b9158b641f2a7d2a2",
					"status": "content"
				},
				"lib/Yaml.js": {
					"diff": "--- published/lib/Yaml.js\n+++ rebuilt/lib/Yaml.js\n@@ -1,4 +1,4 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n var Dumper, Parser, Utils, Yaml;\n \n Parser = require('./Parser');\n@@ -7,96 +7,109 @@\n \n Utils = require('./Utils');\n \n-Yaml = (function() {\n-  function Yaml() {}\n+// Yaml offers convenience methods to load and dump YAML.\n \n-  Yaml.parse = function(input, exceptionOnInvalidType, objectDecoder) {\n-    if (exceptionOnInvalidType == null) {\n-      exceptionOnInvalidType = false;\n-    }\n-    if (objectDecoder == null) {\n-      objectDecoder = null;\n-    }\n+Yaml = class Yaml {\n+  // Parses YAML into a JavaScript object.\n+\n+  // The parse method, when supplied with a YAML string,\n+  // will do its best to convert YAML in a file into a JavaScript object.\n+\n+  //  Usage:\n+  //     myObject = Yaml.parse('some: yaml');\n+  //     console.log(myObject);\n+\n+  // @param [String]   input                   A string containing YAML\n+  // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types, false otherwise\n+  // @param [Function] objectDecoder           A function to deserialize custom objects, null otherwise\n+\n+  // @return [Object]  The YAML converted to a JavaScript object\n+\n+  // @throw [ParseException] If the YAML is not valid\n+\n+  static parse(input, exceptionOnInvalidType = false, objectDecoder = null) {\n     return new Parser().parse(input, exceptionOnInvalidType, objectDecoder);\n-  };\n+  }\n+\n+  // Parses YAML from file path into a JavaScript object.\n+\n+  // The parseFile method, when supplied with a YAML file,\n+  // will do its best to convert YAML in a file into a JavaScript object.\n+\n+  //  Usage:\n+  //     myObject = Yaml.parseFile('config.yml');\n+  //     console.log(myObject);\n+\n+  // @param [String]   path                    A file path pointing to a valid YAML file\n+  // @param [Boolean]  exceptionOnInvalidType  true if an exception must be thrown on invalid types, false otherwise\n+  // @param [Function] objectDecoder           A function to deserialize custom objects, null otherwise\n+\n+  // @return [Object]  The YAML converted to a JavaScript object or null if the file doesn't exist.\n+\n+  // @throw [ParseException] If the YAML is not valid\n \n-  Yaml.parseFile = function(path, callback, exceptionOnInvalidType, objectDecoder) {\n+  static parseFile(path, callback = null, exceptionOnInvalidType = false, objectDecoder = null) {\n     var input;\n-    if (callback == null) {\n-      callback = null;\n-    }\n-    if (exceptionOnInvalidType == null) {\n-      exceptionOnInvalidType = false;\n-    }\n-    if (objectDecoder == null) {\n-      objectDecoder = null;\n-    }\n     if (callback != null) {\n-      return Utils.getStringFromFile(path, (function(_this) {\n-        return function(input) {\n-          var result;\n-          result = null;\n-          if (input != null) {\n-            result = _this.parse(input, exceptionOnInvalidType, objectDecoder);\n-          }\n-          callback(result);\n-        };\n-      })(this));\n+      // Async\n+      return Utils.getStringFromFile(path, (input) => {\n+        var result;\n+        result = null;\n+        if (input != null) {\n+          result = this.parse(input, exceptionOnInvalidType, objectDecoder);\n+        }\n+        callback(result);\n+      });\n     } else {\n+      // Sync\n       input = Utils.getStringFromFile(path);\n       if (input != null) {\n         return this.parse(input, exceptionOnInvalidType, objectDecoder);\n",
					"match": false,
					"packageHash": "9644a1277c5f4c80206a69d2d4b4ea42786930ccb2625f656f9298d58da3fde0",
					"size": 2815,
					"sourceHash": "f4faee441976db6fb2b1396bd0880ffdb87bdd8567a7b8b51c6bfd0c370fdb0e",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"yamljs\",\n-  \"version\": \"0.2.5\",\n+  \"version\": \"0.3.0\",\n   \"description\": \"Standalone JavaScript YAML 1.2 Parser & Encoder. Works under node.js and all major browsers. Also brings command line YAML/JSON conversion tools.\",\n   \"keywords\": [\n     \"yaml\",\n@@ -11,18 +11,21 @@\n   \"author\": \"Jeremy Faivre <contact@jeremyfa.com>\",\n   \"main\": \"./lib/Yaml.js\",\n   \"dependencies\": {\n-    \"argparse\": \"^0.1.15\",\n-    \"glob\": \"^4.0.0\"\n+    \"argparse\": \"^1.0.7\",\n+    \"glob\": \"^7.0.5\"\n   },\n   \"devDependencies\": {\n-    \"coffeeify\": \"^0.7.0\",\n-    \"benchmark\": \"^1.0.0\",\n+    \"benchmark\": \"^2.1.0\",\n+    \"coffeeify\": \"^2.0.1\",\n     \"jasmine-node\": \"^1.14.5\"\n   },\n   \"bin\": {\n     \"yaml2json\": \"./bin/yaml2json\",\n     \"json2yaml\": \"./bin/json2yaml\"\n   },\n+  \"scripts\": {\n+    \"test\": \"cake build; cake test\"\n+  },\n   \"license\": \"MIT\",\n   \"repository\": {\n     \"type\": \"git\",\n",
					"match": false,
					"packageHash": "6b8a427e150fa17aa1218c8f27a8fe09211352e120181d4ae28da2e28411e50a",
					"size": 753,
					"sourceHash": "18caee2ba850a696862a5582eebfbe345bd06f007d4946478f8432327233c6fd",
					"status": "content"
				},
				"src/Dumper.coffee": {
					"diff": "--- published/src/Dumper.coffee\n+++ rebuilt/src/Dumper.coffee\n@@ -22,6 +22,10 @@\n     #\n     dump: (input, inline = 0, indent = 0, exceptionOnInvalidType = false, objectEncoder = null) ->\n         output = ''\n+        \n+        if typeof(input) is 'function'\n+            return output\n+        \n         prefix = (if indent then Utils.strRepeat(' ', indent) else '')\n \n         if inline <= 0 or typeof(input) isnt 'object' or input instanceof Date or Utils.isEmpty(input)\n",
					"match": false,
					"packageHash": "2c491d082e3e822d158477147f3b942a29c2459af8c96dd2146a1ceffd05835f",
					"size": 2441,
					"sourceHash": "2fecd1a4b114eef1b2e86fd6f0cc2efd76d8293ee4407621fe20d87cde06693b",
					"status": "content"
				},
				"src/Exception/DumpException.coffee": {
					"diff": "--- published/src/Exception/DumpException.coffee\n+++ rebuilt/src/Exception/DumpException.coffee\n@@ -1,7 +1,11 @@\n \n class DumpException extends Error\n \n-    constructor: (@message, @parsedLine, @snippet) ->\n+    constructor: (message, parsedLine, snippet) ->\n+        super message\n+        @message = message\n+        @parsedLine = parsedLine\n+        @snippet = snippet\n \n     toString: ->\n         if @parsedLine? and @snippet?\n",
					"match": false,
					"packageHash": "52b7be877cacd77781aa7568e4bd94b59dc00a2d8c0ef0681b391f975179ede4",
					"size": 343,
					"sourceHash": "09105e5ee726b679d00349b33429a1bc267c0e36d8bb5eb064d32d10448f02ed",
					"status": "content"
				},
				"src/Exception/ParseException.coffee": {
					"diff": "--- published/src/Exception/ParseException.coffee\n+++ rebuilt/src/Exception/ParseException.coffee\n@@ -1,7 +1,11 @@\n \n class ParseException extends Error\n \n-    constructor: (@message, @parsedLine, @snippet) ->\n+    constructor: (message, parsedLine, snippet) ->\n+        super message\n+        @message = message\n+        @parsedLine = parsedLine\n+        @snippet = snippet\n \n     toString: ->\n         if @parsedLine? and @snippet?\n",
					"match": false,
					"packageHash": "c420977590f908bf685b731712cf128373e11f152b00eebbb66250d977aea56b",
					"size": 347,
					"sourceHash": "23e782cf891c71875f9a89ce8f5861a9896f4962ae3f247af5898fb7be1b3b4c",
					"status": "content"
				},
				"src/Inline.coffee": {
					"diff": "--- published/src/Inline.coffee\n+++ rebuilt/src/Inline.coffee\n@@ -4,6 +4,7 @@\n Escaper         = require './Escaper'\n Utils           = require './Utils'\n ParseException  = require './Exception/ParseException'\n+ParseMore       = require './Exception/ParseMore'\n DumpException   = require './Exception/DumpException'\n \n # Inline YAML parsing and dumping\n@@ -211,13 +212,13 @@\n     #\n     # @return [String]  A YAML string\n     #\n-    # @throw [ParseException] When malformed inline YAML string is parsed\n+    # @throw [ParseMore] When malformed inline YAML string is parsed\n     #\n     @parseQuotedScalar: (scalar, context) ->\n         {i} = context\n \n         unless match = @PATTERN_QUOTED_SCALAR.exec scalar[i..]\n-            throw new ParseException 'Malformed inline YAML string ('+scalar[i..]+').'\n+            throw new ParseMore 'Malformed inline YAML string ('+scalar[i..]+').'\n \n         output = match[0].substr(1, match[0].length - 2)\n \n@@ -239,7 +240,7 @@\n     #\n     # @return [String]  A YAML string\n     #\n-    # @throw [ParseException] When malformed inline YAML string is parsed\n+    # @throw [ParseMore] When malformed inline YAML string is parsed\n     #\n     @parseSequence: (sequence, context) ->\n         output = []\n@@ -282,7 +283,7 @@\n \n             ++i\n \n-        throw new ParseException 'Malformed inline YAML string '+sequence\n+        throw new ParseMore 'Malformed inline YAML string '+sequence\n \n \n     # Parses a mapping to a YAML string.\n@@ -292,7 +293,7 @@\n     #\n     # @return [String]  A YAML string\n     #\n-    # @throw [ParseException] When malformed inline YAML string is parsed\n+    # @throw [ParseMore] When malformed inline YAML string is parsed\n     #\n     @parseMapping: (mapping, context) ->\n         output = {}\n@@ -364,7 +365,7 @@\n                 if done\n                     break\n \n-        throw new ParseException 'Malformed inline YAML string '+mapping\n+        throw new ParseMore 'Malformed inline YAML string '+mapping\n \n \n     # Evaluates scalars and replaces magic values.\n",
					"match": false,
					"packageHash": "d90c772e72c247fc892d12ed4f44bf4038de24a933015884a6e71ade261cd13c",
					"size": 18756,
					"sourceHash": "2094ebe31408522d765b2e9d50b0d18c689c4be8773f5fe4b22db4e24999942c",
					"status": "content"
				},
				"src/Parser.coffee": {
					"diff": "--- published/src/Parser.coffee\n+++ rebuilt/src/Parser.coffee\n@@ -3,6 +3,7 @@\n Pattern         = require './Pattern'\n Utils           = require './Utils'\n ParseException  = require './Exception/ParseException'\n+ParseMore       = require './Exception/ParseMore'\n \n # Parser parses YAML strings to convert them to JavaScript objects.\n #\n@@ -19,10 +20,10 @@\n     PATTERN_DECIMAL:                        new Pattern '\\\\d+'\n     PATTERN_INDENT_SPACES:                  new Pattern '^ +'\n     PATTERN_TRAILING_LINES:                 new Pattern '(\\n*)$'\n-    PATTERN_YAML_HEADER:                    new Pattern '^\\\\%YAML[: ][\\\\d\\\\.]+.*\\n'\n-    PATTERN_LEADING_COMMENTS:               new Pattern '^(\\\\#.*?\\n)+'\n-    PATTERN_DOCUMENT_MARKER_START:          new Pattern '^\\\\-\\\\-\\\\-.*?\\n'\n-    PATTERN_DOCUMENT_MARKER_END:            new Pattern '^\\\\.\\\\.\\\\.\\\\s*$'\n+    PATTERN_YAML_HEADER:                    new Pattern '^\\\\%YAML[: ][\\\\d\\\\.]+.*\\n', 'm'\n+    PATTERN_LEADING_COMMENTS:               new Pattern '^(\\\\#.*?\\n)+', 'm'\n+    PATTERN_DOCUMENT_MARKER_START:          new Pattern '^\\\\-\\\\-\\\\-.*?\\n', 'm'\n+    PATTERN_DOCUMENT_MARKER_END:            new Pattern '^\\\\.\\\\.\\\\.\\\\s*$', 'm'\n     PATTERN_FOLDED_SCALAR_BY_INDENTATION:   {}\n \n     # Context types\n@@ -333,17 +334,16 @@\n             if indent is newIndent\n                 removeComments = not removeCommentsPattern.test @currentLine\n \n-            if isItUnindentedCollection and not @isStringUnIndentedCollectionItem(@currentLine) and indent is newIndent\n-                @moveToPreviousLine()\n-                break\n+            if removeComments and @isCurrentLineComment()\n+                continue\n \n             if @isCurrentLineBlank()\n                 data.push @currentLine[newIndent..]\n                 continue\n \n-            if removeComments and @isCurrentLineComment()\n-                if indent is newIndent\n-                    continue\n+            if isItUnindentedCollection and not @isStringUnIndentedCollectionItem(@currentLine) and indent is newIndent\n+                @moveToPreviousLine()\n+                break\n \n             if indent >= newIndent\n                 data.push @currentLine[newIndent..]\n@@ -416,25 +416,22 @@\n             else\n                 return val\n \n-        try\n-            return Inline.parse value, exceptionOnInvalidType, objectDecoder\n-        catch e\n-            # Try to parse multiline compact sequence or mapping\n-            if value.charAt(0) in ['[', '{'] and e instanceof ParseException and @isNextLineIndented()\n-                value += \"\\n\" + @getNextEmbedBlock()\n+        # Value can be multiline compact sequence or mapping or string\n+        if value.charAt(0) in ['[', '{', '\"', \"'\"]\n+            while true\n                 try\n                     return Inline.parse value, exceptionOnInvalidType, objectDecoder\n                 catch e\n-                    e.parsedLine = @getRealCurrentLineNb() + 1\n-                    e.snippet = @currentLine\n-\n-                    throw e\n-\n-            else\n-                e.parsedLine = @getRealCurrentLineNb() + 1\n-                e.snippet = @currentLine\n-\n-                throw e\n+                    if e instanceof ParseMore and @moveToNextLine()\n+                        value += \"\\n\" + Utils.trim(@currentLine, ' ')\n+                    else\n+                        e.parsedLine = @getRealCurrentLineNb() + 1\n+                        e.snippet = @currentLine\n+                        throw e\n+        else\n+            if @isNextLineIndented()\n+                value += \"\\n\" + @getNextEmbedBlock()\n+            return Inline.parse value, exceptionOnInvalidType, objectDecoder\n \n         return\n \n@@ -608,6 +605,7 @@\n         lines = value.split(\"\\n\")\n         smallestIndent = -1\n         for line in lines\n+            continue if Utils.trim(line, ' ').length == 0\n             indent = line.length - Utils.ltrim(line).length\n             if smallestIndent is -1 or indent < smallestIndent\n                 smallestIndent = indent\n",
					"match": false,
					"packageHash": "0423613a778103e57ac0eea1ad0b623501171dc847ea5182a43294da861d7c9b",
					"size": 25455,
					"sourceHash": "80b3a04778b949cbc010c0a4d821c8f75d4fdb0dd33e948de094a6ffe6bb67ae",
					"status": "content"
				},
				"src/Pattern.coffee": {
					"diff": "--- published/src/Pattern.coffee\n+++ rebuilt/src/Pattern.coffee\n@@ -134,7 +134,7 @@\n         count = 0\n         while @regex.test(str) and (limit is 0 or count < limit)\n             @regex.lastIndex = 0\n-            str = str.replace @regex, ''\n+            str = str.replace @regex, replacement\n             count++\n         \n         return [str, count]\n",
					"match": false,
					"packageHash": "4b6e91a56437df8bb16fe4e762430eb2c7be48d066aad1589692063feb4cda74",
					"size": 4768,
					"sourceHash": "8609d020d4d61397669d97095bb28ecb3aee9b94a48a691e4689197541889ba8",
					"status": "content"
				},
				"src/Utils.coffee": {
					"diff": "--- published/src/Utils.coffee\n+++ rebuilt/src/Utils.coffee\n@@ -37,7 +37,6 @@\n     # @return [String] A trimmed string\n     #\n     @trim: (str, _char = '\\\\s') ->\n-        return str.trim()\n         regexLeft = @REGEX_LEFT_TRIM_BY_CHAR[_char]\n         unless regexLeft?\n             @REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp '^'+_char+''+_char+'*'\n@@ -79,15 +78,23 @@\n         return str.replace(regexRight, '')\n \n \n-    # Checks if the given value is empty (null, undefined, empty string, string '0')\n+    # Checks if the given value is empty (null, undefined, empty string, string '0', empty Array, empty Object)\n     #\n     # @param [Object] value The value to check\n     #\n     # @return [Boolean] true if the value is empty\n     #\n     @isEmpty: (value) ->\n-        return not(value) or value is '' or value is '0' or (value instanceof Array and value.length is 0)\n+        return not(value) or value is '' or value is '0' or (value instanceof Array and value.length is 0) or @isEmptyObject(value)\n \n+    # Checks if the given value is an empty object\n+    #\n+    # @param [Object] value The value to check\n+    #\n+    # @return [Boolean] true if the value is empty and is an object\n+    #\n+    @isEmptyObject: (value) ->\n+        return value instanceof Object and (k for own k of value).length is 0\n \n     # Counts the number of occurences of subString inside string\n     #\n@@ -100,22 +107,22 @@\n     #\n     @subStrCount: (string, subString, start, length) ->\n         c = 0\n-        \n+\n         string = '' + string\n         subString = '' + subString\n-        \n+\n         if start?\n             string = string[start..]\n         if length?\n             string = string[0...length]\n-        \n+\n         len = string.length\n         sublen = subString.length\n         for i in [0...len]\n             if subString is string[i...sublen]\n                 c++\n                 i += sublen - 1\n-        \n+\n         return c\n \n \n@@ -258,7 +265,7 @@\n         # Compute date\n         date = new Date Date.UTC(year, month, day, hour, minute, second, fraction)\n         if tz_offset\n-            date.setTime date.getTime() + tz_offset\n+            date.setTime date.getTime() - tz_offset\n \n         return date\n \n@@ -308,7 +315,7 @@\n                             callback(null)\n                 xhr.open 'GET', path, true\n                 xhr.send null\n-            \n+\n             else\n                 # Sync\n                 xhr.open 'GET', path, false\n",
					"match": false,
					"packageHash": "fdf138b1bcdf0d12d032d5b479cdd2bb7bc69700460e9a432c3aa0769f7191df",
					"size": 10661,
					"sourceHash": "4f981d13e4d0f3edd528b38675940773651fc6c499632ce32541c0ca9e74f863",
					"status": "content"
				},
				"src/Yaml.coffee": {
					"diff": "--- published/src/Yaml.coffee\n+++ rebuilt/src/Yaml.coffee\n@@ -82,20 +82,6 @@\n         return yaml.dump(input, inline, 0, exceptionOnInvalidType, objectEncoder)\n \n \n-    # Registers .yml extension to work with node's require() function.\n-    #\n-    @register: ->\n-        require_handler = (module, filename) ->\n-            # Fill in result\n-            module.exports = YAML.parseFile filename\n-\n-        # Register require extensions only if we're on node.js\n-        # hack for browserify\n-        if require?.extensions?\n-            require.extensions['.yml'] = require_handler\n-            require.extensions['.yaml'] = require_handler\n-\n-\n     # Alias of dump() method for compatibility reasons.\n     #\n     @stringify: (input, inline, indent, exceptionOnInvalidType, objectEncoder) ->\n",
					"match": false,
					"packageHash": "65a027848a5756330280119bf5cdb7e3dcdd8faadadf6110f4b1ad919b3d3b88",
					"size": 4512,
					"sourceHash": "41227ed01a1dba1d1eb8439213ae24f125fa3c4b1b17acb51fb1e2b83dbc49b6",
					"status": "content"
				},
				"test/spec/YamlSpec.coffee": {
					"diff": "--- published/test/spec/YamlSpec.coffee\n+++ rebuilt/test/spec/YamlSpec.coffee\n@@ -142,7 +142,10 @@\n                     job: 'Accountant'\n                     age: 38\n \n+    it 'can ignore trailing empty lines for smallest indent', ->\n \n+        expect YAML.parse \"\"\" trailing: empty lines\\n\"\"\"\n+        .toEqual trailing: 'empty lines'\n \n describe 'Parsed YAML Inline Collections', ->\n \n@@ -410,21 +413,21 @@\n         iso8601Date.setTime iso8601Date.getTime() - 5 * 3600 * 1000\n \n         spaceSeparatedDate = new Date Date.UTC(2001, 12-1, 14, 21, 59, 43, 10)\n-        spaceSeparatedDate.setTime spaceSeparatedDate.getTime() - 5 * 3600 * 1000\n+        spaceSeparatedDate.setTime spaceSeparatedDate.getTime() + 5 * 3600 * 1000\n \n         withDatesToTime = (input) ->\n             res = {}\n             for key, val of input\n-                res[key] = Math.round(val.getTime() / 1000) * 1000\n+                res[key] = val.getTime()\n             return res\n \n         expect withDatesToTime(YAML.parse \"\"\"\n-            iso8601: 2001-12-14t21:59:43.10-05:00\n-            space seperated: 2001-12-14 21:59:43.10 -05:00\n+            iso8601: 2001-12-14t21:59:43.010+05:00\n+            space separated: 2001-12-14 21:59:43.010 -05:00\n         \"\"\")\n         .toEqual withDatesToTime (\n             'iso8601': iso8601Date\n-            'space seperated': spaceSeparatedDate\n+            'space separated': spaceSeparatedDate\n         )\n \n \n@@ -436,7 +439,7 @@\n             return input\n             res = {}\n             for key, val of input\n-                res[key] = Math.round(val.getTime() / 1000) * 1000\n+                res[key] = val.getTime()\n             return res\n \n         expect withDatesToTime(YAML.parse \"\"\"\n@@ -931,7 +934,10 @@\n         expect YAML.parse(YAML.dump({key:[]}))\n         .toEqual({key:[]})\n \n+    it 'can be dumpted empty inline collections', ->\n \n+        expect YAML.parse(YAML.dump({key:{}}))\n+        .toEqual({key:{}})\n \n describe 'Dumped YAML Basic Types', ->\n \n@@ -1145,7 +1151,7 @@\n     it 'can be time', ->\n \n         iso8601Date = new Date Date.UTC(2001, 12-1, 14, 21, 59, 43, 10)\n-        iso8601Date.setTime iso8601Date.getTime() - 5 * 3600 * 1000\n+        iso8601Date.setTime iso8601Date.getTime() + 5 * 3600 * 1000\n \n         spaceSeparatedDate = new Date Date.UTC(2001, 12-1, 14, 21, 59, 43, 10)\n         spaceSeparatedDate.setTime spaceSeparatedDate.getTime() - 5 * 3600 * 1000\n@@ -1153,16 +1159,16 @@\n         withDatesToTime = (input) ->\n             res = {}\n             for key, val of input\n-                res[key] = Math.round(val.getTime() / 1000) * 1000\n+                res[key] = val.getTime()\n             return res\n \n         expect withDatesToTime(YAML.parse \"\"\"\n-            iso8601: 2001-12-14t21:59:43.10-05:00\n-            space seperated: 2001-12-14 21:59:43.10 -05:00\n+            iso8601: 2001-12-14t21:59:43.010-05:00\n+            space separated: 2001-12-14 21:59:43.010 +05:00\n         \"\"\")\n         .toEqual YAML.parse YAML.dump withDatesToTime (\n             'iso8601': iso8601Date\n-            'space seperated': spaceSeparatedDate\n+            'space separated': spaceSeparatedDate\n         )\n \n \n@@ -1174,7 +1180,7 @@\n             return input\n             res = {}\n             for key, val of input\n-                res[key] = Math.round(val.getTime() / 1000) * 1000\n+                res[key] = val.getTime()\n             return res\n \n         expect withDatesToTime(YAML.parse \"\"\"\n",
					"match": false,
					"packageHash": "3ea6f5fd3c30f21ff34a1f186fc255585ca7c486d9aefc9b858a3f3e352ba4d2",
					"size": 33732,
					"sourceHash": "577f3c9c4a9a016de1d397eb241fac64890207ff17efcb39132115c8fcd173e5",
					"status": "content"
				},
				"test/spec/YamlSpec.js": {
					"diff": "--- published/test/spec/YamlSpec.js\n+++ rebuilt/test/spec/YamlSpec.js\n@@ -1,10 +1,12 @@\n-// Generated by CoffeeScript 1.10.0\n+// Generated by CoffeeScript 2.4.1\n var YAML, examplePath, ref, url;\n \n if (typeof YAML === \"undefined\" || YAML === null) {\n   YAML = require('../../src/Yaml');\n }\n \n+// Parsing\n+\n describe('Parsed YAML Collections', function() {\n   it('can be simple sequence', function() {\n     return expect(YAML.parse(\"- apple\\n- banana\\n- carrot\")).toEqual(['apple', 'banana', 'carrot']);\n@@ -48,7 +50,9 @@\n           fruit: 'apple',\n           name: 'steve',\n           sport: 'baseball'\n-        }, 'more', {\n+        },\n+        'more',\n+        {\n           python: 'rocks',\n           perl: 'papers',\n           ruby: 'scissorses'\n@@ -68,7 +72,7 @@\n       allow: ['localhost', '%.sourceforge.net', '%.freepan.org']\n     });\n   });\n-  return it('can merge key', function() {\n+  it('can merge key', function() {\n     return expect(YAML.parse(\"mapping:\\n  name: Joe\\n  job: Accountant\\n  <<:\\n    age: 38\")).toEqual({\n       mapping: {\n         name: 'Joe',\n@@ -77,6 +81,11 @@\n       }\n     });\n   });\n+  return it('can ignore trailing empty lines for smallest indent', function() {\n+    return expect(YAML.parse(\" trailing: empty lines\\n\")).toEqual({\n+      trailing: 'empty lines'\n+    });\n+  });\n });\n \n describe('Parsed YAML Inline Collections', function() {\n@@ -220,19 +229,19 @@\n     iso8601Date = new Date(Date.UTC(2001, 12 - 1, 14, 21, 59, 43, 10));\n     iso8601Date.setTime(iso8601Date.getTime() - 5 * 3600 * 1000);\n     spaceSeparatedDate = new Date(Date.UTC(2001, 12 - 1, 14, 21, 59, 43, 10));\n-    spaceSeparatedDate.setTime(spaceSeparatedDate.getTime() - 5 * 3600 * 1000);\n+    spaceSeparatedDate.setTime(spaceSeparatedDate.getTime() + 5 * 3600 * 1000);\n     withDatesToTime = function(input) {\n       var key, res, val;\n       res = {};\n       for (key in input) {\n         val = input[key];\n-        res[key] = Math.round(val.getTime() / 1000) * 1000;\n+        res[key] = val.getTime();\n       }\n       return res;\n     };\n-    return expect(withDatesToTime(YAML.parse(\"iso8601: 2001-12-14t21:59:43.10-05:00\\nspace seperated: 2001-12-14 21:59:43.10 -05:00\"))).toEqual(withDatesToTime({\n+    return expect(withDatesToTime(YAML.parse(\"iso8601: 2001-12-14t21:59:43.010+05:00\\nspace separated: 2001-12-14 21:59:43.010 -05:00\"))).toEqual(withDatesToTime({\n       'iso8601': iso8601Date,\n-      'space seperated': spaceSeparatedDate\n+      'space separated': spaceSeparatedDate\n     }));\n   });\n   return it('can be date', function() {\n@@ -244,7 +253,7 @@\n       res = {};\n       for (key in input) {\n         val = input[key];\n-        res[key] = Math.round(val.getTime() / 1000) * 1000;\n+        res[key] = val.getTime();\n       }\n       return res;\n     };\n@@ -346,7 +355,9 @@\n       {\n         Meat: 'pork',\n         Starch: 'potato'\n-      }, 'banana', {\n+      },\n+      'banana',\n+      {\n         Meat: 'pork',\n         Starch: 'potato'\n       }\n@@ -377,6 +388,8 @@\n   });\n });\n \n+// Dumping\n+\n describe('Dumped YAML Collections', function() {\n   it('can be simple sequence', function() {\n",
					"match": false,
					"packageHash": "51133673964057e7cb6da5b28c079c96644db9f515ef1e9b1369f4f42cf4ad1e",
					"size": 31178,
					"sourceHash": "f6217defea2cf692169f8753eddb49848d0a007f26ec13dd3d73ad496c30f008",
					"status": "content"
				},
				".travis.yml": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/Exception/ParseMore.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/Exception/ParseMore.coffee": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 27,
				"matchingFiles": 19,
				"missingInPackage": 3,
				"missingInSource": 1,
				"score": 0.38,
				"totalFiles": 50
			}
		}
	}
]
