[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-11T01:52:11.051Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "grunt-banner@0.1.4",
			"name": "grunt-banner",
			"version": "0.1.4",
			"location": "https://registry.npmjs.org/grunt-banner/-/grunt-banner-0.1.4.tgz",
			"integrity": "sha512-UBe6ZNJIAoqoxxVVZpLac9kMUyrjmKhIrrki53Hx8ywn/CLWQc9Q7jzeuTewS3v9jm4279hf61CWK3pZLwowoQ==",
			"publishedAt": "2013-05-01T21:15:53.946Z",
			"publishedWith": {
				"node": null,
				"npm": "1.2.14"
			},
			"dependencies": {}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/mattstyles/grunt-banner.git",
			"spec": "github:mattstyles/grunt-banner#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".jshintrc": {
					"match": false,
					"packageHash": "5f3af558177bd89bc36a4848ef917a0715dba0df4ef75e5156b29635da61638c",
					"size": 206,
					"status": "missing-in-source"
				},
				".npmignore": {
					"match": false,
					"packageHash": "3388e4c1dc3e1ecabf90d2c33e8b775b51ce5a5c59ea1fa7d795add8c2fb9f76",
					"size": 58,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"packageHash": "e6c07cdc24c5a030d24e746f55cd513691c63b6a70a7f2e6f04f1e81c0a800ff",
					"size": 48,
					"status": "missing-in-source"
				},
				"Gruntfile.js": {
					"match": false,
					"packageHash": "e11df21b9caee579a44be3d56b385c2ed689daf51902401cac728afdeaef7a49",
					"size": 1977,
					"status": "missing-in-source"
				},
				"LICENSE-MIT": {
					"diff": "--- published/LICENSE-MIT\n+++ rebuilt/LICENSE-MIT\n@@ -1,4 +1,4 @@\n-Copyright (c) 2013 Matt Styles\n+Copyright (c) 2014 Matt Styles\n \n Permission is hereby granted, free of charge, to any person\n obtaining a copy of this software and associated documentation\n",
					"match": false,
					"packageHash": "4cfcccced3ff01ed2b98119eb576d0f239097948c55ae608ef7ba21f84f07bda",
					"size": 1055,
					"sourceHash": "abbf0bd61e2f8611c409908d9797e9cea58d376ba0c610d6b8936c95f5d2f727",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,9 +1,13 @@\n-# grunt-banner [![Build Status](https://travis-ci.org/mattstyles/grunt-banner.png?branch=master)](https://travis-ci.org/mattstyles/grunt-banner)\n+# grunt-banner\n+\n+[![NPM version](https://img.shields.io/npm/v/grunt-banner.svg)](https://www.npmjs.com/package/grunt-banner)\n+[![Build Status](https://img.shields.io/travis/mattstyles/grunt-banner/master.svg)](https://travis-ci.org/mattstyles/grunt-banner)\n+[![Dependency Status](https://img.shields.io/david/mattstyles/grunt-banner.svg)](https://david-dm.org/mattstyles/grunt-banner#info=deependencies)\n+[![devDependency Status](https://img.shields.io/david/dev/mattstyles/grunt-banner.svg)](https://david-dm.org/mattstyles/grunt-banner#info=devDependencies)\n \n > Adds a simple banner to files\n \n ## Getting Started\n-This plugin requires Grunt `~0.4.1`\n \n If you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n \n@@ -17,8 +21,7 @@\n grunt.loadNpmTasks('grunt-banner');\n ```\n \n-Or if you are using [matchdep](https://github.com/tkellen/node-matchdep) it will be included along with other\n-`grunt-*` tasks by using this line of JS:\n+Or if you are using [matchdep](https://github.com/tkellen/node-matchdep) it will be included along with other `grunt-*` tasks by using this line of JavaScript:\n \n ```js\n require('matchdep').filterDev('grunt-*').forEach(grunt.loadNpmTasks);\n@@ -26,10 +29,10 @@\n \n ## The \"usebanner\" task\n \n-_grunt-banner renamed itâ€™s task from `banner` to `usebanner` as a `banner` is often used to hold a banner template\n-for a number of grunt plugins_\n+*grunt-banner renamed its task from `banner` to `usebanner` as a `banner` is often used to hold a banner template for a number of grunt plugins.*\n \n ### Overview\n+\n In your project's Gruntfile, add a section named `usebanner` to the data object passed into `grunt.initConfig()`.\n \n The wildcard selector `*` is perfectly valid for selecting targets to add a banner to.\n@@ -39,8 +42,9 @@\n   usebanner: {\n     taskName: {\n       options: {\n-        position: 'top' || 'bottom'\n-        banner: '// banner text <%= templates encouraged %>'\n+        position: 'top',\n+        banner: '// banner text <%= templates encouraged %>',\n+        linebreak: true\n       },\n       files: {\n         src: [ 'path/to/file.ext', 'path/to/another/*.ext' ]\n@@ -53,24 +57,101 @@\n ### Options\n \n #### options.position\n-Type: `String`\n-Default value: `'top`\n-Value range: `'top'` or `'bottom'` only\n \n-The position to place the banner - _either_ the top or bottom (other values will default to top)\n+Type: `String`  \n+Default: `'top'`  \n+Value range: `'top'` or `'bottom'` or `'replace'`\n+\n+The position to place the banner - *either* the top or bottom or in place of the contents in the desired file specified by `'replaceContent'` when and existing banner is replaced by `grunt-banner`.\n+\n+When `position` is set to `'replace'`, this *implies* `options.replace: true` unless that option has explicitly been set by the user already (see below).\n+\n+When `position` is set to `'replace'` and replacement fails, i.e. no existing banner could be spotted, then `grunt-banner` falls back to regular `position: 'top' | position: 'bottom'` banner insertion behaviour.\n+\n+In short: `grunt-banner` will always either *replace* or *add* a banner!\n+\n+#### options.replace\n+\n+Type: `Boolean`, `String`, `RegExp` or `Function`\n+\n+The text in the specified file that the banner should replace. When `position` is set to `'replace'`, every occurrence of a banner (see below for more on how existing banners are located) will be replaced by the new one. When `position` is set to either `'top'` or `'bottom'`, then the existing banners will be removed and replaced by a single new banner at the top or bottom of the file as directed by the `position` setting.\n+\n+These `options.replace` parameter types / values are supported:\n+\n+* Boolean `false` (default) - do not look for existing banners; simply add the banner at the specified position (top / bottom).\n+* Boolean `true` - 'smart' replace mode: use the built-in 'smart' locate-and-mark scanner to dig out the existing banners (more on the rules what maketh a banner below).\n+* (string) - replace any part of the source code which matches this *implicit regex*.\n+  > This means most strings are matched as-is, but do not get mistaken about this: dot `.`, star `*` et al will not be the *literal characters* you might have expected, but are treated as regex operators! E.g. `replace: \"/* blurb */\"` will **not** work as if a literal string, since the stars `*` in there will make it match lines like `// blurb //` but **will not** match an actual C-style comment line `/* blurb */`. You will need to specify the proper regex string for that instead: `replace: \"\\/\\* blurb \\*\\/\"`.\n+  > Also note that *every* regex match will be replaced by the specified banner. If your regex is not selective or precise enough, you may end up with some surprising replacements. **This is not a bug. You are responsible for providing *fitting* regexes to have `grunt-banner` match against.**\n+* (RegExp) - a rexexp instance to match against. The same caveats as the (string) type value above apply.\n+* (function) - provide your own callback method to locate and mark the input. The interface for the callback function is:\n+\n+  ```js\n+  function (fileContents, newBanner, insertPositionMarker, src, options)\n+  ```\n+\n+  which should *return* the marked `fileContents`, i.e. the `fileContents` with all banners eligible for replacement removed and replaced by a simple `insertPositionMarker` string (see below). Your locate-and-match callback may insert *one*, *multiple* markers or *none*: `grunt-banner` will check how many markers you injected and either replace them when one or more markers are seen, or when none are found, revert to its basic `top|bottom` position-based banner *insertion* process.\n+\n+  The callback function parameters:\n+\n+  * `fileContents` (string) - the contents of the `src` file.\n+  * `newBanner` (string) - the new banner to be inserted by `grunt-banner`.\n",
					"match": false,
					"packageHash": "bb9a7fb6d9527c9dcc75002d6f3aa0bb4882893c2bc4aff8b8de63d7e31374a1",
					"size": 3894,
					"sourceHash": "ab3557da58c4e38afb3ddd85dcada7d3fba089d7a6531b0553e122c291942e3a",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,44 +1,50 @@\n {\n   \"name\": \"grunt-banner\",\n   \"description\": \"Adds a simple banner to files\",\n-  \"version\": \"0.1.4\",\n+  \"version\": \"0.6.0\",\n   \"homepage\": \"https://github.com/mattstyles/grunt-banner\",\n   \"author\": {\n     \"name\": \"Matt Styles\",\n     \"email\": \"matt@veryfizzyjelly.com\",\n-    \"url\": \"veryfizzyjelly.com\"\n+    \"url\": \"https://github.com/mattstyles\"\n   },\n   \"repository\": {\n     \"type\": \"git\",\n-    \"url\": \"git://github.com/mattstyles/grunt-banner.git\"\n+    \"url\": \"git+https://github.com/mattstyles/grunt-banner.git\"\n   },\n   \"bugs\": {\n     \"url\": \"https://github.com/mattstyles/grunt-banner/issues\"\n   },\n-  \"licenses\": [\n-    {\n-      \"type\": \"MIT\",\n-      \"url\": \"https://github.com/mattstyles/grunt-banner/blob/master/LICENSE-MIT\"\n-    }\n-  ],\n-  \"main\": \"Gruntfile.js\",\n+  \"license\": \"MIT\",\n   \"engines\": {\n-    \"node\": \">= 0.8.0\"\n+    \"node\": \">=0.10.0\"\n   },\n   \"scripts\": {\n     \"test\": \"grunt test\"\n   },\n+  \"files\": [\n+    \"tasks\",\n+    \"History.md\",\n+    \"LICENSE-MIT\"\n+  ],\n+  \"dependencies\": {\n+    \"chalk\": \"^1.1.0\"\n+  },\n   \"devDependencies\": {\n-    \"grunt-contrib-jshint\": \"~0.1.1\",\n-    \"grunt-contrib-clean\": \"~0.4.0\",\n-    \"grunt-contrib-nodeunit\": \"~0.1.2\",\n-    \"grunt\": \"~0.4.1\",\n-    \"grunt-cli\": \"~0.1.7\"\n+    \"grunt\": \"^1.0.1\",\n+    \"grunt-contrib-clean\": \"^1.0.0\",\n+    \"grunt-contrib-copy\": \"^1.0.0\",\n+    \"grunt-contrib-jshint\": \"^1.0.0\",\n+    \"grunt-contrib-nodeunit\": \"^1.0.0\",\n+    \"load-grunt-tasks\": \"^3.2.0\",\n+    \"time-grunt\": \"^1.2.1\"\n   },\n   \"peerDependencies\": {\n-    \"grunt\": \"~0.4.1\"\n+    \"grunt\": \">=0.4.0\"\n   },\n   \"keywords\": [\n-    \"gruntplugin\"\n+    \"gruntplugin\",\n+    \"banner\",\n+    \"build\"\n   ]\n }\n",
					"match": false,
					"packageHash": "86dfb0ef8cccefd93e007bc2ceea04b9ca8fcfbcca54f464bc804b83eaf9ead0",
					"size": 991,
					"sourceHash": "56892234c74b5116624b8a4426ae0c2a595c3cae91aeedaf0bcb0c5c16161dca",
					"status": "content"
				},
				"tasks/usebanner.js": {
					"diff": "--- published/tasks/usebanner.js\n+++ rebuilt/tasks/usebanner.js\n@@ -2,44 +2,160 @@\n  * grunt-banner\n  * https://github.com/mattstyles/grunt-banner\n  *\n- * Copyright (c) 2013 Matt Styles\n+ * Copyright (c) 2015 Matt Styles\n  * Licensed under the MIT license.\n  */\n \n 'use strict';\n \n-module.exports = function(grunt) {\n+var chalk = require ( 'chalk' );\n+\n+module.exports = function ( grunt ) {\n+\n+    /* @const */ var insertPositionMarker = '\\uFFFD';   // Unicode REPLACEMENT CHARACTER -- http://www.fileformat.info/info/unicode/char/fffd/index.htm\n+\n+    function defaultOldBannerRemover( fileContents, newBanner, insertPositionMarker ) {\n+        // Find a full-lines-spanning comment with the phrase `Copyright (c) <year/name/blah>` in it, case-insensitive and `(c)` being optional.\n+        // That will be our old banner and we kill the *entire* comment, it being C or C++ style, multiline or not.\n+        //\n+        // We only accept comments which start at column 1, i.e. at the left edge. Anything else is considered a minor - and thus irrelevant - comment.\n+\n+        // Regex for the question: do we have one line in there which starts with `Copyright <blabla>`?\n+        // It's okay when it's preceded by some basic comment markers, but it MUST be followed by at *least*\n+        // one(1) character of 'bla bla', whatever that blurb actually may be.\n+        var copyrightRe = /(^|\\r\\n|\\n|\\r)[\\/*#|\\s]*Copyright\\s+[^\\s\\r\\n]+/i;\n+        // Regex for the question: do we have a one-or-many lines covering C comment?\n+        var cCommentRe = /(^|\\r\\n|\\n|\\r)\\/\\*[^\\0]*?\\*\\/\\s*($|\\r\\n|\\n|\\r)/gi;\n+        // Regex for the question: do we have a single or a whole *consecutive* bunch of `//` prefixed C++ style comment lines?\n+        var cppCommentRe = /(^|\\r\\n|\\n|\\r)(?:\\/\\/[^\\n\\r]*(?:\\r\\n|\\n|\\r))*\\/\\/[^\\n\\r]*($|\\r\\n|\\n|\\r)/gi;\n+\n+        function checkAndReplace( match, p1, p2 ) {\n+            if ( copyrightRe.test( match ) ) {\n+                // got one!\n+                return p1 + insertPositionMarker + p2;\n+            }\n+            // else: no dice! Do *not* alter:\n+            return match;\n+        }\n+\n+        // We *do* expect the exceptional case of multiple old banners (and in different formats)\n+        // to sit in the input file: we want to kill/replace them *all*!\n+        //\n+        // Hence we execute both regex replacements, irrespective of whether the first replace already\n+        // delivered a hit.\n+        //\n+        // To emphasize: we want *all* the banners in there and kill/replace them *all*!\n+        fileContents = fileContents.replace( cCommentRe, checkAndReplace );\n+        fileContents = fileContents.replace( cppCommentRe, checkAndReplace );\n+        return fileContents;\n+    }\n \n     // Please see the Grunt documentation for more information regarding task\n     // creation: http://gruntjs.com/creating-tasks\n \n-    grunt.registerMultiTask('usebanner', 'Adds a banner or a footer to a file', function() {\n+    grunt.registerMultiTask( 'usebanner', 'Adds a banner or a footer to a file', function () {\n         // Set up defaults for the options hash\n         var options = this.options({\n             position: 'top',\n-            banner: ''\n+            banner: '',\n+            linebreak: true,\n+            process: false,\n+            replace: false            // boolean (true/false), string, RegExp or function which will filter the content before applying the new banner\n         });\n-        if ( options.position !== 'top' && options.position !== 'bottom' ) {\n+\n+        if ( options.position !== 'top' && options.position !== 'bottom' && options.position !== 'replace' ) {\n             options.position = 'top';\n         }\n \n-        // Iterate over the list of files and add the banner or footer\n-        this.files.forEach( function( file ) {\n-            file.src.forEach( function( src ) {\n+        // Verify that if user wishes to replace content with a banner, that they have correctly\n+        // supplied the content they wish to replace.\n+        if ( options.replace ) {\n+            switch ( typeof options.replace ) {\n+            case 'boolean':\n+            case 'string':\n+            case 'function':\n+                break;\n+\n+            case 'object':\n+                if ( options.replace instanceof RegExp ) {\n+                    break;\n+                }\n+                /* falls through */\n+            default:\n+                grunt.util.error( 'Detected option `replace` with invalid type - type must be Boolean, String, RegExp or filter Function.' );\n+                return;\n+            }\n+        } else {\n+            options.replace = options.position === 'replace';\n+        }\n",
					"match": false,
					"packageHash": "708e5bd75f166d7d83071e2a409b756e3e4c3fb204177c0926aeab21657e3bca",
					"size": 1361,
					"sourceHash": "ccf9b151943f4e2a75b013c23a907149c9df6b9a89718a6af352b51b2a8f2f05",
					"status": "content"
				},
				"test/banner_test.js": {
					"match": false,
					"packageHash": "e84d0afbd650381edbd14894196629f838ae9638ddecfa2da2fdc9d6d967e80b",
					"size": 2091,
					"status": "missing-in-source"
				},
				"test/expected/some-banner.js": {
					"match": false,
					"packageHash": "e15a376b953d65e54a2e06ffcc486dcc16731a514a513bb2a759bd9c2806765c",
					"size": 49,
					"status": "missing-in-source"
				},
				"test/expected/some-bottom.js": {
					"match": false,
					"packageHash": "38108be227597043592bc4051772d38312c72ba26d8fd678657d8616ef5ce8c9",
					"size": 49,
					"status": "missing-in-source"
				},
				"test/fixtures/some.js": {
					"match": false,
					"packageHash": "03ca9fe1d9a504f594ce65f0c7670d80762df71dc50f61d84d307ab859628894",
					"size": 35,
					"status": "missing-in-source"
				},
				"test/fixtures/someBottom.js": {
					"match": false,
					"packageHash": "03ca9fe1d9a504f594ce65f0c7670d80762df71dc50f61d84d307ab859628894",
					"size": 35,
					"status": "missing-in-source"
				},
				"History.md": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 0,
				"missingInPackage": 1,
				"missingInSource": 9,
				"score": 0,
				"totalFiles": 14
			}
		},
		"prodDependencies": [
			{
				"name": "ansi-regex",
				"version": "2.1.1"
			},
			{
				"name": "ansi-styles",
				"version": "2.2.1"
			},
			{
				"name": "chalk",
				"version": "1.1.3"
			},
			{
				"name": "escape-string-regexp",
				"version": "1.0.5"
			},
			{
				"name": "has-ansi",
				"version": "2.0.0"
			},
			{
				"name": "strip-ansi",
				"version": "3.0.1"
			},
			{
				"name": "supports-color",
				"version": "2.0.0"
			}
		]
	}
]
