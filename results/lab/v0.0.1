[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-04T21:48:59.367Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "lab@0.0.1",
			"name": "lab",
			"version": "0.0.1",
			"location": "https://registry.npmjs.org/lab/-/lab-0.0.1.tgz",
			"integrity": "sha512-qPQX6Jv0FhJ34Oi7KoTs52Tn2fazel+XjA1h1zJRpnL6J0jWYHmRJQ+y0w9+yPwzEk+3NBumNpv7qHNGhWmreQ==",
			"publishedAt": "2013-03-10T08:34:29.851Z",
			"publishedWith": {
				"node": null,
				"npm": "1.2.14"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/spumko/lab",
			"spec": "github:spumko/lab#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "5d817dc581151e29c850110c05fc58993754607f0006e01ae89f11d649d95005",
					"size": 178,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"packageHash": "c6b400fe463927770d01af229d36bdae1a5179db12a0bc90b3be6c48977df358",
					"size": 37,
					"status": "missing-in-source"
				},
				"LICENSE": {
					"match": false,
					"packageHash": "8444780b8f274f47e5c477c074ba413fb54628963d5e7b10792a740e3ce525e1",
					"size": 1473,
					"status": "missing-in-source"
				},
				"Makefile": {
					"match": false,
					"packageHash": "878458e2266113f521ebac12f2e0a9f3d97e808a017dde0c5e83a055c3ba9de9",
					"size": 439,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,156 +1,17 @@\n-<a href=\"https://github.com/spumko\"><img src=\"https://raw.github.com/spumko/spumko/master/images/from.png\" align=\"right\" /></a>\n-![lab Logo](https://raw.github.com/spumko/lab/master/images/lab.png)\n+<a href=\"https://hapi.dev\"><img src=\"https://raw.githubusercontent.com/hapijs/assets/master/images/family.png\" width=\"180px\" align=\"right\" /></a>\n \n-Node test utility\n+# @hapi/lab\n \n-[![Build Status](https://secure.travis-ci.org/spumko/lab.png)](http://travis-ci.org/spumko/lab)\n+#### Node test utility.\n \n+**lab** is part of the **hapi** ecosystem and was designed to work seamlessly with the [hapi web framework](https://hapi.dev) and its other components (but works great on its own or with other frameworks). If you are using a different web framework and find this module useful, check out [hapi](https://hapi.dev) â€“ they work even better together.\n \n-## Introduction\n-\n-**lab** is a simple test utility for node. Unlike other test frameworks, **lab** does not attempt to cover many use cases or provide\n-rich functionality and extensibility. In fact, this project started as a fork off [mocha](http://visionmedia.github.com/mocha/) and was\n-repeatedly refactored until only the very basic functionality was left which was then rewritten into a handful of functions.\n-\n-**lab**'s primary goal is to support the narrow use cases of the [**spumko**](https://github.com/spumko) modules. If you give it a try\n-and find a missing feature, you are better off giving [mocha](http://visionmedia.github.com/mocha/) a try. We are unlikely to add\n-functionality to it. It is not meant to be a framework, just a handy utility.\n-\n-## Acknowledgements\n-\n-**lab** borrows heavily from [mocha](http://visionmedia.github.com/mocha/), including the actual code used to render the coverage report\n-into HTML. [mocha](http://visionmedia.github.com/mocha/) is a comprehensive test framework created by TJ Holowaychuk and published under the\n-[MIT license](https://github.com/visionmedia/mocha/blob/master/LICENSE).\n-\n-## Usage\n-\n-To install **lab**:\n-\n-```bash\n-$ npm install lab\n-```\n-\n-To start:\n-```bash\n-$ lab\n-```\n-\n-By default, **lab** loads all the '*.js' files inside the local 'test' directory and executes the tests found. To start **lab** using\n-different directories or files, pass those as arguments:\n-```bash\n-$ lab unit.js\n-```\n-\n-Test files must require the **lab** module, and add tests using the 'test()' method:\n-```javascript\n-var Lab = require('lab');\n-\n-Lab.test('returns true when 1 + 1 equals 2', function (done) {\n-\n-    Lab.expect(1+1).to.equal(2);\n-    done();\n-});\n-```\n-\n-When a test is completed, 'done()' must be called, otherwise the test will time out (2 seconds by default) and will fail.\n-The test passes if 'done()' is call once before the timeout, and no exception thrown.\n-\n-**lab** works with any test utility that throws an error when a condition isn't met. It uses the same error interface as\n-[mocha](http://visionmedia.github.com/mocha/) and already includes (chai)[http://chaijs.com/]'s 'expect()' in its exported\n-interface as shown above.\n-\n-Tests can be organized into experiments:\n-```javascript\n-var Lab = require('lab');\n-\n-Lab.experiment('math', function () {\n-    \n-    Lab.test('returns true when 1 + 1 equals 2', function (done) {\n-\n-        Lab.expect(1+1).to.equal(2);\n-        done();\n-    });\n-});\n-```\n-\n-If you need to perform some asynch actions before or after executing the tests inside an experiment, the 'before()' and\n-'after()' methods can be used:\n-```javascript\n-var Lab = require('lab');\n-\n-Lab.experiment('math', function () {\n-\n-    Lab.before(function (done) {\n-        \n-        // Wait 1 second\n-        setTimeout(function () { done(); }, 1000);\n-    });    \n-\n-    Lab.test('returns true when 1 + 1 equals 2', function (done) {\n-\n-        Lab.expect(1+1).to.equal(2);\n-        done();\n-    });\n",
					"match": false,
					"packageHash": "0db10682e83195e3d653ae22921e6abc0065d15e03bdb5c9cddc94d352733f01",
					"size": 5051,
					"sourceHash": "9abd14c56057861d8df20c00e065e56b75bc3cc7021ba0e7d8c9cad6bde11e3e",
					"status": "content"
				},
				"bin/lab": {
					"diff": "--- published/bin/lab\n+++ rebuilt/bin/lab\n@@ -1,5 +1,60 @@\n #!/usr/bin/env node\n \n+'use strict';\n \n-var Execute = require('../lib/execute');\n-Execute.execute();\n+const inspectPattern = /^(--inspect|--inspect-brk)(=\\d+)?$/;\n+const inspectArg = process.argv.find((argument) => {\n+\n+    return inspectPattern.test(argument);\n+});\n+\n+if (process.env.NODE_DEBUG_OPTION || inspectArg) {\n+    const ChildProcess = require('child_process');\n+\n+    const node = process.argv[0];\n+    const lab = process.argv[1];\n+    const args = [];\n+\n+    if (process.env.NODE_DEBUG_OPTION) { // WebStorm debugger\n+        args.push(...process.env.NODE_DEBUG_OPTION.split(' '));\n+        delete process.env.NODE_DEBUG_OPTION;\n+    }\n+    else { // V8 inspector\n+        args.push(inspectArg);\n+    }\n+\n+    args.push(lab);\n+\n+    // Remove node, lab, and the --inspect that might have been provided in the options\n+    args.push(...process.argv.slice(2).filter((argument) => !inspectPattern.test(argument)));\n+\n+    const options = {\n+        stdio: 'inherit'\n+    };\n+\n+    const childLab = ChildProcess.spawn(\n+        node,\n+        args,\n+        options\n+    );\n+\n+    childLab.on('close', (code) => {\n+\n+        process.exit(code);\n+    });\n+\n+    process.on('SIGTERM', () => {\n+\n+        childLab.kill();\n+    });\n+\n+    return;\n+}\n+\n+const main = async () => {\n+\n+    const { code } = await require('../lib/cli').run();\n+    process.exit(code);\n+};\n+\n+main();\n",
					"match": false,
					"packageHash": "9ec00141d54accd73562b82e53d624b226b270413fe655e7ca7e04cf4cce0c7a",
					"size": 82,
					"sourceHash": "38eb4afa0470608c629a5b7867dffb7bf3ceabf87e8286c4c100efa0b8032f22",
					"status": "content"
				},
				"images/lab.png": {
					"match": false,
					"packageHash": "10cdc7d0325956020750f19c486c32db9487de5ffc978270d83078b344abf868",
					"size": 10607,
					"status": "missing-in-source"
				},
				"index.js": {
					"match": false,
					"packageHash": "f84b7747688f053b22b9219fb7e8b002ab79187c3802cc62b9b4e1aa0d6cdfd6",
					"size": 34,
					"status": "missing-in-source"
				},
				"lib/execute.js": {
					"match": false,
					"packageHash": "a1f4a9b9273981edcaff3cbb9beaf131e19db3723f7e8585ec32dc712fa37ea3",
					"size": 4755,
					"status": "missing-in-source"
				},
				"lib/html/report.jade": {
					"match": false,
					"packageHash": "09cbc4bf453a049a62730dc74fa6e3dd190c73d968eb714c322ebedfdea81310",
					"size": 1826,
					"status": "missing-in-source"
				},
				"lib/html/script.html": {
					"match": false,
					"packageHash": "a70ffab902fc460810e8ae759e227648ab2276d819190d5050837a8b1f973c49",
					"size": 595,
					"status": "missing-in-source"
				},
				"lib/html/style.html": {
					"match": false,
					"packageHash": "5f85626919ea9be37526400905afbe4cc5d7cf5b6cf88589a6869b957ff5e9db",
					"size": 2578,
					"status": "missing-in-source"
				},
				"lib/index.js": {
					"diff": "--- published/lib/index.js\n+++ rebuilt/lib/index.js\n@@ -1,74 +1,282 @@\n-// Load modules\n+'use strict';\n \n-var Chai = require('chai');\n+const Hoek = require('@hapi/hoek');\n \n+const Modules = require('./modules');\n+const Runner = require('./runner');\n \n-// Declare internals\n \n-var internals = {};\n+const internals = {};\n \n \n-/*\n-    experiment('Utilities', function (){\n+exports.report = Runner.report;\n \n-        experiment('#isEven()', function () {\n+exports.execute = Runner.execute;\n \n-            test('returns true on even values', function (done) {\n+exports.assertions = null;                                              // Set by the -a command line option\n \n-            });\n- \n-            test('returns false on odd values', function (done) {\n+// Inject modules (with lazy loading)\n+\n+for (const module of ['coverage', 'leaks', 'types']) {\n+    Object.defineProperty(exports, module, Object.getOwnPropertyDescriptor(Modules, module));\n+}\n+\n+/*\n+    experiment('Utilities', () => {\n+\n+        experiment('isEven()', () => {\n+\n+            test('returns true on even values', () => {\n \n             });\n         });\n     });\n- */\n+*/\n+\n+\n+exports.script = function (options) {\n+\n+    options = options || {};\n+\n+    global._labScriptRun = true;                                        // Compared by CLI to detect missing exports.lab\n+\n+    const script = {\n+        _current: {\n+            experiments: [],\n+            tests: [],\n+            options: {},\n+            title: 'script'\n+        },\n+        _type: null,                                                    // 'cjs' or 'esm' if known\n+        _titles: [],\n+        _path: [],\n+        _count: 0,\n+        _executionScheduled: false,\n+        _onlyNodes: [],\n+        _cli: options.cli,\n+        _setOnly: function (experiment, test, path) {\n+\n+            this._onlyNodes.push({ experiment, test, path });\n+        }\n+    };\n+\n+    script._root = script._current;\n+\n+    script.experiment = internals.experiment.bind(script);\n+    script.experiment.skip = internals.skip(script, 'experiment');\n+    script.experiment.only = internals.only(script, 'experiment');\n+    script.describe = script.experiment;\n+    script.suite = script.experiment;\n+\n+    script.test = internals.test.bind(script);\n+    script.test.skip = internals.skip(script, 'test');\n+    script.test.only = internals.only(script, 'test');\n+    script.it = script.test;\n+\n+    script.before = internals.before.bind(script);\n+    script.beforeEach = internals.beforeEach.bind(script);\n+    script.after = internals.after.bind(script);\n+    script.afterEach = internals.afterEach.bind(script);\n+\n+    if (exports.assertions) {\n+        script.expect = exports.assertions.expect;\n+        script.fail = exports.assertions.fail;\n+    }\n+\n",
					"match": false,
					"packageHash": "ee22fc0f76fa68ea344149224d4ab0fa81a39dc65edbf796eca2adc9a79223fe",
					"size": 1299,
					"sourceHash": "268846a47553d6b39db8dc6b66059355d971aa6438588423f3d30a1b9605c418",
					"status": "content"
				},
				"lib/reporter.js": {
					"match": false,
					"packageHash": "9217574d1a07adcaab85bafc7efadb5a571d99ac4f6f7a70dc0b6654ecb9a329",
					"size": 8405,
					"status": "missing-in-source"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,36 +1,66 @@\n {\n-  \"name\": \"lab\",\n-  \"description\": \"Test utility\",\n-  \"version\": \"0.0.1\",\n-  \"author\": \"Eran Hammer <eran@hueniverse.com> (http://hueniverse.com)\",\n-  \"contributors\": [],\n-  \"repository\": \"git://github.com/spumko/lab\",\n-  \"main\": \"index\",\n-  \"keywords\": [\n-    \"test\"\n-  ],\n-  \"engines\": {\n-    \"node\": \"0.8.x\"\n-  },\n-  \"dependencies\": {\n-    \"optimist\": \"0.3.x\",\n-    \"blanket\": \"1.0.x\",\n-    \"chai\": \"1.x.x\",\n-    \"jade\": \"0.26.3\",\n-    \"async\": \"0.1.x\",\n-    \"diff\": \"1.0.2\"\n-  },\n-  \"devDependencies\": {\n-  },\n-  \"bin\": {\n-    \"lab\": \"./bin/lab\"\n-  },\n-  \"scripts\": {\n-  },\n-  \"licenses\": [\n-    {\n-      \"type\": \"BSD\",\n-      \"url\": \"http://github.com/spumko/lab/raw/master/LICENSE\"\n-    }\n-  ]\n+    \"name\": \"@hapi/lab\",\n+    \"description\": \"Test utility\",\n+    \"version\": \"26.0.0\",\n+    \"repository\": \"git://github.com/hapijs/lab\",\n+    \"main\": \"lib/index.js\",\n+    \"types\": \"lib/index.d.ts\",\n+    \"engines\": {\n+        \"node\": \">=18\"\n+    },\n+    \"keywords\": [\n+        \"test\",\n+        \"runner\"\n+    ],\n+    \"files\": [\n+        \"bin/lab\",\n+        \"lib\"\n+    ],\n+    \"dependencies\": {\n+        \"@babel/core\": \"^7.16.0\",\n+        \"@babel/eslint-parser\": \"^7.25.1\",\n+        \"@hapi/bossy\": \"^6.0.0\",\n+        \"@hapi/eslint-plugin\": \"^7.0.0\",\n+        \"@hapi/hoek\": \"^11.0.2\",\n+        \"diff\": \"^5.0.0\",\n+        \"eslint\": \"9.x.x\",\n+        \"find-rc\": \"4.x.x\",\n+        \"globby\": \"^11.1.0\",\n+        \"handlebars\": \"4.x.x\",\n+        \"mo-walk\": \"^1.2.0\",\n+        \"seedrandom\": \"3.x.x\",\n+        \"source-map\": \"0.7.x\",\n+        \"source-map-support\": \"0.5.x\",\n+        \"supports-color\": \"^8.1.1\",\n+        \"will-call\": \"1.x.x\"\n+    },\n+    \"peerDependencies\": {\n+        \"@hapi/eslint-plugin\": \"^7.0.0\",\n+        \"typescript\": \">=4.4.0\"\n+    },\n+    \"peerDependenciesMeta\": {\n+        \"typescript\": {\n+            \"optional\": true\n+        }\n+    },\n+    \"devDependencies\": {\n+        \"@hapi/code\": \"^9.0.0\",\n+        \"@hapi/somever\": \"^4.0.0\",\n+        \"@types/eslint\": \"^9.6.0\",\n+        \"@types/node\": \"^18.11.17\",\n+        \"cpr\": \"3.x.x\",\n+        \"lab-event-reporter\": \"1.x.x\",\n+        \"semver\": \"7.x.x\",\n+        \"tsconfig-paths\": \"^4.0.0\",\n+        \"typescript\": \"^4.5.4\",\n+        \"typescript-eslint\": \"^8.1.0\"\n+    },\n+    \"bin\": {\n+        \"lab\": \"./bin/lab\"\n+    },\n+    \"scripts\": {\n+        \"test\": \"node ./bin/_lab -f -L -t 100 -m 10000 --types-test test/index.ts\",\n+        \"test-cov-html\": \"node ./bin/_lab -f -L -r html -m 10000 -o coverage.html\"\n",
					"match": false,
					"packageHash": "6f0be0c2fb58baef08788b28d2087958ed175ab69604aa3afbdfafcf5f870059",
					"size": 671,
					"sourceHash": "58854502c44e68a605298cc28d725f7599db38d3de93a98144bd6a28f248b714",
					"status": "content"
				},
				"test/index.js": {
					"match": false,
					"packageHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
					"size": 0,
					"status": "missing-in-source"
				},
				"LICENSE.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/cli.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/index.d.ts": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/linter/.eslintrc.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/linter/index.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/coverage.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/index.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/leaks.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/lint.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/transform.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/types.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/modules/typescript.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/clover/report.xml": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/clover.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/console.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/cov.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/css.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/file.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/line.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/lint-file.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/lint.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/linting.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/menu.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/scripts.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/partials/tests.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html/report.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/html.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/index.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/json.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/junit/report.xml": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/junit.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/lcov.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/multiple.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/reporters/tap.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/runner.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/source-map.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 0,
				"missingInPackage": 37,
				"missingInSource": 12,
				"score": 0,
				"totalFiles": 53
			}
		}
	}
]
