[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2025-12-30T23:02:30.583Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "gulp-concat@1.1.0",
			"name": "gulp-concat",
			"version": "1.1.0",
			"location": "https://registry.npmjs.org/gulp-concat/-/gulp-concat-1.1.0.tgz",
			"integrity": "sha512-2laekSRLi07bP9bc5508j2qcpMo26RcjvqR08jqLeHxkDIicwVyrGhchQFBQvZAHbwhQmcRtNphs1mmOFtN/NQ==",
			"publishedAt": "2013-11-27T00:39:37.355Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.14"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/wearefractal/gulp-concat.git",
			"spec": "github:wearefractal/gulp-concat#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "9b5fc0102a30c8a3941cd5837f3f7af34439e2c50b6e5666d1225d79d112c858",
					"size": 52,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"packageHash": "8629c97f3618adfcaeaafa1469eb4df5955aa6495ba88ce642f6a0b6b9dc5677",
					"size": 67,
					"status": "missing-in-source"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,4 +1,4 @@\n-Copyright (c) 2013 Fractal <contact@wearefractal.com>\n+Copyright (c) 2016 Contra <yo@contra.io>\n \n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the\n",
					"match": false,
					"packageHash": "311dfa9b74d6cf31cc69e2cbe4e3249a334734709ad4555c3f6c2dceeecf773d",
					"size": 1078,
					"sourceHash": "613ceb418b15a13c764697d25868f3b4781f4c9c5e22b7fe21e7c36100b721e9",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,9 +1,15 @@\n-![status](https://secure.travis-ci.org/wearefractal/gulp-concat.png?branch=master)\n+![status](https://secure.travis-ci.org/contra/gulp-concat.svg?branch=master)\n+\n+## Installation\n+\n+Install package with NPM and add it to your development dependencies:\n+\n+`npm install --save-dev gulp-concat`\n \n ## Information\n \n <table>\n-<tr> \n+<tr>\n <td>Package</td><td>gulp-concat</td>\n </tr>\n <tr>\n@@ -12,43 +18,72 @@\n </tr>\n <tr>\n <td>Node Version</td>\n-<td>>= 0.4</td>\n+<td>>= 0.10</td>\n </tr>\n </table>\n \n ## Usage\n \n-```javascript\n+```js\n+var concat = require('gulp-concat');\n+\n+gulp.task('scripts', function() {\n+  return gulp.src('./lib/*.js')\n+    .pipe(concat('all.js'))\n+    .pipe(gulp.dest('./dist/'));\n+});\n+```\n+\n+This will concat files by your operating system's newLine. It will take the base directory from the first file that passes through it.\n+\n+Files will be concatenated in the order that they are specified in the `gulp.src` function. For example, to concat `./lib/file3.js`, `./lib/file1.js` and `./lib/file2.js` in that order, the following code will create a task to do that:\n+\n+```js\n var concat = require('gulp-concat');\n \n gulp.task('scripts', function() {\n-  gulp.files('./lib/*.js')\n-    .pipe(concat(\"all.js\"))\n-    .pipe(gulp.folder('./dist/'))\n+  return gulp.src(['./lib/file3.js', './lib/file1.js', './lib/file2.js'])\n+    .pipe(concat('all.js'))\n+    .pipe(gulp.dest('./dist/'));\n });\n ```\n \n-## LICENSE\n+To change the newLine simply pass an object as the second argument to concat with newLine being whatever (`\\r\\n` if you want to support any OS to look at it)\n+\n+For instance:\n \n-(MIT License)\n+```js\n+.pipe(concat('main.js', {newLine: ';'}))\n+```\n \n-Copyright (c) 2013 Fractal <contact@wearefractal.com>\n+To specify `cwd`, `path` and other [vinyl](https://github.com/wearefractal/vinyl) properties, gulp-concat accepts `Object` as first argument:\n \n-Permission is hereby granted, free of charge, to any person obtaining\n-a copy of this software and associated documentation files (the\n-\"Software\"), to deal in the Software without restriction, including\n-without limitation the rights to use, copy, modify, merge, publish,\n-distribute, sublicense, and/or sell copies of the Software, and to\n-permit persons to whom the Software is furnished to do so, subject to\n-the following conditions:\n-\n-The above copyright notice and this permission notice shall be\n-included in all copies or substantial portions of the Software.\n-\n-THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n-EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n-MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n-NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n-LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n-OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n-WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n+```js\n+var concat = require('gulp-concat');\n+\n+gulp.task('scripts', function() {\n+  return gulp.src(['./lib/file3.js', './lib/file1.js', './lib/file2.js'])\n+    .pipe(concat({ path: 'new.js', stat: { mode: 0666 }}))\n+    .pipe(gulp.dest('./dist'));\n+});\n+```\n+\n",
					"match": false,
					"packageHash": "27a75133248de0c034628533be0aafd904b418263d6194bf40f0a1e2e3a13117",
					"size": 1575,
					"sourceHash": "52f7fc7f8bdb9befdb2469e320e99731804c21fa6e345538bec04cf80d83c12b",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,33 +1,101 @@\n-var es = require('event-stream'),\n-  path = require('path');\n+'use strict';\n \n-module.exports = function(fileName){\n-  if (!fileName) throw new Error(\"Missing fileName option for gulp-concat\");\n+var through = require('through2');\n+var path = require('path');\n+var File = require('vinyl');\n+var Concat = require('concat-with-sourcemaps');\n+\n+// file can be a vinyl file object or a string\n+// when a string it will construct a new one\n+module.exports = function(file, opt) {\n+  if (!file) {\n+    throw new Error('gulp-concat: Missing file option');\n+  }\n+  opt = opt || {};\n+\n+  // to preserve existing |undefined| behaviour and to introduce |newLine: \"\"| for binaries\n+  if (typeof opt.newLine !== 'string') {\n+    opt.newLine = '\\n';\n+  }\n \n-  var buffer = [];\n-  function bufferContents(file){\n-    // clone the file so we arent mutating stuff\n-    buffer.push(file);\n+  var isUsingSourceMaps = false;\n+  var latestFile;\n+  var latestMod;\n+  var fileName;\n+  var concat;\n+\n+  if (typeof file === 'string') {\n+    fileName = file;\n+  } else if (typeof file.path === 'string') {\n+    fileName = path.basename(file.path);\n+  } else {\n+    throw new Error('gulp-concat: Missing path in file options');\n   }\n \n-  function endStream(){\n-    if (buffer.length === 0) return this.emit('end');\n+  function bufferContents(file, enc, cb) {\n+    // ignore empty files\n+    if (file.isNull()) {\n+      cb();\n+      return;\n+    }\n+\n+    // we don't do streams (yet)\n+    if (file.isStream()) {\n+      this.emit('error', new Error('gulp-concat: Streaming not supported'));\n+      cb();\n+      return;\n+    }\n+\n+    // enable sourcemap support for concat\n+    // if a sourcemap initialized file comes in\n+    if (file.sourceMap && isUsingSourceMaps === false) {\n+      isUsingSourceMaps = true;\n+    }\n+\n+    // set latest file if not already set,\n+    // or if the current file was modified more recently.\n+    if (!latestMod || file.stat && file.stat.mtime > latestMod) {\n+      latestFile = file;\n+      latestMod = file.stat && file.stat.mtime;\n+    }\n+\n+    // construct concat instance\n+    if (!concat) {\n+      concat = new Concat(isUsingSourceMaps, fileName, opt.newLine);\n+    }\n+\n+    // add file to concat instance\n+    concat.add(file.relative, file.contents, file.sourceMap);\n+    cb();\n+  }\n \n-    var joinedContents = buffer.map(function(file){\n-      return file.contents;\n-    }).join('');\n-\n-    var joinedPath = path.join(path.dirname(buffer[0].path), fileName);\n-\n-    var joinedFile = {\n-      shortened: fileName,\n-      path: joinedPath,\n-      contents: joinedContents\n-    };\n+  function endStream(cb) {\n+    // no files passed in, no file goes out\n+    if (!latestFile || !concat) {\n+      cb();\n+      return;\n",
					"match": false,
					"packageHash": "428df14c7d3949da8b0d1e0be9c8a3d85a07aa1abe4442112b676b4f8b883030",
					"size": 781,
					"sourceHash": "b6321760991f4fa93f357cd0931c00e6b486c95ee2ef514415b20536d6ce3313",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,30 +1,36 @@\n {\n-   \"name\":\"gulp-concat\",\n-   \"description\":\"Concatenates files\",\n-   \"version\":\"1.1.0\",\n-   \"homepage\":\"http://github.com/wearefractal/gulp-concat\",\n-   \"repository\":\"git://github.com/wearefractal/gulp-concat.git\",\n-   \"author\":\"Fractal <contact@wearefractal.com> (http://wearefractal.com/)\",\n-   \"main\":\"./index.js\",\n-   \"keywords\":[\"gulpplugin\"],\n-\n-   \"dependencies\":{\n-      \"event-stream\":\"*\"\n-   },\n-   \"devDependencies\":{\n-      \"mocha\":\"*\",\n-      \"should\":\"*\"\n-   },\n-   \"scripts\":{\n-      \"test\":\"mocha\"\n-   },\n-   \"engines\":{\n-      \"node\":\">= 0.4.0\"\n-   },\n-   \"licenses\":[\n-      {\n-         \"type\":\"MIT\",\n-         \"url\":\"http://github.com/wearefractal/gulp-concat/raw/master/LICENSE\"\n-      }\n-   ]\n+  \"name\": \"gulp-concat\",\n+  \"description\": \"Concatenates files\",\n+  \"version\": \"2.6.1\",\n+  \"repository\": \"gulp-community/gulp-concat\",\n+  \"author\": \"Contra <yo@contra.io> (http://contra.io/)\",\n+  \"files\": [\n+    \"index.js\"\n+  ],\n+  \"keywords\": [\n+    \"gulpplugin\"\n+  ],\n+  \"dependencies\": {\n+    \"concat-with-sourcemaps\": \"^1.0.0\",\n+    \"through2\": \"^2.0.0\",\n+    \"vinyl\": \"^2.0.0\"\n+  },\n+  \"devDependencies\": {\n+    \"gulp\": \"^4.0.2\",\n+    \"gulp-sourcemaps\": \"^2.6.5\",\n+    \"istanbul\": \"^0.4.5\",\n+    \"mocha\": \"^3.0.0\",\n+    \"mocha-lcov-reporter\": \"^1.2.0\",\n+    \"should\": \"^11.0.0\",\n+    \"stream-array\": \"^1.0.1\",\n+    \"stream-assert\": \"^2.0.1\"\n+  },\n+  \"scripts\": {\n+    \"test\": \"mocha\",\n+    \"coverage\": \"istanbul cover _mocha\"\n+  },\n+  \"engines\": {\n+    \"node\": \">= 0.10\"\n+  },\n+  \"license\": \"MIT\"\n }\n",
					"match": false,
					"packageHash": "b0be16f874715272aaceef01e8f3dc720d9608d2f7f5545dc4a49fbbb7564506",
					"size": 691,
					"sourceHash": "ab453a95ecb8be56d4d0f16d7e920e0b1d50f47deeaf11ff42308a076bad2859",
					"status": "content"
				},
				"test/main.js": {
					"match": false,
					"packageHash": "c670e3b07d38279be16050d389e1947fec0f8f1932cec3de9de4208d3885aae7",
					"size": 1021,
					"status": "missing-in-source"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 0,
				"missingInPackage": 0,
				"missingInSource": 3,
				"score": 0,
				"totalFiles": 7
			}
		}
	}
]
