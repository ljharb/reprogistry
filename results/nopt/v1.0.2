[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-06T18:32:43.342Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "nopt@1.0.2",
			"name": "nopt",
			"version": "1.0.2",
			"location": "https://registry.npmjs.org/nopt/-/nopt-1.0.2.tgz",
			"integrity": "sha512-df/jPsj3IzBEpTJ5m30R6hjsYhlHytYK2rZqTqFcMIf0V4hkMp8H2++8nQ1GeG45osen1UtM0dXjQPbGPGDMyg==",
			"publishedAt": "2011-03-31T01:07:58.593Z",
			"publishedWith": {
				"node": "v0.5.0-pre",
				"npm": "1.0.1rc3"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/isaacs/nopt.git",
			"spec": "github:isaacs/nopt#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".gitignore": {
					"match": false,
					"packageHash": "16d30e4462189fb14dd611bdb708c510630c576a1f35b9383e89a4352da36c97",
					"size": 13,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -5,9 +5,10 @@\n that.\n \n The Right Way is to write some complex configurable program with so many\n-options that you go half-insane just trying to manage them all, and put\n-it off with duct-tape solutions until you see exactly to the core of the\n-problem, and finally snap and write an awesome option parser.\n+options that you hit the limit of your frustration just trying to\n+manage them all, and defer it with duct-tape solutions until you see\n+exactly to the core of the problem, and finally snap and write an\n+awesome option parser.\n \n If you want to write an option parser, don't write an option parser.\n Write a package manager, or a source control system, or a service\n@@ -18,58 +19,74 @@\n \n ## USAGE\n \n-    // my-program.js\n-    var nopt = require(\"nopt\")\n-      , Stream = require(\"stream\").Stream\n-      , path = require(\"path\")\n-      , knownOpts = { \"foo\" : [String, null]\n-                    , \"bar\" : [Stream, Number]\n-                    , \"baz\" : path\n-                    , \"bloo\" : [ \"big\", \"medium\", \"small\" ]\n-                    , \"flag\" : Boolean\n-                    , \"pick\" : Boolean\n-                    }\n-      , shortHands = { \"foofoo\" : [\"--foo\", \"Mr. Foo\"]\n-                     , \"b7\" : [\"--bar\", \"7\"]\n-                     , \"m\" : [\"--bloo\", \"medium\"]\n-                     , \"p\" : [\"--pick\"]\n-                     , \"f\" : [\"--flag\"]\n-                     }\n-                 // everything is optional.\n-                 // knownOpts and shorthands default to {}\n-                 // arg list defaults to process.argv\n-                 // slice defaults to 2\n-      , parsed = nopt(knownOpts, shortHands, process.argv, 2)\n-    console.log(parsed)\n+```javascript\n+// my-program.js\n+var nopt = require(\"nopt\")\n+  , Stream = require(\"stream\").Stream\n+  , path = require(\"path\")\n+  , knownOpts = { \"foo\" : [String, null]\n+                , \"bar\" : [Stream, Number]\n+                , \"baz\" : path\n+                , \"bloo\" : [ \"big\", \"medium\", \"small\" ]\n+                , \"flag\" : Boolean\n+                , \"pick\" : Boolean\n+                , \"many1\" : [String, Array]\n+                , \"many2\" : [path, Array]\n+                }\n+  , shortHands = { \"foofoo\" : [\"--foo\", \"Mr. Foo\"]\n+                 , \"b7\" : [\"--bar\", \"7\"]\n+                 , \"m\" : [\"--bloo\", \"medium\"]\n+                 , \"p\" : [\"--pick\"]\n+                 , \"f\" : [\"--flag\"]\n+                 }\n+             // everything is optional.\n+             // knownOpts and shorthands default to {}\n+             // arg list defaults to process.argv\n+             // slice defaults to 2\n+  , parsed = nopt(knownOpts, shortHands, process.argv, 2)\n+console.log(parsed)\n+```\n \n This would give you support for any of the following:\n \n-    $ node my-program.js --foo \"blerp\" --no-flag\n-    { \"foo\" : \"blerp\", \"flag\" : false }\n+```console\n+$ node my-program.js --foo \"blerp\" --no-flag\n+{ \"foo\" : \"blerp\", \"flag\" : false }\n \n-    $ node my-program.js ---bar 7 --foo \"Mr. Hand\" --flag\n-    { bar: 7, foo: \"Mr. Hand\", flag: true }\n+$ node my-program.js ---bar 7 --foo \"Mr. Hand\" --flag\n+{ bar: 7, foo: \"Mr. Hand\", flag: true }\n \n-    $ node my-program.js --foo \"blerp\" -f -----p\n-    { foo: \"blerp\", flag: true, pick: true }\n+$ node my-program.js --foo \"blerp\" -f -----p\n+{ foo: \"blerp\", flag: true, pick: true }\n \n-    $ node my-program.js -fp --foofoo\n-    { foo: \"Mr. Foo\", flag: true, pick: true }\n+$ node my-program.js -fp --foofoo\n+{ foo: \"Mr. Foo\", flag: true, pick: true }\n \n-    $ node my-program.js --foofoo -- -fp  # -- stops the flag parsing.\n-    { foo: \"Mr. Foo\", argv: { remain: [\"-fp\"] } }\n+$ node my-program.js --foofoo -- -fp  # -- stops the flag parsing.\n+{ foo: \"Mr. Foo\", argv: { remain: [\"-fp\"] } }\n \n-    $ node my-program.js --blatzk 1000 -fp # unknown opts are ok.\n",
					"match": false,
					"packageHash": "5c5dfa2533796119fb90c5338bcbee59f14bcd6fa4a042fb437a220b8376c6ee",
					"size": 6857,
					"sourceHash": "f23a4ae4ba5f494cf303c55db67aa6d45ac72f47ac44f6faea8a7cdb36150b4d",
					"status": "content"
				},
				"examples/my-program.js": {
					"match": false,
					"packageHash": "ec1632d9494b9221ca907298c5e630ee497fb6cf31a0b9fb4bccadb275b2044d",
					"size": 954,
					"status": "missing-in-source"
				},
				"lib/nopt.js": {
					"diff": "--- published/lib/nopt.js\n+++ rebuilt/lib/nopt.js\n@@ -1,395 +1,34 @@\n-// info about each config option.\n+const lib = require('./nopt-lib')\n+const defaultTypeDefs = require('./type-defs')\n \n-var debug = process.env.DEBUG_NOPT\n-  ? function () { console.error.apply(console, arguments) }\n-  : function () {}\n-\n-var url = require(\"url\")\n-  , path = require(\"path\")\n-  , Stream = require(\"stream\").Stream\n-  , abbrev = require(\"abbrev\")\n+// This is the version of nopt's API that requires setting typeDefs and invalidHandler\n+// on the required `nopt` object since it is a singleton. To not do a breaking change\n+// an API that requires all options be passed in is located in `nopt-lib.js` and\n+// exported here as lib.\n+// TODO(breaking): make API only work in non-singleton mode\n \n module.exports = exports = nopt\n exports.clean = clean\n+exports.typeDefs = defaultTypeDefs\n+exports.lib = lib\n \n-exports.typeDefs =\n-  { String  : { type: String,  validate: validateString  }\n-  , Boolean : { type: Boolean, validate: validateBoolean }\n-  , url     : { type: url,     validate: validateUrl     }\n-  , Number  : { type: Number,  validate: validateNumber  }\n-  , path    : { type: path,    validate: validatePath    }\n-  , Stream  : { type: Stream,  validate: validateStream  }\n-  }\n-\n-function nopt (types, shorthands, args, slice) {\n-  args = args || process.argv\n-  types = types || {}\n-  shorthands = shorthands || {}\n-  if (typeof slice !== \"number\") slice = 2\n-\n-  debug(types, shorthands, args, slice)\n-\n-  args = args.slice(slice)\n-  var data = {}\n-    , key\n-    , remain = []\n-    , cooked = args\n-    , original = args.slice(0)\n-\n-  parse(args, data, remain, types, shorthands)\n-  // now data is full\n-  clean(data, types, exports.typeDefs)\n-  data.argv = {remain:remain,cooked:cooked,original:original}\n-  data.argv.toString = function () {\n-    return this.remain.map(JSON.stringify).join(\" \")\n-  }\n-  return data\n-}\n-\n-function clean (data, types, typeDefs) {\n-  typeDefs = typeDefs || exports.typeDefs\n-  Object.keys(data).forEach(function (k) {\n-    var val = data[k]\n-    // if it's an unknown value, then parse false/true/null/numbers\n-    if (typeof val === \"string\") {\n-      val = val.trim()\n-      if (val === \"null\" || val === \"true\" || val === \"false\") {\n-        val = JSON.parse(val)\n-      } else if (!isNaN(val)) {\n-        val = +val\n-      }\n-    }\n-    if (!types.hasOwnProperty(k)) {\n-      data[k] = val\n-      return\n-    }\n-    if (!validate(data, k, val, types[k], typeDefs)) {\n-      if (exports.invalidHandler) {\n-        exports.invalidHandler(k, val, types[k], data)\n-      } else if (exports.invalidHandler !== false) {\n-        debug(\"invalid: \"+k+\"=\"+val, types[k])\n-      }\n-    }\n+function nopt (types, shorthands, args = process.argv, slice = 2) {\n+  return lib.nopt(args.slice(slice), {\n+    types: types || {},\n+    shorthands: shorthands || {},\n+    typeDefs: exports.typeDefs,\n+    invalidHandler: exports.invalidHandler,\n+    unknownHandler: exports.unknownHandler,\n+    abbrevHandler: exports.abbrevHandler,\n   })\n }\n \n-function validateString (data, k, val) {\n-  data[k] = String(val)\n-}\n-\n-function validatePath (data, k, val) {\n",
					"match": false,
					"packageHash": "b7130ffa346fcbe31da6367ff267afc4abf3c92b084a855c7962eee9d64f3c41",
					"size": 11071,
					"sourceHash": "0cd507599b0b67afaaf6aa1019dfb2ea9dc958efd1d79f5e74cd997205d65469",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,8 +1,49 @@\n-{ \"name\" : \"nopt\"\n-, \"version\" : \"1.0.2\"\n-, \"description\" : \"Option parsing for Node, supporting types, shorthands, etc. Used by npm.\"\n-, \"author\" : \"Isaac Z. Schlueter <i@izs.me> (http://blog.izs.me/)\"\n-, \"main\" : \"lib/nopt.js\"\n-, \"scripts\" : { \"test\" : \"node lib/nopt.js\" }\n-, \"repository\" : \"http://github.com/isaacs/nopt\"\n-, \"dependencies\" : { \"abbrev\" : \"1\" }}\n+{\n+  \"name\": \"nopt\",\n+  \"version\": \"9.0.0\",\n+  \"description\": \"Option parsing for Node, supporting types, shorthands, etc. Used by npm.\",\n+  \"author\": \"GitHub Inc.\",\n+  \"main\": \"lib/nopt.js\",\n+  \"scripts\": {\n+    \"test\": \"node --test './test/**/*.js'\",\n+    \"lint\": \"npm run eslint\",\n+    \"postlint\": \"template-oss-check\",\n+    \"template-oss-apply\": \"template-oss-apply --force\",\n+    \"lintfix\": \"npm run eslint -- --fix\",\n+    \"snap\": \"node --test --test-update-snapshots './test/**/*.js'\",\n+    \"posttest\": \"npm run lint\",\n+    \"eslint\": \"eslint \\\"**/*.{js,cjs,ts,mjs,jsx,tsx}\\\"\",\n+    \"test:node20\": \"node --test test\",\n+    \"test:cover\": \"node --test --experimental-test-coverage --test-timeout=3000 --test-coverage-lines=100 --test-coverage-functions=100 --test-coverage-branches=100 './test/**/*.js'\"\n+  },\n+  \"repository\": {\n+    \"type\": \"git\",\n+    \"url\": \"git+https://github.com/npm/nopt.git\"\n+  },\n+  \"bin\": {\n+    \"nopt\": \"bin/nopt.js\"\n+  },\n+  \"license\": \"ISC\",\n+  \"dependencies\": {\n+    \"abbrev\": \"^4.0.0\"\n+  },\n+  \"devDependencies\": {\n+    \"@npmcli/eslint-config\": \"^6.0.0\",\n+    \"@npmcli/template-oss\": \"4.28.1\"\n+  },\n+  \"files\": [\n+    \"bin/\",\n+    \"lib/\"\n+  ],\n+  \"engines\": {\n+    \"node\": \"^20.17.0 || >=22.9.0\"\n+  },\n+  \"templateOSS\": {\n+    \"//@npmcli/template-oss\": \"This file is partially managed by @npmcli/template-oss. Edits may be overwritten.\",\n+    \"windowsCI\": false,\n+    \"version\": \"4.28.1\",\n+    \"publish\": true,\n+    \"testRunner\": \"node:test\",\n+    \"latestCiVersion\": 24\n+  }\n+}\n",
					"match": false,
					"packageHash": "29aab36c7ce692f57a96d73c5891f2d9622d4c41caf7b818ede65cedcfcc0b9e",
					"size": 359,
					"sourceHash": "adebdcef1f4eb07ae4de5573e64f4d6412d933a8f22b1ec217cf18ac17ace056",
					"status": "content"
				},
				"LICENSE": {
					"match": false,
					"status": "missing-in-package"
				},
				"bin/nopt.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/debug.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/nopt-lib.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/type-defs.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 0,
				"missingInPackage": 5,
				"missingInSource": 2,
				"score": 0,
				"totalFiles": 10
			}
		}
	}
]
