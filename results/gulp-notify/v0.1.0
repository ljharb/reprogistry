[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-03T07:24:22.221Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "gulp-notify@0.1.0",
			"name": "gulp-notify",
			"version": "0.1.0",
			"location": "https://registry.npmjs.org/gulp-notify/-/gulp-notify-0.1.0.tgz",
			"integrity": "sha512-Lm8Bd7ih81DIg3Rw/+kig6h9N0Z4AS4HLaDSBKf0m/UcpQbgPL88/jLzQt4GOiQwDXhUd7i2vQRivaVl0YChBQ==",
			"publishedAt": "2014-01-11T14:52:08.312Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.11"
			}
		},
		"source": {
			"integrity": "sha512-7ib3qN7lbEbrOjH9zU6Uh2RLrTBEGlSWWXqStSAGG6TwYC2WFur180iDR8LZv106gW4/b3PY+kW4DQaJkD/vpA==",
			"location": "git://github.com/mikaelbr/gulp-notify.git",
			"spec": "github:mikaelbr/gulp-notify#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".editorconfig": {
					"diff": "--- published/.editorconfig\n+++ rebuilt/.editorconfig\n@@ -2,7 +2,7 @@\n root = true\n \n [*]\n-indent_style = spaces\n+indent_style = space\n indent_size = 2\n end_of_line = lf\n charset = utf-8\n",
					"match": false,
					"packageHash": "6877ed6b99956446f8c2426f46b74b3bf4fe693237ac12349652a4315ef0266c",
					"size": 296,
					"sourceHash": "28bf93167145c7c02963b8860b51d193f1d7a353c2ddab6d51b888268bb0cfa4",
					"status": "content"
				},
				".npmignore": {
					"match": false,
					"packageHash": "7a1caa8db41b0628652d5aea4647e7ea425f823dbc50704b52797a18d78bca05",
					"size": 30,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"diff": "--- published/.travis.yml\n+++ rebuilt/.travis.yml\n@@ -1,5 +1,5 @@\n language: node_js\n node_js:\n-  - \"0.11\"\n-  - \"0.10\"\n-  - \"0.8\"\n+  - \"14\"\n+  - \"12\"\n+  - \"10\"\n",
					"match": false,
					"packageHash": "b987d5141bd4783744acca836547b4b49b9087f7c424a10161bf68d357cb203e",
					"size": 59,
					"sourceHash": "87783aa024db67694fd21c68fcb1a16bbb7d500bfe287ace4de4da338bc0f8dd",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -5,10 +5,52 @@\n ## Information\n | Package       | gulp-notify  |\n | ------------- |--------------|\n-| Description   | Send messages to Mac Notification center using the [node-notifier](https://github.com/mikaelbr/node-notifier) module. Can also specify custom notifier (e.g. Growl notification). |\n-| Node Version  | >= 0.8      |\n+| Description   | Send messages to Mac Notification Center, Linux notifications (using `notify-send`) or Windows >= 8 (using native toaster) or Growl as fallback, using the [node-notifier](https://github.com/mikaelbr/node-notifier) module. Can also [specify custom notifier](#notifywithreporterfunction). |\n+| Node Version  | >= 0.8       |\n+\n+## Table of Contents\n+\n+<!-- toc -->\n+\n+* [Information](#information)\n+* [Requirements](#requirements)\n+* [Usage](#usage)\n+* [Notes/tip](#notestip)\n+* [API](#api)\n+  * [notify(String)](#notifystring)\n+  * [notify(Function)](#notifyfunction)\n+  * [notify(options)](#notifyoptions)\n+    * [options.onLast](#optionsonlast)\n+    * [options.emitError](#optionsemiterror)\n+    * [options.message](#optionsmessage)\n+    * [options.title](#optionstitle)\n+    * [options.templateOptions](#optionstemplateoptions)\n+    * [options.notifier](#optionsnotifier)\n+  * [notify.withReporter(Function)](#notifywithreporterfunction)\n+  * [notify.onError()](#notifyonerror)\n+  * [notify.logLevel(level)](#notifyloglevellevel)\n+* [Disable `gulp-notify`](#disable-gulp-notify)\n+* [Examples](#examples)\n+  * [As jshint reporter](#as-jshint-reporter)\n+* [License](#license)\n+\n+<!-- toc stop -->\n+\n+\n+\n+## Requirements\n+* **Mac OS X**: No external installation needed (if Mac OS X 10.8 or higher).\n+* **Linux**: `notify-send`/`notify-osd` should be installed (On Ubuntu this is installed per default)\n+* **Windows**: Uses native toaster (if Windows 8 or higher).\n+* **Fallback: Growl**: Growl (for Mac, Windows or similar) should be installed.\n+\n+See [node-notifier](https://github.com/mikaelbr/node-notifier) for details.\n+\n+**Windows 10 Note:** You might have to activate banner notification for the toast to show.\n+\n+From [#90 (comment)](https://github.com/mikaelbr/gulp-notify/issues/90#issuecomment-129333034)\n+> You can make it work by going to System > Notifications & Actions. The 'toast' app needs to have Banners enabled. (You can activate banners by clicking on the 'toast' app and setting the 'Show notification banners' to On)\n \n-**Note: Without overriding the notifier, Mac OS X >= 10.8 is required for this to run.**\n \n ## Usage\n \n@@ -24,9 +66,38 @@\n \n var notify = require(\"gulp-notify\");\n gulp.src(\"./src/test.ext\")\n-  .pipe(notify({\n-    message: \"Hello Gulp!\"\n-  }));\n+  .pipe(notify(\"Hello Gulp!\"));\n+```\n+\n+Or with template\n+\n+\n+```javascript\n+\n+var notify = require(\"gulp-notify\");\n+gulp.src(\"./src/test.ext\")\n+  .pipe(notify(\"Found file: <%= file.relative %>!\"));\n+```\n+\n+See [examples](examples/gulpfile.js) for more or the [API](#api) section for various inputs.\n+\n+## Notes/tip\n+\n+`gulp-notify` passes on the `vinyl files` even on error. So if you are\n+using [`gulp-plumber`](https://github.com/floatdrop/gulp-plumber) the run\n+will not break if the notifier returns an error.\n+\n+If you want to notify on errors [`gulp-plumber`](https://github.com/floatdrop/gulp-plumber)\n+can be used to not break the run and force you to have to restart gulp.\n+\n+You can use [notify.onError()](#notifyonerror) as the errorHandler for gulp-plumber like this:\n+\n+```javascript\n+gulp.src(\"../test/fixtures/*\")\n+      .pipe(plumber({errorHandler: notify.onError(\"Error: <%= error.message %>\")}))\n+      .pipe(through(function () {\n+        this.emit(\"error\", new Error(\"Something happend: Error message!\"))\n+      }));\n ```\n \n ## API\n",
					"match": false,
					"packageHash": "495981d0298782b28d278d983bed9a24b8276957e0f57b7b572e64a20d04055c",
					"size": 2270,
					"sourceHash": "a49475a9f6d921df82f3e1845d7f192ae0867039ae40d1dda53c5827a8045365",
					"status": "content"
				},
				"examples/gulpfile.js": {
					"diff": "--- published/examples/gulpfile.js\n+++ rebuilt/examples/gulpfile.js\n@@ -1,6 +1,10 @@\n \n var gulp = require('gulp');\n var notify = require('../');\n+var through = require('through2');\n+var path = require('path');\n+var plumber = require('gulp-plumber');\n+var nn = require('node-notifier');\n \n gulp.task(\"multiple\", function () {\n   gulp.src(\"../test/fixtures/*\")\n@@ -8,28 +12,139 @@\n });\n \n gulp.task(\"one\", function () {\n-  gulp.src(\"../test/fixtures/1.txt\")\n+  return gulp.src(\"../test/fixtures/1.txt\")\n       .pipe(notify());\n });\n \n+notify.on('click', function (options) {\n+  console.log('I clicked something!', options);\n+});\n+\n+gulp.task(\"click\", function () {\n+  // Click event only makes sense if wait is true...\n+  return gulp.src(\"../test/fixtures/1.txt\")\n+      .pipe(notify({ message: 'Hello 1', wait: true }));\n+});\n+\n gulp.task(\"message\", function () {\n-  gulp.src(\"../test/fixtures/1.txt\")\n+  return gulp.src(\"../test/fixtures/1.txt\")\n       .pipe(notify(\"This is a message.\"));\n });\n \n+\n+gulp.task(\"customReporter\", function () {\n+  var custom = notify.withReporter(function (options, callback) {\n+    console.log(\"Title:\", options.title);\n+    console.log(\"Message:\", options.message);\n+    callback();\n+  });\n+\n+  return gulp.src(\"../test/fixtures/1.txt\")\n+      .pipe(custom(\"This is a message.\"));\n+});\n+\n+gulp.task(\"template\", function () {\n+  return gulp.src(\"../test/fixtures/1.txt\")\n+      .pipe(notify(\"Template: <%= file.relative %>\"));\n+});\n+\n+\n+gulp.task(\"templateadv\", function () {\n+  return gulp.src(\"../test/fixtures/1.txt\")\n+      .pipe(notify({\n+        message: \"Template: <%= file.relative %>\",\n+        title: function (file) {\n+          if(file.isNull()) {\n+            return \"Folder:\";\n+          }\n+          return \"File: <%= file.relative %> <%= options.extra %>\";\n+        },\n+        templateOptions: {\n+          extra: \"foo\"\n+        }\n+      }));\n+});\n+\n gulp.task(\"function\", function () {\n-  gulp.src(\"../test/fixtures/1.txt\")\n+  return gulp.src(\"../test/fixtures/1.txt\")\n       .pipe(notify(function(file) {\n           return \"Some file: \" + file.relative;\n       }));\n });\n \n+gulp.task(\"advanced\", function () {\n+  return gulp.src(\"../test/fixtures/*\")\n+      .pipe(notify({\n+        \"title\": \"Open Github\",\n+        \"subtitle\": \"Project web site\",\n+        \"message\": \"Click to open project site\",\n+        \"sound\": \"Frog\", // case sensitive\n+        \"icon\": path.join(__dirname, \"gulp.png\"), // case sensitive\n+        \"onLast\": true,\n+        \"wait\": true\n+      }));\n+});\n+\n+\n gulp.task(\"onlast\", function () {\n-  gulp.src(\"../test/fixtures/*\")\n+  return gulp.src(\"../test/fixtures/*\")\n       .pipe(notify({\n         onLast: true,\n         message: function(file) {\n",
					"match": false,
					"packageHash": "4f93e2e5d5674d872c63ee5a9a9921eeb6178f594b95a47d93dcc8f9203bd478",
					"size": 761,
					"sourceHash": "d09a1293e4e41843ab724fd7a6fc980c3ab4358391db8c8256c90eaa1bb2766a",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,95 +1,28 @@\n-var through = require(\"through\"),\n-    path = require(\"path\"),\n-    gutil = require(\"gulp-util\"),\n-    notifier = require(\"node-notifier\");\n-\n-module.exports = function (options) {\n-  \"use strict\";\n-\n-  options = options || {};\n-\n-  var reporter = options.notifier || notifier.notify;\n-  var lastFile = null;\n-\n-  function notify (file) {\n-    var stream = this;\n-    stream.pause();\n-\n-    report(file, function (err) {\n-      if (err) {\n-        stream.emit(\"error\", err);\n-      } else {\n-        stream.emit(\"data\", file);\n-      }\n-      stream.resume();\n-    });\n-  }\n-\n-  if (!options.onLast) {\n-    return through(notify);\n-  }\n-\n-  // Only send notification on the last file.\n-  return through(function (file) {\n-    lastFile = file;\n-    this.emit(\"data\", file)\n-  }, function () {\n-    var stream = this;\n-\n-    if (!lastFile) {\n-      return stream.emit(\"end\");\n-    }\n-\n-    report(lastFile, function (err, file) {\n-      if (err) stream.emit(\"error\", err);\n-    });\n-    lastFile = null; // reset\n-    stream.emit(\"end\");\n-  });\n-\n-  function report (file, callback) {\n-    var self = this;\n-    if (!reporter) return callback(new gutil.PluginError(\"gulp-notify\", \"No reporter specified.\"));\n-\n-    // Try/catch the only way to go to ensure catching all errors? Domains?\n-    try {\n-      reporter(constructOptions(options, file), function (err) {\n-        if (err) return callback(new gutil.PluginError(\"gulp-notify\", err));\n-        return callback();\n-      });\n-    } catch (err) {\n-      return callback(new gutil.PluginError(\"gulp-notify\", err));\n-    }\n-  }\n-\n-  function constructOptions (options, file) {\n-    var message = file.path, title = \"Gulp notification\";\n-\n-    if (typeof options === \"function\") {\n-      message = options(file);\n-    }\n-\n-    if (typeof options === \"object\") {\n-      if (typeof options.title === \"function\") {\n-        title = options.title(file);\n-      } else {\n-        title = options.title || title;\n-      }\n-\n-      if (typeof options.message === \"function\") {\n-        message = options.message(file);\n-      } else {\n-        message = options.message || message;\n-      }\n-    }\n-\n-    if (typeof options === \"string\") {\n-      message = options;\n-    }\n-\n-    return {\n-      title: title,\n-      message: message\n-    };\n-  }\n-};\n+var api = require('./lib/extra_api');\n+var through = require('through2');\n",
					"match": false,
					"packageHash": "34c2226a5b5096487530ad98950ec243c364d6e4e10ca747b78844402fbf7711",
					"size": 2200,
					"sourceHash": "2fedd164abcde93400833b3dda4680d436ce842c7917529f290fc1dee4801c43",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,13 +1,18 @@\n {\n   \"name\": \"gulp-notify\",\n-  \"version\": \"0.1.0\",\n-  \"description\": \"A plugin for Gulp to send messages to Mac Notification Center\",\n+  \"version\": \"5.0.0\",\n+  \"description\": \"gulp plugin to send messages based on Vinyl Files or Errors to Mac OS X, Linux or Windows using the node-notifier module. Fallbacks to Growl or simply logging\",\n   \"keywords\": [\n     \"gulpplugin\",\n     \"notify\",\n     \"gulp\",\n     \"notification\",\n-    \"reporter\"\n+    \"reporter\",\n+    \"windows notification\",\n+    \"mac notification\",\n+    \"notify-send\",\n+    \"notify-osd\",\n+    \"growl\"\n   ],\n   \"homepage\": \"https://github.com/mikaelbr/gulp-notify\",\n   \"bugs\": \"https://github.com/mikaelbr/gulp-notify/issues\",\n@@ -22,25 +27,27 @@\n     \"url\": \"git://github.com/mikaelbr/gulp-notify.git\"\n   },\n   \"scripts\": {\n-    \"test\": \"mocha -R spec\"\n+    \"test\": \"mocha -R spec\",\n+    \"gulp\": \"gulp --gulpfile ./examples/gulpfile.js\"\n   },\n   \"dependencies\": {\n-    \"gulp-util\": \">=2.2.9\",\n-    \"node-notifier\": \">=1.0.0-beta2\",\n-    \"through\": \">=2.3.4\"\n+    \"ansi-colors\": \"^4.1.3\",\n+    \"fancy-log\": \"^2.0.0\",\n+    \"lodash\": \"^4.17.21\",\n+    \"node-notifier\": \"^10.0.1\",\n+    \"node.extend\": \"^2.0.3\",\n+    \"plugin-error\": \"^2.0.1\",\n+    \"through2\": \"^4.0.2\"\n   },\n   \"devDependencies\": {\n-    \"mocha\": \"~1.14.0\",\n-    \"should\": \"~2.1.0\",\n-    \"gulp\": \"~3.2.2\"\n+    \"gulp\": \"^4.0.2\",\n+    \"gulp-plumber\": \"^1.2.1\",\n+    \"mocha\": \"^10.7.3\",\n+    \"should\": \"^13.2.3\",\n+    \"vinyl\": \"^3.0.0\"\n   },\n   \"engines\": {\n-    \"node\": \">=0.8.0\",\n-    \"npm\": \">=1.2.10\"\n+    \"node\": \">=18.0.0\"\n   },\n-  \"licenses\": [\n-    {\n-      \"type\": \"MIT\"\n-    }\n-  ]\n+  \"license\": \"MIT\"\n }\n",
					"match": false,
					"packageHash": "bae7076c9da86029423dca115bb918e9d9eba5ad394faa5c548e548fbc1f895b",
					"size": 974,
					"sourceHash": "a539a865cadcdb298003a724191d6c132357cf9e5b459749cb9a80e4eae0387f",
					"status": "content"
				},
				"test/main.js": {
					"diff": "--- published/test/main.js\n+++ rebuilt/test/main.js\n@@ -3,8 +3,12 @@\n \n var gulp = require('gulp'),\n     should = require('should'),\n-    through = require('through'),\n+    through = require('through2'),\n+    plumber = require('gulp-plumber'),\n+    PluginError = require('plugin-error'),\n+    Vinyl = require('vinyl'),\n     join = require('path').join,\n+    fs = require('fs'),\n     notify = require('../');\n \n var mockGenerator = function (tester) {\n@@ -15,7 +19,15 @@\n   };\n };\n \n+var originalLogger = notify.logger();\n+\n describe('gulp output stream', function() {\n+\n+  beforeEach(function () {\n+    notify.logLevel(0);\n+    notify.logger(originalLogger);\n+  });\n+\n   describe('notify()', function() {\n \n     it('should return a stream', function(done) {\n@@ -28,17 +40,86 @@\n       done();\n     });\n \n-    it('should call notifier with title and message', function(done) {\n-      var testString = \"this is a test\",\n-          instream = gulp.src(join(__dirname, \"./fixtures/*.txt\")),\n-          outstream = notify({\n+    it('should allow setting of own reporter', function(done) {\n+      var notifier = notify.withReporter(mockGenerator);\n+      var stream = notifier();\n+      should.exist(stream);\n+      should.exist(stream.on);\n+      should.exist(stream.pipe);\n+      done();\n+    });\n+\n+    it('should set message, title and have default icon of Gulp logo', function(done) {\n+      var testString = \"this is a test\";\n+      var expectedIcon = join(__dirname, '..', 'assets', 'gulp.png');\n+\n+      var expectedFile = new Vinyl({\n+        path: \"test/fixtures/1.txt\",\n+        cwd: \"test/\",\n+        base: \"test/fixtures/\",\n+        contents: fs.createReadStream(\"test/fixtures/1.txt\")\n+      });\n+\n+      var mockedNotify = notify.withReporter(mockGenerator(function (opts) {\n+        opts.should.have.property('title');\n+        opts.should.have.property('message');\n+        opts.should.have.property('icon');\n+        String(opts.icon).should.equal(expectedIcon);\n+        String(opts.message).should.equal(testString);\n+        done();\n+      }.bind(this)));\n+\n+      var outstream = mockedNotify({\n+            message: testString\n+          });\n+\n+      outstream.write(expectedFile);\n+    });\n+\n+    it('should be able to override default icon', function(done) {\n+      var testString = \"this is a test\";\n+      var expectedIcon = \"testIcon\";\n+\n+      var expectedFile = new Vinyl({\n+        path: \"test/fixtures/1.txt\",\n+        cwd: \"test/\",\n+        base: \"test/fixtures/\",\n+        contents: fs.createReadStream(\"test/fixtures/1.txt\")\n+      });\n+\n+      var mockedNotify = notify.withReporter(mockGenerator(function (opts) {\n+        opts.should.have.property('title');\n+        opts.should.have.property('message');\n+        opts.should.have.property('icon');\n+        String(opts.icon).should.equal(expectedIcon);\n+        String(opts.message).should.equal(testString);\n+        done();\n+      }.bind(this)));\n+\n+      var outstream = mockedNotify({\n             message: testString,\n-            notifier: mockGenerator(function (opts) {\n-              should.exist(opts);\n",
					"match": false,
					"packageHash": "0b2587889114244165ee672598e3f4d5f51a7111738943b6a797873b91e5f465",
					"size": 7063,
					"sourceHash": "4ee8e41521075002136269a254b5e6c96321720488139662727375fca8720f68",
					"status": "content"
				},
				".github/workflows/test.yml": {
					"match": false,
					"status": "missing-in-package"
				},
				"CHANGELOG.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"assets/gulp-error.png": {
					"match": false,
					"status": "missing-in-package"
				},
				"assets/gulp.png": {
					"match": false,
					"status": "missing-in-package"
				},
				"examples/gulp.png": {
					"match": false,
					"status": "missing-in-package"
				},
				"examples/jshint.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/extra_api.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/notify.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/report.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/withReporter.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 7,
				"matchingFiles": 6,
				"missingInPackage": 10,
				"missingInSource": 1,
				"score": 0.25,
				"totalFiles": 24
			}
		}
	}
]
