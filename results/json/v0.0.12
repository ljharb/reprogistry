[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-07T17:02:52.985Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "json@0.0.12",
			"name": "json",
			"version": "0.0.12",
			"location": "https://registry.npmjs.org/json/-/json-0.0.12.tgz",
			"integrity": "sha512-WCchIJFoDWCi+G7PmsVtvEHak8aWxRfp0zvoxE+GHQlPeuVbXGNeCvOCPLJx2RbufFmf6u8uFeyukn8vC8s5Pg==",
			"publishedAt": "2012-06-24T23:57:56.050Z",
			"publishedWith": {
				"node": "v0.4.11",
				"npm": "1.0.106"
			},
			"dependencies": {}
		},
		"source": {
			"integrity": "sha512-bfOmtWVFJyK+BBYzEVMXByWZOn7qqa6GauoetG6cPBGb422nmvIRGtoOY3XaMnlgE7yIYAWWNnTIVDf5xEbEUQ==",
			"location": "git://github.com/zpoley/json-command.git",
			"spec": "github:zpoley/json-command#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				"lib/jsonCommand.js": {
					"diff": "--- published/lib/jsonCommand.js\n+++ rebuilt/lib/jsonCommand.js\n@@ -14,6 +14,7 @@\n   this.keys = [];\n   this.transformedKeys = [];\n   this.uglyOutput = false;\n+  this.leadingComma = false;\n   this.inspectOutput = false;\n   this.headerPassthrough = false;\n   this.columnOutput = false;\n@@ -40,6 +41,7 @@\n   console.log(\"  -h                    print this help info and exit\\n\");\n   console.log(\"  -v (-V | --version)   print version number and exit\\n\");\n   console.log(\"  -u                    print ugly json output, each object on a single line\\n\");\n+  console.log(\"  -,                    print leading-comma diff-friendly output, one line per property\\n\");\n   console.log(\"  -d                    print debugging output including exception messages\\n\");\n   console.log(\"  -o object.path        specify the path to an array to be iterated on\\n\");\n   console.log(\"  new.key=old_key       move old_key to new.key in output object\\n\");\n@@ -78,10 +80,17 @@\n \n JSON.Command.prototype.stringify = function(obj) {\n   return( this.inspectOutput ? util.inspect(obj, false, Infinity, true)\n+        : this.leadingComma ? this.diffFriendly(obj)\n         : this.uglyOutput ? JSON.stringify(obj)\n         : JSON.stringify(obj, null, 2) );\n };\n \n+JSON.Command.prototype.diffFriendly = function(obj) {\n+  return JSON.stringify(obj, null, 2)\n+    .replace(/ ?([[{,])\\n ( *)(?: )/gm, '\\n$2$1 ') // trailing->leading ,-{-[s\n+    .replace(/(^|[[{,] ?)\\n */gm, '$1'); // cuddle brackets/braces/array items\n+};\n+\n JSON.Command.prototype.debug = function(msg) {\n   if (this.debugOn) { console.log(msg); }\n };\n@@ -129,6 +138,9 @@\n       case \"-u\": // pretty printing (turn off)\n         this.uglyOutput = true;\n         break;\n+      case \"-,\": // diff-friendlier output\n+        this.leadingComma = true;\n+        break;\n       case \"-c\": // conditional\n         this.conditionals.push(a.shift());\n         break;\n@@ -217,7 +229,7 @@\n     for(var i = 0; (i < this.transformedKeys.length); i++) {\n       try { \n         vm.runInNewContext(this.transformedKeys[i].newKey +\n-          \" = \" + this.transformedKeys[i].oldKey, parsedObject)\n+          \" = \" + this.transformedKeys[i].oldKey, parsedObject);\n       }\n       catch (ex) {\n         this.printex(ex);\n@@ -465,5 +477,3 @@\n     });\n   }\n };\n-\n-\n",
					"match": false,
					"packageHash": "09855c51d752f1f547310c353ed93a7d8e2f740d8e7ebb8c76a430204e9e902c",
					"size": 14489,
					"sourceHash": "0a0cf88871ab40fed4179bac30815e547ab7d44e6f1dad2e02653d6bcd72a58b",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,9 +1,10 @@\n-{ \"name\": \"json\"\n-, \"version\": \"0.0.12\"\n+{ \"name\": \"json-command\"\n+, \"version\": \"0.0.14\"\n+, \"license\": \"MIT\"\n , \"engines\": [ \"node >=0.4.0\" ]\n , \"description\": \"JSON command line processing toolkit.\"\n , \"author\": \"Zachary Poley <zpoley@gmail.com> (http://zpoley.net)\"\n-, \"contributors\": [ \"Isaac Schlueter <i@izs.me> (http://blog.izs.me)\", \"Andrey Tarantsov <andreyvit@gmail.com> (http://www.tarantsov.com/)\", \"Niek Schmoller <niek.schmoller@helderberg.nl> (http://helderberg.nl)\", \"Ryunosuke SATO (http://d.hatena.ne.jp/tricknotes/)\" ]\n+, \"contributors\": [ \"Isaac Schlueter <i@izs.me> (http://blog.izs.me)\", \"Andrey Tarantsov <andreyvit@gmail.com> (http://www.tarantsov.com/)\", \"Niek Schmoller <niek.schmoller@helderberg.nl> (http://helderberg.nl)\", \"Ryunosuke SATO (http://d.hatena.ne.jp/tricknotes/)\", \"Johan Sundstr√∂m (http://ecmanaut.blogspot.com/)\" ]\n , \"keywords\" : [ \"json\", \"command\", \"shell\" ]\n , \"man\" : \"./man/json.1\"\n , \"repository\":\n@@ -11,4 +12,7 @@\n   , \"url\" : \"https://github.com/zpoley/json-command.git\"\n   }\n , \"bin\" : { \"json\" : \"./bin/json.js\" }\n+, \"scripts\":\n+  { \"test\" : \"node test/test.js\"\n+  }\n }\n",
					"match": false,
					"packageHash": "4b04913d156d3bac9e4d5c6ee544897c3f2950cff8123e670f0ca8a5e99ce79f",
					"size": 671,
					"sourceHash": "b8ce4420a63583106b95a6a823b6fe3b4c879fa2497fd8ab84beb3aae4688bc6",
					"status": "content"
				},
				"test/test.js": {
					"diff": "--- published/test/test.js\n+++ rebuilt/test/test.js\n@@ -56,6 +56,8 @@\n \n     assert.equal(testObj.zero, 0,\n       \"createRequestedKeys does not add null for 0 to object\");\n+\n+    delete testObj.newKey;\n   })();\n \n   (function testCheckConditionals() {\n@@ -67,7 +69,7 @@\n     assert.equal(jsonC.checkConditionals(testObj), false,\n       \"checkConditionals (name=='foo') is false\");\n \n-    var jsonC = new JSON.Command();\n+    jsonC = new JSON.Command();\n     jsonC.processArgs([ \"-c\", \"(user.name == 'foo')\"]);\n \n     assert.equal(jsonC.checkConditionals(testObj), true,\n@@ -139,6 +141,25 @@\n \n   })();\n \n+  (function testDiffFriendly() {\n+    printTestName(\"testLeadingComma\");\n+\n+    var jsonC = new JSON.Command();\n+    jsonC.processArgs([ \"-,\" ]);\n+\n+    assert.equal(jsonC.stringify(testObj),\n+      '{ \"id\": 19375093\\n, \"text\": \"who knows\"\\n, \"user\":\\n  { \"id\": 1310571\\n  , \"name\": \"foo\"\\n  }\\n, \"arr1\":\\n  [ \"a\"\\n  , \"b\"\\n  , \"c\"\\n  ]\\n, \"obj1\":\\n  { \"arr2\":\\n    [ \"d\"\\n    , \"e\"\\n    , \"f\"\\n    ]\\n  }\\n, \"created_at\": 127817599\\n, \"zero\": 0\\n}',\n+      \"Leading-comma output selection works and formats test object correctly\");\n+\n+    assert.equal(jsonC.stringify([[]]), \"[ []\\n]\",\n+      \"Leading-comma output nests arrays correctly\");\n+\n+    assert.equal(jsonC.stringify({\"\":[{\"deep\":{\"null\":null}}]}),\n+      '{ \"\":\\n  [ { \"deep\":\\n      { \"null\": null\\n      }\\n    }\\n  ]\\n}',\n+      \"Leading-comma output nests deep object/array combinations correctly\");\n+\n+  })();\n+\n })();\n \n console.log(\"\\nAll tests passed!\\n\");\n",
					"match": false,
					"packageHash": "2f3bda0c560a966bd0aa450ba235b540aa56e9e66a025c12a5b7a5f81310fab1",
					"size": 4212,
					"sourceHash": "d4735972a5dd3df351b2b2cb8d15b57d8ecef7f70cec1ad2418028e42039249d",
					"status": "content"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 4,
				"missingInPackage": 0,
				"missingInSource": 0,
				"score": 0.5714285714285714,
				"totalFiles": 7
			}
		},
		"prodDependencies": []
	}
]
