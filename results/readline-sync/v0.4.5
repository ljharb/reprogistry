[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-01T23:12:20.215Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "readline-sync@0.4.5",
			"name": "readline-sync",
			"version": "0.4.5",
			"location": "https://registry.npmjs.org/readline-sync/-/readline-sync-0.4.5.tgz",
			"integrity": "sha512-2npR5A3UEwU8iYXHisZWECm02/rt2gntcBXh/rwzYT8/IUHHqo2jYPOHLONXh+aDexBShf1n/tOz3sxrKYipRw==",
			"publishedAt": "2014-07-13T12:31:05.246Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.15"
			}
		},
		"source": {
			"integrity": "sha512-bpij2ZtEAJdq4hftK4whuz3ifWj3PGhe1kFd4MXn8It74Rf89FWC5jVQmfhh5KwOvtnZSUOhbVpeJeSwH61o8Q==",
			"location": "git://github.com/anseki/readline-sync.git",
			"spec": "github:anseki/readline-sync#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "bcad078364c85b9250791c8665594bfc72170ffc0740e7445ffc97235d69938f",
					"size": 31,
					"status": "missing-in-source"
				},
				"LICENSE-MIT": {
					"match": false,
					"packageHash": "91017a7949918bef8d8d741d3e7aa9a3b1a608c40f56b1a975c0b92288dca6c7",
					"size": 1050,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,118 +1,1838 @@\n # readlineSync\n \n-Synchronous [Readline](http://nodejs.org/api/readline.html) for interactively running.  \n-The interface is used with process.stdin and process.stdout in order to accept user input.\n+[![npm](https://img.shields.io/npm/v/readline-sync.svg)](https://www.npmjs.com/package/readline-sync) [![GitHub issues](https://img.shields.io/github/issues/anseki/readline-sync.svg)](https://github.com/anseki/readline-sync/issues) [![dependencies](https://img.shields.io/badge/dependencies-No%20dependency-brightgreen.svg)](package.json) [![license](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)\n \n-## Example\n+**Now, ECMAScript supports `Promise`, `await` and `async`.**\n+\n+Synchronous [Readline](http://nodejs.org/api/readline.html) for interactively running to have a conversation with the user via a console(TTY).\n+\n+readlineSync tries to let your script have a conversation with the user via a console, even when the input/output stream is redirected like `your-script <foo.dat >bar.log`.\n+\n+<table>\n+<tr><td><a href=\"#basic_options\">Basic Options</a></td><td><a href=\"#utility_methods\">Utility Methods</a></td><td><a href=\"#placeholders\">Placeholders</a></td></tr>\n+</table>\n+\n+* Simple case:\n+\n+```js\n+var readlineSync = require('readline-sync');\n+\n+// Wait for user's response.\n+var userName = readlineSync.question('May I have your name? ');\n+console.log('Hi ' + userName + '!');\n+\n+// Handle the secret text (e.g. password).\n+var favFood = readlineSync.question('What is your favorite food? ', {\n+  hideEchoBack: true // The typed text on screen is hidden by `*` (default).\n+});\n+console.log('Oh, ' + userName + ' loves ' + favFood + '!');\n+```\n+\n+```console\n+May I have your name? CookieMonster\n+Hi CookieMonster!\n+What is your favorite food? ****\n+Oh, CookieMonster loves tofu!\n+```\n+\n+* Get the user's response by a single key without the Enter key:\n \n ```js\n var readlineSync = require('readline-sync');\n-var answer = readlineSync.question('What is your favorite food? :');\n-console.log('Oh, so your favorite food is ' + answer);\n+if (readlineSync.keyInYN('Do you want this module?')) {\n+  // 'Y' key was pressed.\n+  console.log('Installing now...');\n+  // Do something...\n+} else {\n+  // Another key was pressed.\n+  console.log('Searching another...');\n+  // Do something...\n+}\n+```\n+\n+* Let the user choose an item from a list:\n+\n+```js\n+var readlineSync = require('readline-sync'),\n+  animals = ['Lion', 'Elephant', 'Crocodile', 'Giraffe', 'Hippo'],\n+  index = readlineSync.keyInSelect(animals, 'Which animal?');\n+console.log('Ok, ' + animals[index] + ' goes to your room.');\n+```\n+\n+```console\n+[1] Lion\n+[2] Elephant\n+[3] Crocodile\n+[4] Giraffe\n+[5] Hippo\n+[0] CANCEL\n+\n+Which animal? [1...5 / 0]: 2\n+Ok, Elephant goes to your room.\n ```\n \n-## Installation\n+* An UI like the Range Slider:  \n+(Press `Z` or `X` key to change a value, and Space Bar to exit)\n \n+```js\n+var readlineSync = require('readline-sync'),\n+  MAX = 60, MIN = 0, value = 30, key;\n+console.log('\\n\\n' + (new Array(20)).join(' ') +\n+  '[Z] <- -> [X]  FIX: [SPACE]\\n');\n+while (true) {\n+  console.log('\\x1B[1A\\x1B[K|' +\n+    (new Array(value + 1)).join('-') + 'O' +\n+    (new Array(MAX - value + 1)).join('-') + '| ' + value);\n+  key = readlineSync.keyIn('',\n+    {hideEchoBack: true, mask: '', limit: 'zx '});\n+  if (key === 'z') { if (value > MIN) { value--; } }\n+  else if (key === 'x') { if (value < MAX) { value++; } }\n+  else { break; }\n+}\n",
					"match": false,
					"packageHash": "893454d4214d60d181fcc3bb56e0676aae22b4efc9ac9513521754f9e22dddb0",
					"size": 3939,
					"sourceHash": "54ebc9cb9bc609b53eb4a3db4b97885178e6cce76f05a88b5254cfa955328ffb",
					"status": "content"
				},
				"cl_01.png": {
					"match": false,
					"packageHash": "1d425937d66d50a9a9f98d11c8f73d3319c7404cd70cd344160f33922268dbfd",
					"size": 3920,
					"status": "missing-in-source"
				},
				"lib/encrypt.js": {
					"diff": "--- published/lib/encrypt.js\n+++ rebuilt/lib/encrypt.js\n@@ -1,3 +1,11 @@\n+/*\n+ * readlineSync\n+ * https://github.com/anseki/readline-sync\n+ *\n+ * Copyright (c) 2019 anseki\n+ * Licensed under the MIT license.\n+ */\n+\n var cipher = require('crypto').createCipher(\n       process.argv[2] /*algorithm*/, process.argv[3] /*password*/),\n   stdin = process.stdin,\n",
					"match": false,
					"packageHash": "fa8bfa126a03c79506674e2db676825a977ff290251ee30f5dc2fef8249a93d9",
					"size": 435,
					"sourceHash": "1afc1a6d5898fb14ecea4bf82aa0390037591a1d856e8e56f8a529b8e35ffcc1",
					"status": "content"
				},
				"lib/read.bat": {
					"match": false,
					"packageHash": "6d73c75e754aba3d303374a900aa33ddd996923e610f4817eea20a1d468c76cf",
					"size": 158,
					"status": "missing-in-source"
				},
				"lib/read.sh": {
					"diff": "--- published/lib/read.sh\n+++ rebuilt/lib/read.sh\n@@ -1,10 +1,137 @@\n-if [ \"$1\" = \"noechoback\" ]; then\n-  stty -F /dev/tty -echo echonl\n-  read LINE </dev/tty\n-  stty -F /dev/tty echo -echonl\n-  # printf '\\n' >/dev/tty\n+# readlineSync\n+# https://github.com/anseki/readline-sync\n+#\n+# Copyright (c) 2019 anseki\n+# Licensed under the MIT license.\n+\n+# Use perl for compatibility of sed/awk of GNU / POSIX, BSD. (and tr)\n+# Hide \"\\n\" from shell by \"\\fNL\"\n+\n+decode_arg() {\n+  printf '%s' \"$(printf '%s' \"$1\" | perl -pe 's/#(\\d+);/sprintf(\"%c\", $1)/ge; s/[\\r\\n]/\\fNL/g')\"\n+}\n+\n+# getopt(s)\n+while [ $# -ge 1 ]; do\n+  arg=\"$(printf '%s' \"$1\" | grep -E '^-+[^-]+$' | tr '[A-Z]' '[a-z]' | tr -d '-')\"\n+  case \"$arg\" in\n+    'display')          shift; options_display=\"$(decode_arg \"$1\")\";;\n+    'displayonly')      options_displayOnly=true;;\n+    'keyin')            options_keyIn=true;;\n+    'hideechoback')     options_hideEchoBack=true;;\n+    'mask')             shift; options_mask=\"$(decode_arg \"$1\")\";;\n+    'limit')            shift; options_limit=\"$(decode_arg \"$1\")\";;\n+    'casesensitive')    options_caseSensitive=true;;\n+  esac\n+  shift\n+done\n+\n+reset_tty() {\n+  if [ -n \"$save_tty\" ]; then\n+    stty --file=/dev/tty \"$save_tty\" 2>/dev/null || \\\n+      stty -F /dev/tty \"$save_tty\" 2>/dev/null || \\\n+      stty -f /dev/tty \"$save_tty\" || exit $?\n+  fi\n+}\n+trap 'reset_tty' EXIT\n+save_tty=\"$(stty --file=/dev/tty -g 2>/dev/null || stty -F /dev/tty -g 2>/dev/null || stty -f /dev/tty -g || exit $?)\"\n+\n+[ -z \"$options_display\" ] && [ \"$options_keyIn\" = true ] && \\\n+  [ \"$options_hideEchoBack\" = true ] && [ -z \"$options_mask\" ] && silent=true\n+[ \"$options_hideEchoBack\" != true ] && [ \"$options_keyIn\" != true ] && is_cooked=true\n+\n+write_tty() {\n+  # if [ \"$2\" = true ]; then\n+  #   printf '%b' \"$1\" >/dev/tty\n+  # else\n+  #   printf '%s' \"$1\" >/dev/tty\n+  # fi\n+  printf '%s' \"$1\" | perl -pe 's/\\fNL/\\r\\n/g' >/dev/tty\n+}\n+\n+replace_allchars() { (\n+  text=''\n+  for i in $(seq 1 ${#1})\n+  do\n+    text=\"$text$2\"\n+  done\n+  printf '%s' \"$text\"\n+) }\n+\n+if [ -n \"$options_display\" ]; then\n+  write_tty \"$options_display\"\n+fi\n+if [ \"$options_displayOnly\" = true ]; then\n+  printf \"'%s'\" ''\n+  exit 0\n+fi\n+\n+if [ \"$is_cooked\" = true ]; then\n+  stty --file=/dev/tty cooked 2>/dev/null || \\\n+    stty -F /dev/tty cooked 2>/dev/null || \\\n+    stty -f /dev/tty cooked || exit $?\n else\n-  read LINE </dev/tty\n+  stty --file=/dev/tty raw -echo 2>/dev/null || \\\n+    stty -F /dev/tty raw -echo 2>/dev/null || \\\n+    stty -f /dev/tty raw -echo || exit $?\n+fi\n+\n+[ \"$options_keyIn\" = true ] && req_size=1\n+\n+if [ \"$options_keyIn\" = true ] && [ -n \"$options_limit\" ]; then\n+  if [ \"$options_caseSensitive\" = true ]; then\n+    limit_ptn=\"$options_limit\"\n+  else\n+    # Safe list\n+    # limit_ptn=\"$(printf '%s' \"$options_limit\" | sed 's/\\([a-z]\\)/\\L\\1\\U\\1/ig')\"\n+    limit_ptn=\"$(printf '%s' \"$options_limit\" | perl -pe 's/([a-z])/lc($1) . uc($1)/ige')\"\n+  fi\n fi\n-printf '%s' \"$LINE\"\n+\n",
					"match": false,
					"packageHash": "d1dbc36a434545e3b961996943f14aa9370d3141ee559cd6f2636d4bb29cdce0",
					"size": 202,
					"sourceHash": "ecda05192fe7ef0502e5acd87ecd3e845309e39fe575482db4100454196d6c9c",
					"status": "content"
				},
				"lib/readline-sync.js": {
					"diff": "--- published/lib/readline-sync.js\n+++ rebuilt/lib/readline-sync.js\n@@ -2,180 +2,1328 @@\n  * readlineSync\n  * https://github.com/anseki/readline-sync\n  *\n- * Copyright (c) 2014 anseki\n+ * Copyright (c) 2019 anseki\n  * Licensed under the MIT license.\n  */\n \n 'use strict';\n \n var\n-  BUF_SIZE = 256,\n+  IS_WIN = process.platform === 'win32',\n+\n   ALGORITHM_CIPHER = 'aes-256-cbc',\n   ALGORITHM_HASH = 'sha256',\n+  DEFAULT_ERR_MSG = 'The current environment doesn\\'t support interactive reading from TTY.',\n \n-  promptText = '> ',\n-  encoding = 'utf8',\n   fs = require('fs'),\n-  stdin = process.stdin,\n-  stdout = process.stdout,\n-  buffer = new Buffer(BUF_SIZE),\n-  useShell = true, print, tempdir, salt = 0;\n-\n-function _readlineSync(display, options) {\n-  var input = '', rsize, err;\n-\n-  if (display !== '') { // null and undefined were excluded.\n-    if (typeof print === 'function') { print(display, encoding); }\n-    stdout.write(display + '', encoding);\n+  TTY = process.binding('tty_wrap').TTY,\n+  childProc = require('child_process'),\n+  pathUtil = require('path'),\n+\n+  defaultOptions = {\n+    /* eslint-disable key-spacing */\n+    prompt:             '> ',\n+    hideEchoBack:       false,\n+    mask:               '*',\n+    limit:              [],\n+    limitMessage:       'Input another, please.$<( [)limit(])>',\n+    defaultInput:       '',\n+    trueValue:          [],\n+    falseValue:         [],\n+    caseSensitive:      false,\n+    keepWhitespace:     false,\n+    encoding:           'utf8',\n+    bufferSize:         1024,\n+    print:              void 0,\n+    history:            true,\n+    cd:                 false,\n+    phContent:          void 0,\n+    preCheck:           void 0\n+    /* eslint-enable key-spacing */\n+  },\n+\n+  fdR = 'none',\n+  isRawMode = false,\n+  salt = 0,\n+  lastInput = '',\n+  inputHistory = [],\n+  _DBG_useExt = false,\n+  _DBG_checkOptions = false,\n+  _DBG_checkMethod = false,\n+  fdW, ttyR, extHostPath, extHostArgs, tempdir, rawInput;\n+\n+function getHostArgs(options) {\n+  // Send any text to crazy Windows shell safely.\n+  function encodeArg(arg) {\n+    return arg.replace(/[^\\w\\u0080-\\uFFFF]/g, function(chr) {\n+      return '#' + chr.charCodeAt(0) + ';';\n+    });\n   }\n \n-  if (options && options.noEchoBack) { // Try reading via shell\n+  return extHostArgs.concat((function(conf) {\n+    var args = [];\n+    Object.keys(conf).forEach(function(optionName) {\n+      if (conf[optionName] === 'boolean') {\n+        if (options[optionName]) { args.push('--' + optionName); }\n+      } else if (conf[optionName] === 'string') {\n+        if (options[optionName]) {\n+          args.push('--' + optionName, encodeArg(options[optionName]));\n+        }\n+      }\n+    });\n+    return args;\n+  })({\n+    /* eslint-disable key-spacing */\n+    display:        'string',\n+    displayOnly:    'boolean',\n+    keyIn:          'boolean',\n+    hideEchoBack:   'boolean',\n+    mask:           'string',\n+    limit:          'string',\n",
					"match": false,
					"packageHash": "08aa51543407ed9b0b89fa7421ac05a10283978337de9e2677c963e42e84af56",
					"size": 5096,
					"sourceHash": "adefb09f7a3ab0bfeb17182658afe01df6d7ad8b0b317cff91fc7457764c7f02",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,34 +1,40 @@\n {\n   \"name\": \"readline-sync\",\n-  \"description\": \"Synchronous Readline\",\n-  \"version\": \"0.4.5\",\n-  \"homepage\": \"https://github.com/anseki/readline-sync\",\n-  \"author\": {\n-    \"name\": \"anseki\"\n-  },\n-  \"repository\": {\n-    \"type\": \"git\",\n-    \"url\": \"git://github.com/anseki/readline-sync.git\"\n-  },\n-  \"bugs\": {\n-    \"url\": \"https://github.com/anseki/readline-sync/issues\"\n-  },\n-  \"licenses\": [\n-    {\n-      \"type\": \"MIT\",\n-      \"url\": \"https://github.com/anseki/readline-sync/blob/master/LICENSE-MIT\"\n-    }\n-  ],\n-  \"main\": \"./lib/readline-sync.js\",\n-  \"engines\": {\n-    \"node\": \">= 0.8.0\"\n-  },\n+  \"version\": \"1.4.10\",\n+  \"title\": \"readlineSync\",\n+  \"description\": \"Synchronous Readline for interactively running to have a conversation with the user via a console(TTY).\",\n   \"keywords\": [\n     \"readline\",\n     \"synchronous\",\n+    \"interactive\",\n     \"prompt\",\n     \"question\",\n+    \"password\",\n+    \"cli\",\n+    \"tty\",\n+    \"command\",\n+    \"repl\",\n+    \"keyboard\",\n     \"wait\",\n     \"block\"\n-  ]\n-}\n\\ No newline at end of file\n+  ],\n+  \"main\": \"./lib/readline-sync.js\",\n+  \"files\": [\n+    \"lib/*.@(js|ps1|sh)\",\n+    \"README-Deprecated.md\"\n+  ],\n+  \"engines\": {\n+    \"node\": \">= 0.8.0\"\n+  },\n+  \"homepage\": \"https://github.com/anseki/readline-sync\",\n+  \"repository\": {\n+    \"type\": \"git\",\n+    \"url\": \"git://github.com/anseki/readline-sync.git\"\n+  },\n+  \"bugs\": \"https://github.com/anseki/readline-sync/issues\",\n+  \"license\": \"MIT\",\n+  \"author\": {\n+    \"name\": \"anseki\",\n+    \"url\": \"https://github.com/anseki\"\n+  }\n+}\n",
					"match": false,
					"packageHash": "bb43bc6af55280e459cdbdda0365708bcbf6ba0a6d1415cfe9f28a715f322c69",
					"size": 685,
					"sourceHash": "e7ae040740213d68016c61fd504cb34413d63d7a5fd21b3d95fbcf1b9bfdfdb1",
					"status": "content"
				},
				"LICENSE": {
					"match": false,
					"status": "missing-in-package"
				},
				"README-Deprecated.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/read.ps1": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/read.wsh.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 5,
				"matchingFiles": 0,
				"missingInPackage": 4,
				"missingInSource": 4,
				"score": 0,
				"totalFiles": 13
			}
		}
	}
]
