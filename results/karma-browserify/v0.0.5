[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-01T17:35:00.673Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "karma-browserify@0.0.5",
			"name": "karma-browserify",
			"version": "0.0.5",
			"location": "https://registry.npmjs.org/karma-browserify/-/karma-browserify-0.0.5.tgz",
			"integrity": "sha512-2OzThF37e62wd9nC7LwgBPNkWP6en43TNWgd1VbdyZxu8yY7RTlI6hd+Vc1W9/jeGtKLAH4aQo4BDtiLcuW2Gw==",
			"publishedAt": "2013-10-10T15:41:05.587Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.5"
			}
		},
		"source": {
			"integrity": null,
			"location": "https://github.com/xdissent/karma-browserify.git",
			"spec": "github:xdissent/karma-browserify#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "4cb324898052721e68dfd9d544585d058f661b1b163634a7b6707e4a0176f59a",
					"size": 13,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,93 +1,4 @@\n-karma-browserify\n+[deprecated] karma-browserify\n ================\n \n-[Browserify](http://browserify.org) for [Karma](http://karma-runner.github.io)\n-\n-[![NPM version](https://badge.fury.io/js/karma-browserify.png)](http://badge.fury.io/js/karma-browserify)\n-\n-Browserify is an awesome tool for managing front-end module dependencies with\n-`require`, just like you would in Node. Karma is a killer JS test runner that's \n-super fast and easy. But put them together and you're entering a world of pain.\n-This plugin aims to make them play nice.\n-\n-Under most circumstances, Browserify attempts to give you a single monolithic\n-bundle of all of your JS files and their dependencies. That's perfect for fast\n-delivery with minimal requests in a browser environment, but sucks hard if \n-you're just trying to run your tests (over and over). This plugin hijacks the\n-Browserify pipeline to produce a single bundle of *all* dependencies found in\n-your tests (and their dependencies) which is transferred to the browser under\n-test only once (unless it changes). A separate, minimal bundle is generated for\n-each test which, aside from the test code, only contains references to \n-external dependencies in the main bundle. That way dependencies are updated in \n-the browser only when necessary (watching for changes is supported) and your \n-tests remain lightning fast.\n-\n-\n-Installation\n-------------\n-\n-Install the plugin from npm:\n-\n-```sh\n-$ npm install karma-browserify --save-dev\n-```\n-\n-Or from Github:\n-\n-```sh\n-$ npm install 'git+https://github.com/xdissent/karma-browserify.git' --save-dev\n-```\n-\n-Add `browserify` to the `frameworks` and `preprocessor` keys in your \n-Karma configuration:\n-\n-```coffee\n-module.exports = (config) ->\n-  config.set\n-\n-    # frameworks to use\n-    frameworks: ['mocha', 'browserify']\n-\n-    preprocessors:\n-      '**/*.coffee': ['coffee']\n-      'my/test/files/*': ['browserify']\n-\n-    # ...\n-```\n-\n-\n-Options\n--------\n-\n-The plugin may be configured using the `browserify` key in your Karma config:\n-\n-```coffee\n-module.exports = (config) ->\n-  config.set\n-\n-    browserify: \n-      extension: ['.coffee']  # This is for future compatibility.\n-      ignore: [path.join __dirname, 'components/angular-unstable/angular.js']\n-      transform: ['coffeeify']\n-      watch: true   # Watches dependencies only (Karma watches the tests)\n-\n-    # ...\n-```\n-\n-\n-Usage\n------\n-\n-Just `require` modules from within tests as you normally would in Node:\n-\n-```coffee\n-something = require '../some/module'\n-\n-describe 'karma tests with browserify', ->\n-\n-  it 'should gimme dat module', ->\n-    something.should.exist()\n-```\n-\n-See the [example](https://github.com/xdissent/karma-browserify/tree/master/example)\n-for a simple working setup.\n+This repo was superseded by another project, formerly karma-bro, as of 1.0. [karma-browserify on npm](https://www.npmjs.org/package/karma-browserify) is now published from [nikku/karma-browserify](https://github.com/Nikku/karma-browserify). This repo will no longer be updated or published. \n",
					"match": false,
					"packageHash": "0a19de799d081786a9c24db9345573752ceb2ac0eeb6f34a0d1242b280bfa3cf",
					"size": 2638,
					"sourceHash": "5321c40492265f7f25f48ddbb91a87b1056eb6a183cda583a395c68cb7107cf5",
					"status": "content"
				},
				"lib/index.js": {
					"match": false,
					"packageHash": "68800f95053759b0ddfa53796060ef29830fbeed8976f5b2c29e14fb809b65f3",
					"size": 3789,
					"status": "missing-in-source"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -5,12 +5,31 @@\n     \"karma-plugin\",\n     \"browserify\"\n   ],\n-  \"version\": \"0.0.5\",\n+  \"private\": true,\n+  \"version\": \"0.2.1\",\n   \"author\": {\n     \"name\": \"Greg Thornton\",\n     \"email\": \"xdissent@me.com\",\n     \"url\": \"http://xdissent.com\"\n   },\n+  \"contributors\": [\n+    {\n+      \"name\": \"Alexandre Lacheze\",\n+      \"url\": \"https://github.com/alexstrat\"\n+    },\n+    {\n+      \"name\": \"Alex Gorbatchev\",\n+      \"url\": \"https://github.com/alexgorbatchev\"\n+    },\n+    {\n+      \"name\": \"Peter Lyons\",\n+      \"url\": \"https://github.com/focusaurus\"\n+    },\n+    {\n+      \"name\": \"Alex Arnell\",\n+      \"url\": \"https://github.com/voidlock\"\n+    }\n+  ],\n   \"main\": \"./index.js\",\n   \"license\": \"MIT\",\n   \"homepage\": \"https://github.com/xdissent/karma-browserify\",\n@@ -22,18 +41,18 @@\n     \"url\": \"https://github.com/xdissent/karma-browserify/issues\"\n   },\n   \"dependencies\": {\n-    \"browserify\": \"~2.18.1\",\n-    \"through\": \"~2.3.4\",\n-    \"chokidar\": \"~0.6.2\"\n+    \"through\": \"~2.x.x\",\n+    \"chokidar\": \"~0.x.x\"\n   },\n   \"peerDependencies\": {\n-    \"karma\": \">=0.9\"\n+    \"karma\": \">=0.9\",\n+    \"browserify\": \">=3.30.5\"\n   },\n   \"devDependencies\": {\n-    \"groc\": \"~0.4.0\",\n-    \"coffee-script\": \"~1.6.3\"\n+    \"groc\": \"0.x.x\",\n+    \"coffee-script\": \"~1.7.1\"\n   },\n   \"scripts\": {\n-    \"prepublish\": \"coffee -cbo lib src\"\n+    \"prepublish\": \"./node_modules/.bin/coffee -cbo lib src\"\n   }\n }\n",
					"match": false,
					"packageHash": "5cb4c35c23aae78e77d3a84ac3f0130f83cb45626d01261526619288ba4c03d9",
					"size": 853,
					"sourceHash": "b260caa5d658a37812b4ce2a6062051f288a775d0fdd8f9b37d063c772f047e2",
					"status": "content"
				},
				"src/index.coffee": {
					"diff": "--- published/src/index.coffee\n+++ rebuilt/src/index.coffee\n@@ -10,6 +10,7 @@\n browserify = require 'browserify'\n through = require 'through'\n chokidar = require 'chokidar'\n+crypto = require('crypto')\n \n # The dependency cache stores all browserify dependencies.\n depsCache = []\n@@ -20,11 +21,11 @@\n # The temporary `karma-browserify.js` file path.\n tmp = null\n \n-# The safe configuration keys to apply to the browserify bundles.\n-configs = ['extension', 'transform', 'ignore']\n+# Debug mode adds sourcemaps to the bundle.\n+debug = false\n \n-# Create a MD5 hash for browserify export names.\n-hash = (what) -> crypto.createHash('md5').update(what).digest('base64').slice 0, 6\n+# The safe configuration keys to apply to the browserify bundles.\n+configs = ['transform', 'ignore', 'external']\n \n # Apply select keys from a configuration object to a browserify bundle.\n applyConfig = (b, cfg) ->\n@@ -32,7 +33,7 @@\n \n # Write the dependency bundle out to the temporary file.\n writeDeps = (callback) ->\n-  depsBundle.bundle (err, depsContent) ->\n+  depsBundle.bundle debug: debug, (err, depsContent) ->\n     return err if err\n     fs.writeFile tmp, depsContent, (err) ->\n       return err if err\n@@ -49,20 +50,29 @@\n \n # The karma-browserify framework creates a global bundle for all browserify\n # dependencies that are not top-level Karma files.\n-framework = (files, config) ->\n+framework = (logger, files, config={}) ->\n+  log = logger.create 'preprocessor.browserify (framework)'\n   # Create an empty temp file for the global dependency bundle and add it to the\n   # Karma files list.\n-  tmp = path.join (if os.tmpdir then os.tmpdir() else os.tmpDir()), 'karma-browerify.js'\n+  # MUST create a unique name else different projects can interfer with each other.\n+  fileName = __dirname + '_karma-browerify.js'\n+  # Filename path could be > 255 chars in length so md5 it.\n+  # (http://stackoverflow.com/questions/1323013/what-are-the-chances-that-two-messages-have-the-same-md5-digest-and-the-same-sha)\n+  hashedFileName = crypto.createHash('md5').update(fileName).digest(\"hex\")\n+  log.debug 'Writing to temp file: \"%s\".', hashedFileName\n+  tmp = path.join (if os.tmpdir then os.tmpdir() else os.tmpDir()), hashedFileName\n   fs.writeFileSync tmp, ''\n   files.unshift pattern: tmp, included: true, served: true, watched: true\n \n   # Initialize a browserify bundle for the global dependencies and apply the\n   # Karma configuration.\n-  depsBundle = browserify()\n-  applyConfig depsBundle, config\n+  depsBundle = configuredBrowserify undefined, config\n+\n+  # Turn on debug if given in config.\n+  debug = config.debug\n \n # ## Preprocessor\n-preprocessor = (logger, config) ->\n+preprocessor = (logger, config={}) ->\n   # Create a logger.\n   log = logger.create 'preprocessor.browserify'\n \n@@ -71,8 +81,7 @@\n     log.debug 'Processing \"%s\".', file.originalPath\n \n     # Create a file-specific browserify bundle and apply the configuration.\n-    fileBundle = browserify path.normalize file.originalPath\n-    applyConfig fileBundle, config\n+    fileBundle = configuredBrowserify (path.normalize file.originalPath), config\n \n     # Override the bundle's default dependency handling, adding all dependencies\n     # to the dependency cache and excluding them from the file bundle by passing\n@@ -81,7 +90,7 @@\n       fileBundle.deps(opts).pipe through (row) ->\n         if row.id isnt file.originalPath\n           depsCache.push row.id unless row.id in depsCache\n-          row.source = \"module.exports=require('#{hash row.id}');\"\n+          row.source = \"module.exports=require('#{fileBundle._hash row.id}');\"\n         @queue row\n \n     # Build the file bundle.\n@@ -99,7 +108,16 @@\n       # Write out the dependency bundle.\n       writeDeps -> done fileContent\n \n-framework.$inject = ['config.files', 'config.browserify']\n+configuredBrowserify = (files, config={}) ->\n+  options =\n+    entries: files and [].concat files\n+    extensions: config.extension or config.extensions or []\n+    noParse: config.noParse\n+  bundle = browserify options\n",
					"match": false,
					"packageHash": "9b8b9dcf02800ccfb39ec993ddfee4657aad92bea0042f9b6d7dc3f9849950bc",
					"size": 3866,
					"sourceHash": "04b0fd41e431effe1b8ed99b79adf4f71a7ab062a4fb3f9ce89133d69efc5146",
					"status": "content"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 2,
				"missingInPackage": 0,
				"missingInSource": 2,
				"score": 0.2857142857142857,
				"totalFiles": 7
			}
		}
	}
]
