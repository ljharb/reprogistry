[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-19T13:42:28.514Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "promptly@0.0.0",
			"name": "promptly",
			"version": "0.0.0",
			"location": "https://registry.npmjs.org/promptly/-/promptly-0.0.0.tgz",
			"integrity": "sha512-EI6qdavxyEYp4OxeLNSZ070fd3S/btostXlRefsYq1Q4T4rBLbUAsfxrE1n3PMzqW7NuNi6rXwZWnd/MDep+3w==",
			"publishedAt": "2013-01-26T18:49:47.876Z",
			"publishedWith": {
				"node": null,
				"npm": "1.1.69"
			},
			"dependencies": {}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/IndigoUnited/node-promptly",
			"spec": "github:IndigoUnited/node-promptly#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".jshintrc": {
					"match": false,
					"packageHash": "71c63dcd8c72d9f8cfe8fffbca88867c9f4fbd56a67efa733b61c1fa80f1f65a",
					"size": 1166,
					"status": "missing-in-source"
				},
				".npmignore": {
					"match": false,
					"packageHash": "b6da11d8eb7de459caf113fc3dc7a9f35b9a62f52f28e043181afa3042e79e3e",
					"size": 585,
					"status": "missing-in-source"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,14 +1,16 @@\n-Copyright (c) 2012 IndigoUnited\n+The MIT License (MIT)\n+\n+Copyright (c) 2018 Made With MOXY Lda <hello@moxy.studio>\n \n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n-copies of the Software, and to permit persons to whom the Software is furnished\n-to do so, subject to the following conditions:\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n \n-The above copyright notice and this permission notice shall be included in all\n-copies or substantial portions of the Software.\n+The above copyright notice and this permission notice shall be included in\n+all copies or substantial portions of the Software.\n \n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n@@ -16,4 +18,4 @@\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n-THE SOFTWARE.\n\\ No newline at end of file\n+THE SOFTWARE.\n",
					"match": false,
					"packageHash": "4ecadb75490919b3c3ce03a6164118c1f31a36a8332543943776df970a042536",
					"size": 1055,
					"sourceHash": "aaa78451b6fecd1b9c4594c796c133c0e90cad100372ff8bc6de615e9ef9adf1",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,37 +1,129 @@\n-# promptly #\n----\n+# promptly\n \n-Simple command line prompting utilify.\n+[![NPM version][npm-image]][npm-url] [![Downloads][downloads-image]][npm-url] [![Build Status][travis-image]][travis-url] [![Coverage Status][codecov-image]][codecov-url] [![Dependency status][david-dm-image]][david-dm-url] [![Dev Dependency status][david-dm-dev-image]][david-dm-dev-url]\n \n+[npm-url]:https://npmjs.org/package/promptly\n+[downloads-image]:https://img.shields.io/npm/dm/promptly.svg\n+[npm-image]:https://img.shields.io/npm/v/promptly.svg\n+[travis-url]:https://travis-ci.org/moxystudio/node-promptly\n+[travis-image]:https://img.shields.io/travis/moxystudio/node-promptly/master.svg\n+[codecov-url]:https://codecov.io/gh/moxystudio/node-promptly\n+[codecov-image]:https://img.shields.io/codecov/c/github/moxystudio/node-promptly/master.svg\n+[david-dm-url]:https://david-dm.org/moxystudio/node-promptly\n+[david-dm-image]:https://img.shields.io/david/moxystudio/node-promptly.svg\n+[david-dm-dev-url]:https://david-dm.org/moxystudio/node-promptly?type=dev\n+[david-dm-dev-image]:https://img.shields.io/david/dev/moxystudio/node-promptly.svg\n \n+> Simple command line prompting utility.\n \n-## API ##\n \n-In all the commands, the options argument is not mandatory.\n+## Installation\n \n+`$ npm install promptly`\n \n-### .prompt(message, opts, fn) ###\n+\n+## API\n+\n+### .prompt(message, [options])\n \n Prompts for a value, printing the `message` and waiting for the input.   \n-When done, calls `fn` with an `error` and `value`.\n+Returns a promise that resolves with the input.\n \n-Default options:\n-```js\n-{\n-    // The default value to assume. If not supplied, the input is mandatory\n-    'default': 'default value',\n-    // Automatically trim the input\n-    'trim': true,\n-    // A validator or an array of validators.\n-    'validator': null,\n-    // Automatically retry on error\n-    'retry': false\n-}\n-```\n+Available options:\n+\n+| Name   | Description   | Type     | Default |\n+| ------ | ------------- | -------- | ------- |\n+| default | The default value to use if the user provided an empty input | string | undefined |\n+| trim | Trims the user input | boolean | true |\n+| validator | A validator or an array of validators | function/array | undefined |\n+| retry | Retry if any of the validators fail | boolean | true |\n+| silent | Do not print what the user types | boolean | false |\n+| replace | Replace each character with the specified string when `silent` is true | string | '' |\n+| input | Input stream to read from | [Stream](https://nodejs.org/api/process.html#process_process_stdin) | process.stdin |\n+| output | Output stream to write to | [Stream](https://nodejs.org/api/process.html#process_process_stdout) | process.stdout |\n+| timeout | Timeout in ms | number | 0 |\n+| useDefaultOnTimeout | Return default value if timed out | boolean | false |\n+\n+The same **options** are available to **all functions** but with different default values.\n+\n+#### Examples\n+\n+- Ask for a name:\n+\n+    ```js\n+    const promptly = require('promptly');\n+\n+    (async () => {\n+        const name = await promptly.prompt('Name: ');\n+        console.log(name);\n+    })();\n+    ```\n+\n+- Ask for a name with a constraint (non-empty value and length > 2):\n+\n+    ```js\n+    const promptly = require('promptly');\n+\n+    const validator = function (value) {\n+        if (value.length < 2) {\n+            throw new Error('Min length of 2');\n+        }\n+\n+        return value;\n+    };\n+\n+    (async () => {\n+        const name = await promptly.prompt('Name: ', { validator });\n+        // Since retry is true by default, promptly will keep asking for a name until it is valid\n",
					"match": false,
					"packageHash": "40a800c9ef01bc08e7c43269371d06b1e810bfc20e56b3d0ef108bc788ad31a1",
					"size": 3043,
					"sourceHash": "cc425849c37c78816f912a532a31bc41e2623b0547bd776f31ca8e3d8051ba59",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,149 +1,72 @@\n 'use strict';\n \n-var readline = require('readline');\n-var promptly = module.exports;\n+const prompt = require('./lib/prompt');\n+const getOptions = require('./lib/getOptions');\n \n-promptly.prompt = function (message, opts, fn) {\n-    // Arguments parsing\n-    if (typeof opts === 'function') {\n-        fn = opts;\n-        opts = {};\n-    } else {\n-        opts = opts || {};\n-    }\n-\n-    if (opts.trim === undefined) {\n-        opts.trim = true;\n-    }\n-\n-    // Instantiate node's readline\n-    var rl = opts.rl;\n-    if (!rl) {\n-        rl = opts.rl = readline.createInterface({\n-            input: opts.input || process.stdin,\n-            output: opts.output || process.stdout\n-        });\n-    }\n-\n-    // Use readline question\n-    rl.question(message, function (response) {\n-        // Trim?\n-        if (opts.trim) {\n-            response = response.trim();\n-        }\n+const promptly = module.exports;\n \n-        // Mandatory?\n-        if (opts['default'] === undefined && !response) {\n-            return promptly.prompt(message, opts, fn);\n-        } else {\n-            response = response || opts['default'];\n-        }\n+promptly.prompt = (message, options) => {\n+    options = getOptions(options);\n \n-        // Validator verification\n-        if (opts.validator) {\n-            if (!Array.isArray(opts.validator)) {\n-                opts.validator = [opts.validator];\n-            }\n-\n-            var x;\n-            var length = opts.validator.length;\n-\n-            for (x = 0; x < length; x += 1) {\n-                try {\n-                    response = opts.validator[x](response);\n-                } catch (e) {\n-                    // Retry automatically if the retry option is enabled\n-                    if (opts.retry) {\n-                        return promptly.prompt(message, opts, fn);\n-                    }\n-\n-                    rl.close();\n-                    delete opts.rl;\n-                    e.retry = promptly.prompt.bind(promptly, message, opts, fn);\n-\n-                    return fn(e);\n-                }\n-            }\n-        }\n+    return prompt(message, options);\n+};\n \n-        // Everything ok\n-        rl.close();\n-        fn(null, response);\n+promptly.password = (message, options) => {\n+    options = getOptions({\n+        silent: true, // Hide password chars\n+        trim: false, // Do not trim so that spaces can be part of the password\n+        default: '', // Allow empty passwords\n+        ...options,\n     });\n-};\n \n-promptly.password = function () {\n-    // TODO:\n+    return prompt(message, options);\n };\n \n-promptly.confirm = function (message, opts, fn) {\n-    // Arguments parsing\n-    if (typeof opts === 'function') {\n-        fn = opts;\n-        opts = {};\n",
					"match": false,
					"packageHash": "e4f69436ab31345ae193aeee2bf3f715e4cf7988c9fca85c1dc5e2e9ae8dff80",
					"size": 3585,
					"sourceHash": "b13ce1abc26ab6b28fdad8ac5f8111f8c00afa9acf6131ee05117170a0d7a48f",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,20 +1,7 @@\n {\n   \"name\": \"promptly\",\n-  \"version\": \"0.0.0\",\n+  \"version\": \"3.2.0\",\n   \"description\": \"Simple command line prompting utility\",\n-  \"main\": \"index.js\",\n-  \"devDependencies\": {\n-    \"mocha\": \"~1.8.1\",\n-    \"async\": \"~0.1.22\",\n-    \"expect.js\": \"~0.2.0\"\n-  },\n-  \"scripts\": {\n-    \"test\": \"mocha -R spec\"\n-  },\n-  \"repository\": {\n-    \"type\": \"git\",\n-    \"url\": \"git://github.com/IndigoUnited/node-promptly\"\n-  },\n   \"keywords\": [\n     \"prompt\",\n     \"choose\",\n@@ -23,6 +10,53 @@\n     \"command\",\n     \"line\"\n   ],\n-  \"author\": \"IndigoUnited <hello@indigounited.com> (http://indigounited.com)\",\n-  \"license\": \"MIT\"\n+  \"author\": \"Andr√© Cruz <andre@moxy.studio>\",\n+  \"homepage\": \"https://github.com/moxystudio/node-promptly\",\n+  \"repository\": {\n+    \"type\": \"git\",\n+    \"url\": \"git@github.com:moxystudio/node-promptly.git\"\n+  },\n+  \"license\": \"MIT\",\n+  \"main\": \"index.js\",\n+  \"files\": [\n+    \"lib\"\n+  ],\n+  \"scripts\": {\n+    \"lint\": \"eslint .\",\n+    \"test\": \"jest --env node --coverage --runInBand\",\n+    \"prerelease\": \"npm t && npm run lint\",\n+    \"release\": \"standard-version\",\n+    \"postrelease\": \"git push --follow-tags origin HEAD && npm publish\"\n+  },\n+  \"husky\": {\n+    \"hooks\": {\n+      \"commit-msg\": \"commitlint -E HUSKY_GIT_PARAMS\",\n+      \"pre-commit\": \"lint-staged\"\n+    }\n+  },\n+  \"lint-staged\": {\n+    \"*.js\": [\n+      \"eslint --fix\",\n+      \"git add\"\n+    ]\n+  },\n+  \"commitlint\": {\n+    \"extends\": [\n+      \"@commitlint/config-conventional\"\n+    ]\n+  },\n+  \"dependencies\": {\n+    \"read\": \"^1.0.4\"\n+  },\n+  \"devDependencies\": {\n+    \"@commitlint/cli\": \"^7.0.0\",\n+    \"@commitlint/config-conventional\": \"^7.0.1\",\n+    \"eslint\": \"^5.3.0\",\n+    \"eslint-config-moxy\": \"^7.0.1\",\n+    \"husky\": \"^1.3.1\",\n+    \"jest\": \"^24.5.0\",\n+    \"lint-staged\": \"^8.1.5\",\n+    \"p-series\": \"^2.0.0\",\n+    \"standard-version\": \"^5.0.1\"\n+  }\n }\n",
					"match": false,
					"packageHash": "ebf6c182becf89f9a57a91f79be4a15e86d3ef265b7e8e93d687689905c016da",
					"size": 574,
					"sourceHash": "555eefbddb8c544087ec8a1d88332d0baf65259c964a97504ed80647a3e3d542",
					"status": "content"
				},
				"test/test.js": {
					"match": false,
					"packageHash": "47a4ebc4e2da0ee1d04b8bc25978e478782131c8d138cb7a718ca4d61f00c3d6",
					"size": 7618,
					"status": "missing-in-source"
				},
				"lib/getOptions.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/prompt.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 0,
				"missingInPackage": 2,
				"missingInSource": 3,
				"score": 0,
				"totalFiles": 9
			}
		},
		"prodDependencies": [
			{
				"name": "mute-stream",
				"version": "0.0.8"
			},
			{
				"name": "read",
				"version": "1.0.7"
			}
		]
	}
]
