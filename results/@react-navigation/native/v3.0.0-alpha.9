[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-07T09:32:22.747Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "@react-navigation/native@3.0.0-alpha.9",
			"name": "@react-navigation/native",
			"version": "3.0.0-alpha.9",
			"location": "https://registry.npmjs.org/@react-navigation/native/-/native-3.0.0-alpha.9.tgz",
			"integrity": "sha512-GPvoOydf9z6QHUU6A68pRU7g3J0wOkmsb/xWOLrJXBpZ+9GvnsSJk0L/9jaoYlX1pBrU22CTa9fGAIbtAKSV1w==",
			"publishedAt": "2018-10-24T23:07:34.178Z",
			"publishedWith": {
				"node": "10.9.0",
				"npm": "6.2.0"
			},
			"dependencies": {
				"hoist-non-react-statics": "^3.0.1",
				"react-native-safe-area-view": "^0.11.0"
			}
		},
		"source": {
			"integrity": null,
			"location": "git+https://github.com/react-navigation/react-navigation-native.git",
			"spec": "github:react-navigation/react-navigation-native#c948aa08957dcc48fc3d78d060dfe45fbc52dfac"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,6 +1,6 @@\n # React Navigation Native\n \n-[![npm version](https://badge.fury.io/js/%40react-navigation%2Fnative.svg)](https://badge.fury.io/js/%40react-navigation%2Fnative) [![CircleCI badge](https://circleci.com/gh/react-navigation/react-navigation-native/tree/master.svg?style=shield)](https://circleci.com/gh/react-navigation/react-navigation-native/tree/master) [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://reactnavigation.org/docs/contributing.html)\n+[![npm version](https://badge.fury.io/js/%40react-navigation%2Fnative.svg)](https://badge.fury.io/js/%40react-navigation%2Fnative) [![CircleCI badge](https://circleci.com/gh/react-navigation/native/tree/master.svg?style=shield)](https://circleci.com/gh/react-navigation/react-navigation-native/tree/master) [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://reactnavigation.org/docs/contributing.html)\n \n React Native support for React Navigation\n \n",
					"match": false,
					"packageHash": "cf43c403f07c06bab5e93f6520a757674abb2af63c34541cb87b67d0d049fd6f",
					"size": 648,
					"sourceHash": "8662fe53d9b10cf861d35a11543795a162fae2e0a94a1daccc88d42dfbc68493",
					"status": "content"
				},
				"dist/ResourceSavingSceneView.js": {
					"diff": "--- published/dist/ResourceSavingSceneView.js\n+++ rebuilt/dist/ResourceSavingSceneView.js\n@@ -1,7 +1,5 @@\n import React from 'react';\n import { Platform, StyleSheet, View } from 'react-native';\n-import { polyfill } from 'react-lifecycles-compat';\n-\n import { SceneView } from '@react-navigation/core';\n \n const FAR_FAR_AWAY = 3000; // this should be big enough to move the whole view out of its container\n@@ -28,9 +26,7 @@\n     const {\n       isFocused,\n       childNavigation,\n-      navigation,\n       removeClippedSubviews,\n-      lazy,\n       ...rest\n     } = this.props;\n \n@@ -60,4 +56,4 @@\n   }\n });\n \n-export default polyfill(ResourceSavingSceneView);\n\\ No newline at end of file\n+export default ResourceSavingSceneView;\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "7eebd9f63087d601972875b57a3ea0c45167b88033deb07e8170e00e73126c7d",
					"size": 1593,
					"sourceHash": "6476bdca965ee0c820ed2c262e43251f6ba1cfd2cc5ab559e9056a81b0cc37f8",
					"status": "content"
				},
				"dist/Scrollables.js": {
					"diff": "--- published/dist/Scrollables.js\n+++ rebuilt/dist/Scrollables.js\n@@ -1,14 +1,37 @@\n import React from 'react';\n-import { FlatList, SectionList } from 'react-native';\n-import { ScrollView } from 'react-native-gesture-handler';\n+import { ScrollView, Platform, FlatList, SectionList, RefreshControl } from 'react-native';\n+import { ScrollView as GHScrollView } from 'react-native-gesture-handler';\n import createNavigationAwareScrollable from './createNavigationAwareScrollable';\n+import invariant from './utils/invariant';\n \n-const WrappedScrollView = createNavigationAwareScrollable(ScrollView);\n+let WrappedScrollView;\n+if (Platform.OS === 'android') {\n+  // @todo: use GHScrollView again when\n+  // https://github.com/kmagiera/react-native-gesture-handler/issues/560 has\n+  // been fixed.\n+  WrappedScrollView = createNavigationAwareScrollable(ScrollView);\n+} else {\n+  WrappedScrollView = createNavigationAwareScrollable(GHScrollView);\n+}\n \n-const WrappedFlatList = React.forwardRef((props, ref) => <FlatList ref={ref} {...props} renderScrollComponent={props => <WrappedScrollView {...props} />} />);\n+function propsMaybeWithRefreshControl(props) {\n+  const onRefresh = props.onRefresh;\n+  if (onRefresh) {\n+    invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');\n+    return {\n+      ...props,\n+      refreshControl: props.refreshControl == null ? <RefreshControl refreshing={props.refreshing} onRefresh={onRefresh} progressViewOffset={props.progressViewOffset} /> : props.refreshControl\n+    };\n+  } else {\n+    return props;\n+  }\n+}\n \n-const WrappedSectionList = React.forwardRef((props, ref) => <SectionList ref={ref} {...props} renderScrollComponent={props => <WrappedScrollView {...props} />} />);\n+const WrappedFlatList = React.forwardRef((props, ref) => <FlatList ref={ref} {...props} renderScrollComponent={props => <WrappedScrollView {...propsMaybeWithRefreshControl(props)} />} />);\n \n+const WrappedSectionList = React.forwardRef((props, ref) => <SectionList ref={ref} {...props} renderScrollComponent={props => <WrappedScrollView {...propsMaybeWithRefreshControl(props)} />} />);\n+\n+// eslint-disable-next-line import/no-commonjs\n module.exports = {\n   ScrollView: WrappedScrollView,\n   FlatList: WrappedFlatList,\n",
					"match": false,
					"packageHash": "5533cc348eca1ab46f939d8a8ba5f7aaf005724dd8004190f7acb10ac0e8ac82",
					"size": 737,
					"sourceHash": "42249c1ba187c13e15b229525a31d17dfded69f5bdbc7265e3193cb9c12a2328",
					"status": "content"
				},
				"dist/createAppContainer.js": {
					"diff": "--- published/dist/createAppContainer.js\n+++ rebuilt/dist/createAppContainer.js\n@@ -1,8 +1,6 @@\n import React from 'react';\n-import { AsyncStorage, Linking, Platform, BackHandler } from 'react-native';\n-import { polyfill } from 'react-lifecycles-compat';\n-\n-import { NavigationActions, pathUtils, getNavigation } from '@react-navigation/core';\n+import { Linking, Platform, BackHandler } from 'react-native';\n+import { NavigationActions, ThemeProvider, pathUtils, getNavigation, NavigationProvider } from '@react-navigation/core';\n import invariant from './utils/invariant';\n import docsUrl from './utils/docsUrl';\n \n@@ -13,17 +11,29 @@\n }\n \n function validateProps(props) {\n+  if (props.persistenceKey) {\n+    console.warn('You passed persistenceKey prop to a navigator. ' + 'The persistenceKey prop was replaced by a more flexible persistence mechanism, ' + 'please see the navigation state persistence docs for more information. ' + 'Passing the persistenceKey prop is a no-op.');\n+  }\n   if (isStateful(props)) {\n     return;\n   }\n-\n-  const { navigation, screenProps, ...containerProps } = props;\n+  /* eslint-disable no-unused-vars */\n+  const {\n+    navigation,\n+    screenProps,\n+    persistNavigationState,\n+    loadNavigationState,\n+    theme,\n+    ...containerProps\n+  } = props;\n+  /* eslint-enable no-unused-vars */\n \n   const keys = Object.keys(containerProps);\n \n   if (keys.length !== 0) {\n     throw new Error('This navigator has both navigation and container props, so it is ' + `unclear if it should own its own state. Remove props: \"${keys.join(', ')}\" ` + 'if the navigator should get its state from the navigation prop. If the ' + 'navigator should maintain its own state, do not pass a navigation prop.');\n   }\n+  invariant(persistNavigationState === undefined && loadNavigationState === undefined || typeof persistNavigationState === 'function' && typeof loadNavigationState === 'function', 'both persistNavigationState and loadNavigationState must either be undefined, or be functions');\n }\n \n // Track the number of stateful container instances. Warn if >0 and not using the\n@@ -56,7 +66,11 @@\n     static router = Component.router;\n     static navigationOptions = null;\n \n-    static getDerivedStateFromProps(nextProps, prevState) {\n+    static defaultProps = {\n+      theme: 'light'\n+    };\n+\n+    static getDerivedStateFromProps(nextProps) {\n       validateProps(nextProps);\n       return null;\n     }\n@@ -70,7 +84,7 @@\n \n       this._initialAction = NavigationActions.init();\n \n-      if (this._isStateful()) {\n+      if (this._isStateful() && BackHandler && typeof BackHandler.addEventListener === 'function') {\n         this.subs = BackHandler.addEventListener('hardwareBackPress', () => {\n           if (!this._isMounted) {\n             this.subs && this.subs.remove();\n@@ -84,7 +98,7 @@\n       }\n \n       this.state = {\n-        nav: this._isStateful() && !props.persistenceKey ? Component.router.getStateForAction(this._initialAction) : null\n+        nav: this._isStateful() && !props.loadNavigationState ? Component.router.getStateForAction(this._initialAction) : null\n       };\n     }\n \n@@ -96,20 +110,6 @@\n       return isStateful(this.props);\n     }\n \n-    _validateProps(props) {\n-      if (this._isStateful()) {\n-        return;\n-      }\n-\n-      const { navigation, screenProps, ...containerProps } = props;\n-\n-      const keys = Object.keys(containerProps);\n-\n-      if (keys.length !== 0) {\n-        throw new Error('This navigator has both navigation and container props, so it is ' + `unclear if it should own its own state. Remove props: \"${keys.join(', ')}\" ` + 'if the navigator should get its state from the navigation prop. If the ' + 'navigator should maintain its own state, do not pass a navigation prop.');\n-      }\n-    }\n-\n     _handleOpenURL = ({ url }) => {\n       const { enableURLHandling, uriPrefix } = this.props;\n       if (enableURLHandling === false) {\n@@ -127,7 +127,6 @@\n \n     _onNavigationStateChange(prevNav, nav, action) {\n",
					"match": false,
					"packageHash": "9e462683001b7e405b4eb945bd31a852c7f756a1ebdd3a60c9f01743d1a49c43",
					"size": 11592,
					"sourceHash": "a1df5e293e07379bf33d2915ba502e09dbba0e449adbe79bd89ee5454c521e56",
					"status": "content"
				},
				"dist/createKeyboardAwareNavigator.js": {
					"diff": "--- published/dist/createKeyboardAwareNavigator.js\n+++ rebuilt/dist/createKeyboardAwareNavigator.js\n@@ -7,7 +7,7 @@\n   _previouslyFocusedTextInput = null;\n \n   render() {\n-    return <Navigator {...this.props} onGestureBegin={this._handleGestureBegin} onGestureCanceled={this._handleGestureCanceled} onGestureFinish={this._handleGestureFinish} onTransitionStart={this._handleTransitionStart} />;\n+    return <Navigator {...this.props} onGestureBegin={this._handleGestureBegin} onGestureCanceled={this._handleGestureCanceled} onGestureEnd={this._handleGestureEnd} onTransitionStart={this._handleTransitionStart} />;\n   }\n \n   _handleGestureBegin = () => {\n@@ -25,7 +25,7 @@\n     this.props.onGestureCanceled && this.props.onGestureCanceled();\n   };\n \n-  _handleGestureFinish = () => {\n+  _handleGestureEnd = () => {\n     this._previouslyFocusedTextInput = null;\n     this.props.onGestureFinish && this.props.onGestureFinish();\n   };\n",
					"match": false,
					"packageHash": "17ee569c27d561744827c670b5bd274c9cb5254b9d312834626e82bda913d4fc",
					"size": 1895,
					"sourceHash": "f5eac34148244e529106900122c1260922de8c86356eb9d324c9a1256bb36e96",
					"status": "content"
				},
				"dist/createNavigationAwareScrollable.js": {
					"diff": "--- published/dist/createNavigationAwareScrollable.js\n+++ rebuilt/dist/createNavigationAwareScrollable.js\n@@ -3,8 +3,8 @@\n import { withNavigation } from '@react-navigation/core';\n \n export default function createNavigationAwareScrollable(Component) {\n-  class ComponentWithNavigationScrolling extends React.PureComponent {\n-    static displayName = `NavigationAwareScrollable(${Component.displayName || Component.name})`;\n+  const ComponentWithNavigationScrolling = withNavigation(class extends React.PureComponent {\n+    static displayName = `withNavigationScrolling(${Component.displayName || Component.name})`;\n \n     componentDidMount() {\n       this._subscription = this.props.navigation.addListener('refocus', () => {\n@@ -14,6 +14,8 @@\n             scrollableNode.scrollToTop();\n           } else if (scrollableNode.scrollTo != null) {\n             scrollableNode.scrollTo({ y: 0 });\n+          } else if (scrollableNode.scrollResponderScrollTo != null) {\n+            scrollableNode.scrollResponderScrollTo({ y: 0 });\n           }\n         }\n       });\n@@ -44,7 +46,52 @@\n         this._scrollRef = view;\n       }} {...this.props} />;\n     }\n+  });\n+\n+  class NavigationAwareScrollable extends React.PureComponent {\n+    static displayName = `NavigationAwareScrollable(${Component.displayName || Component.name})`;\n+\n+    _captureRef = view => {\n+      this._innerRef = view;\n+      this.props.onRef && this.props.onRef(view);\n+    };\n+\n+    setNativeProps = (...args) => {\n+      return this._innerRef.getNode().setNativeProps(...args);\n+    };\n+\n+    getScrollResponder = (...args) => {\n+      return this._innerRef.getNode().getScrollResponder(...args);\n+    };\n+\n+    getScrollableNode = (...args) => {\n+      return this._innerRef.getNode().getScrollableNode(...args);\n+    };\n+\n+    getInnerViewNode = (...args) => {\n+      return this._innerRef.getNode().getInnerViewNode(...args);\n+    };\n+\n+    scrollTo = (...args) => {\n+      return this._innerRef.getNode().scrollTo(...args);\n+    };\n+\n+    scrollToEnd = (...args) => {\n+      return this._innerRef.getNode().scrollToEnd(...args);\n+    };\n+\n+    scrollWithoutAnimationTo = (...args) => {\n+      return this._innerRef.getNode().scrollWithoutAnimationTo(...args);\n+    };\n+\n+    flashScrollIndicators = (...args) => {\n+      return this._innerRef.getNode().flashScrollIndicators(...args);\n+    };\n+\n+    render() {\n+      return <ComponentWithNavigationScrolling {...this.props} onRef={this._captureRef} />;\n+    }\n   }\n \n-  return hoistStatics(withNavigation(ComponentWithNavigationScrolling), Component);\n+  return hoistStatics(NavigationAwareScrollable, Component);\n }\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "838dab16087a7000ca479b3aa965311cd100cae833d8d1c1f12e7bcc04a96840",
					"size": 1506,
					"sourceHash": "c764117fcaa7e582d68491a57605420d69a430df9ffc25aa970e04ef9ec3975f",
					"status": "content"
				},
				"dist/createNavigationContainer.js": {
					"match": false,
					"packageHash": "9e462683001b7e405b4eb945bd31a852c7f756a1ebdd3a60c9f01743d1a49c43",
					"size": 11592,
					"status": "missing-in-source"
				},
				"dist/index.js": {
					"diff": "--- published/dist/index.js\n+++ rebuilt/dist/index.js\n@@ -1,4 +1,4 @@\n-/* eslint disable import/no-commonjs */\n+/* eslint-disable import/no-commonjs */\n \n module.exports = {\n   get createAppContainer() {\n@@ -35,5 +35,15 @@\n \n   get SectionList() {\n     return require('./Scrollables').SectionList;\n+  },\n+  get Themed() {\n+    return require('./Themed').default;\n+  },\n+\n+  get createNavigationFactory() {\n+    return require('./throwIfWrongVersion').default;\n+  },\n+  get NavigationContainer() {\n+    return require('./throwIfWrongVersion').default;\n   }\n };\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "4c0d885e86b761fd62ac9b591563281bffc6571d35ee404475b76f2eff583a1a",
					"size": 856,
					"sourceHash": "cc2e72f99b8ae974f5db6212050f4f62290c62310535df2ce985e2f210f5e172",
					"status": "content"
				},
				"dist/utils/invariant.js": {
					"diff": "--- published/dist/utils/invariant.js\n+++ rebuilt/dist/utils/invariant.js\n@@ -9,7 +9,7 @@\n  * will remain to ensure logic does not differ in production.\n  */\n \n-var validateFormat = function (format) {};\n+var validateFormat = function () {};\n \n if (__DEV__) {\n   validateFormat = function (format) {\n@@ -40,4 +40,5 @@\n   }\n }\n \n+// eslint-disable-next-line import/no-commonjs\n module.exports = invariant;\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "c01b38bb507c95c2a67c2728809e2ec47a836c92f416194506aa4c0f97c8b05b",
					"size": 1241,
					"sourceHash": "f1ee819c20381e8125f39d537941d9cd40eb3d5a368c61e7752c27c8a120e2c2",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@react-navigation/native\",\n-  \"version\": \"3.0.0-alpha.9\",\n+  \"version\": \"3.6.5\",\n   \"description\": \"React Native support for React Navigation\",\n   \"main\": \"dist/index.js\",\n   \"files\": [\n@@ -14,7 +14,9 @@\n     \"test\": \"jest\",\n     \"lint\": \"eslint .\",\n     \"format\": \"eslint . --fix\",\n-    \"build\": \"babel --no-babelrc --plugins=syntax-jsx,syntax-class-properties,syntax-object-rest-spread,transform-flow-strip-types src --copy-files --out-dir dist --ignore '**/__tests__/**'\",\n+    \"babel\": \"babel --no-babelrc --plugins=syntax-jsx,syntax-class-properties,syntax-object-rest-spread,transform-flow-strip-types src --copy-files --ignore '**/__tests__/**'\",\n+    \"build\": \"yarn babel --out-dir dist\",\n+    \"dev\": \"yarn babel --watch src --out-dir example/node_modules/@react-navigation/native/dist\",\n     \"prepare\": \"yarn build\",\n     \"release\": \"release-it\"\n   },\n@@ -37,9 +39,13 @@\n     \"url\": \"https://github.com/react-navigation/react-navigation-native/issues\"\n   },\n   \"homepage\": \"https://github.com/react-navigation/react-navigation-native#readme\",\n+  \"dependencies\": {\n+    \"hoist-non-react-statics\": \"^3.3.2\",\n+    \"react-native-safe-area-view\": \"^0.14.8\"\n+  },\n   \"devDependencies\": {\n     \"@expo/vector-icons\": \"^6.2.0\",\n-    \"@react-navigation/core\": \"^3.0.0-alpha\",\n+    \"@react-navigation/core\": \"^3.5.0-alpha.4\",\n     \"babel-cli\": \"^6.26.0\",\n     \"babel-jest\": \"^22.4.1\",\n     \"babel-plugin-syntax-class-properties\": \"^6.13.0\",\n@@ -47,27 +53,26 @@\n     \"babel-plugin-syntax-object-rest-spread\": \"^6.13.0\",\n     \"babel-plugin-transform-flow-strip-types\": \"^6.22.0\",\n     \"babel-preset-react-native\": \"^4.0.0\",\n-    \"conventional-changelog-cli\": \"^2.0.5\",\n+    \"del-cli\": \"^1.1.0\",\n     \"eslint\": \"^4.12.1\",\n     \"eslint-config-satya164\": \"^1.0.1\",\n     \"eslint-plugin-react-native-globals\": \"^0.1.0\",\n     \"husky\": \"^0.14.3\",\n-    \"jest\": \"^22.1.3\",\n+    \"jest\": \"^23.6.0\",\n     \"prettier\": \"^1.8.2\",\n-    \"react\": \"16.3.1\",\n-    \"react-dom\": \"16.3.1\",\n-    \"react-native\": \"~0.55.4\",\n+    \"react\": \"16.6.3\",\n+    \"react-dom\": \"16.3.2\",\n+    \"react-native\": \"^0.57.7\",\n+    \"react-native-screens\": \"^2.0.0-alpha.32\",\n     \"react-navigation\": \"^2.11.2\",\n-    \"react-test-renderer\": \"16.3.1\",\n+    \"react-test-renderer\": \"16.6.3\",\n     \"release-it\": \"^7.6.1\"\n   },\n   \"peerDependencies\": {\n-    \"@react-navigation/core\": \"^3.0.0-alpha\",\n+    \"@react-navigation/core\": \"^3.0.0\",\n     \"react\": \"*\",\n     \"react-native\": \"*\",\n-    \"react-native-gesture-handler\": \"^1.0.0\",\n-    \"react-native-reanimated\": \"^1.0.0 || ^1.0.0-alpha\",\n-    \"react-native-screens\": \"^1.0.0 || ^1.0.0-alpha\"\n+    \"react-native-gesture-handler\": \"*\"\n   },\n   \"jest\": {\n     \"preset\": \"react-native\",\n@@ -88,9 +93,5 @@\n   \"prettier\": {\n     \"trailingComma\": \"es5\",\n     \"singleQuote\": true\n-  },\n-  \"dependencies\": {\n-    \"hoist-non-react-statics\": \"^3.0.1\",\n-    \"react-native-safe-area-view\": \"^0.11.0\"\n   }\n }\n",
					"match": false,
					"packageHash": "25740e1d37ce898da1bb173ab9ee55ac04b6c21d43290601ce50f89171361383",
					"size": 2897,
					"sourceHash": "248a33fbe3ef99300ad7583ce249bbf12cf006a5a36e7fd813009e1cc3668db9",
					"status": "content"
				},
				"src/ResourceSavingSceneView.js": {
					"diff": "--- published/src/ResourceSavingSceneView.js\n+++ rebuilt/src/ResourceSavingSceneView.js\n@@ -1,7 +1,5 @@\n import React from 'react';\n import { Platform, StyleSheet, View } from 'react-native';\n-import { polyfill } from 'react-lifecycles-compat';\n-\n import { SceneView } from '@react-navigation/core';\n \n const FAR_FAR_AWAY = 3000; // this should be big enough to move the whole view out of its container\n@@ -28,9 +26,7 @@\n     const {\n       isFocused,\n       childNavigation,\n-      navigation,\n       removeClippedSubviews,\n-      lazy,\n       ...rest\n     } = this.props;\n \n@@ -76,4 +72,4 @@\n   },\n });\n \n-export default polyfill(ResourceSavingSceneView);\n+export default ResourceSavingSceneView;\n",
					"match": false,
					"packageHash": "8427d9005b67d936dcc46534313ce378152e2a74d373c86326fc671ba0d3a92c",
					"size": 1759,
					"sourceHash": "a0ea258b8671d401549dc6e19c9d93cc4da0df7a0bb8a101a7363a38107bd33a",
					"status": "content"
				},
				"src/Scrollables.js": {
					"diff": "--- published/src/Scrollables.js\n+++ rebuilt/src/Scrollables.js\n@@ -1,15 +1,59 @@\n import React from 'react';\n-import { FlatList, SectionList } from 'react-native';\n-import { ScrollView } from 'react-native-gesture-handler';\n+import {\n+  ScrollView,\n+  Platform,\n+  FlatList,\n+  SectionList,\n+  RefreshControl,\n+} from 'react-native';\n+import { ScrollView as GHScrollView } from 'react-native-gesture-handler';\n import createNavigationAwareScrollable from './createNavigationAwareScrollable';\n+import invariant from './utils/invariant';\n \n-const WrappedScrollView = createNavigationAwareScrollable(ScrollView);\n+let WrappedScrollView;\n+if (Platform.OS === 'android') {\n+  // @todo: use GHScrollView again when\n+  // https://github.com/kmagiera/react-native-gesture-handler/issues/560 has\n+  // been fixed.\n+  WrappedScrollView = createNavigationAwareScrollable(ScrollView);\n+} else {\n+  WrappedScrollView = createNavigationAwareScrollable(GHScrollView);\n+}\n+\n+function propsMaybeWithRefreshControl(props) {\n+  const onRefresh = props.onRefresh;\n+  if (onRefresh) {\n+    invariant(\n+      typeof props.refreshing === 'boolean',\n+      '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' +\n+        JSON.stringify(props.refreshing) +\n+        '`'\n+    );\n+    return {\n+      ...props,\n+      refreshControl:\n+        props.refreshControl == null ? (\n+          <RefreshControl\n+            refreshing={props.refreshing}\n+            onRefresh={onRefresh}\n+            progressViewOffset={props.progressViewOffset}\n+          />\n+        ) : (\n+          props.refreshControl\n+        ),\n+    };\n+  } else {\n+    return props;\n+  }\n+}\n \n const WrappedFlatList = React.forwardRef((props, ref) => (\n   <FlatList\n     ref={ref}\n     {...props}\n-    renderScrollComponent={props => <WrappedScrollView {...props} />}\n+    renderScrollComponent={props => (\n+      <WrappedScrollView {...propsMaybeWithRefreshControl(props)} />\n+    )}\n   />\n ));\n \n@@ -17,10 +61,13 @@\n   <SectionList\n     ref={ref}\n     {...props}\n-    renderScrollComponent={props => <WrappedScrollView {...props} />}\n+    renderScrollComponent={props => (\n+      <WrappedScrollView {...propsMaybeWithRefreshControl(props)} />\n+    )}\n   />\n ));\n \n+// eslint-disable-next-line import/no-commonjs\n module.exports = {\n   ScrollView: WrappedScrollView,\n   FlatList: WrappedFlatList,\n",
					"match": false,
					"packageHash": "5ca709028ea7c249e8f18a3ff895d605e0a51c199d65f2337a3faa092e4a07b3",
					"size": 779,
					"sourceHash": "6342a8887eb0eae807aa94a6c442640cdb28959438fee1b000f97d6257f54ce1",
					"status": "content"
				},
				"src/__tests__/__snapshots__/createAppContainer-test.js.snap": {
					"diff": "--- published/src/__tests__/__snapshots__/createAppContainer-test.js.snap\n+++ rebuilt/src/__tests__/__snapshots__/createAppContainer-test.js.snap\n@@ -5,9 +5,15 @@\n   \"console\": [MockFunction] {\n     \"calls\": Array [\n       Array [\n-        \"You should only render one navigator explicitly in your app, and other navigators should by rendered by including them in that navigator. Full details at: https://reactnavigation.org/docs/common-mistakes.html#explicitly-rendering-more-than-one-navigator\",\n+        \"You should only render one navigator explicitly in your app, and other navigators should be rendered by including them in that navigator. Full details at: https://reactnavigation.org/docs/common-mistakes.html#explicitly-rendering-more-than-one-navigator\",\n       ],\n     ],\n+    \"results\": Array [\n+      Object {\n+        \"isThrow\": false,\n+        \"value\": undefined,\n+      },\n+    ],\n   },\n }\n `;\n",
					"match": false,
					"packageHash": "f53cb3d168cbabd8bf66e8dd58abc68c34867425e620b8d8735cb8dc530b2bab",
					"size": 532,
					"sourceHash": "40a90be0267ed078cb50a124b73fb3b16871b4e9a45aced420a194e1bed12b6c",
					"status": "content"
				},
				"src/__tests__/createAppContainer-test.js": {
					"diff": "--- published/src/__tests__/createAppContainer-test.js\n+++ rebuilt/src/__tests__/createAppContainer-test.js\n@@ -16,9 +16,7 @@\n \n function createStackNavigator(routeConfigMap, stackConfig = {}) {\n   const router = StackRouter(routeConfigMap, stackConfig);\n-  return createAppContainer(\n-    createNavigator(SwitchView, router, stackConfig)\n-  );\n+  return createAppContainer(createNavigator(SwitchView, router, stackConfig));\n }\n \n describe('NavigationContainer', () => {\n@@ -274,4 +272,132 @@\n       });\n     });\n   });\n+\n+  // https://github.com/facebook/jest/issues/2157#issuecomment-279171856\n+  const flushPromises = () => new Promise(resolve => setImmediate(resolve));\n+\n+  describe('state persistence', () => {\n+    async function createPersistenceEnabledContainer(\n+      loadNavigationState,\n+      persistNavigationState = jest.fn()\n+    ) {\n+      const navContainer = renderer\n+        .create(\n+          <NavigationContainer\n+            persistNavigationState={persistNavigationState}\n+            loadNavigationState={loadNavigationState}\n+          />\n+        )\n+        .getInstance();\n+\n+      // wait for loadNavigationState() to resolve\n+      await flushPromises();\n+      return navContainer;\n+    }\n+\n+    it('loadNavigationState is called upon mount and persistNavigationState is called on a nav state change', async () => {\n+      const persistNavigationState = jest.fn();\n+      const loadNavigationState = jest.fn().mockResolvedValue({\n+        index: 1,\n+        routes: [{ routeName: 'foo' }, { routeName: 'bar' }],\n+      });\n+\n+      const navigationContainer = await createPersistenceEnabledContainer(\n+        loadNavigationState,\n+        persistNavigationState\n+      );\n+      expect(loadNavigationState).toHaveBeenCalled();\n+\n+      // wait for setState done\n+      jest.runOnlyPendingTimers();\n+\n+      navigationContainer.dispatch(\n+        NavigationActions.navigate({ routeName: 'foo' })\n+      );\n+      jest.runOnlyPendingTimers();\n+      expect(persistNavigationState).toHaveBeenCalledWith({\n+        index: 0,\n+        isTransitioning: true,\n+        routes: [{ routeName: 'foo' }],\n+      });\n+    });\n+\n+    it('when persistNavigationState rejects, a console warning is shown', async () => {\n+      const consoleSpy = jest.spyOn(console, 'warn');\n+      const persistNavigationState = jest\n+        .fn()\n+        .mockRejectedValue(new Error('serialization failed'));\n+      const loadNavigationState = jest.fn().mockResolvedValue(null);\n+\n+      const navigationContainer = await createPersistenceEnabledContainer(\n+        loadNavigationState,\n+        persistNavigationState\n+      );\n+\n+      // wait for setState done\n+      jest.runOnlyPendingTimers();\n+\n+      navigationContainer.dispatch(\n+        NavigationActions.navigate({ routeName: 'baz' })\n+      );\n+      jest.runOnlyPendingTimers();\n+      await flushPromises();\n+\n+      expect(consoleSpy).toHaveBeenCalledWith(expect.any(String));\n+    });\n+\n+    it('when loadNavigationState rejects, navigator ignores the rejection and starts from the initial state', async () => {\n+      const loadNavigationState = jest\n+        .fn()\n+        .mockRejectedValue(new Error('deserialization failed'));\n+\n+      const navigationContainer = await createPersistenceEnabledContainer(\n+        loadNavigationState\n+      );\n+\n",
					"match": false,
					"packageHash": "0a14cc0f2c429706b976347a5135bd3d3cc442458885f3514c31748361c0bf31",
					"size": 7175,
					"sourceHash": "48e73cd2430eaf94c18862084d85e11c266bde1cce68d4f88265f073cdc7e34f",
					"status": "content"
				},
				"src/createAppContainer.js": {
					"diff": "--- published/src/createAppContainer.js\n+++ rebuilt/src/createAppContainer.js\n@@ -1,11 +1,11 @@\n import React from 'react';\n-import { AsyncStorage, Linking, Platform, BackHandler } from 'react-native';\n-import { polyfill } from 'react-lifecycles-compat';\n-\n+import { Linking, Platform, BackHandler } from 'react-native';\n import {\n   NavigationActions,\n+  ThemeProvider,\n   pathUtils,\n   getNavigation,\n+  NavigationProvider,\n } from '@react-navigation/core';\n import invariant from './utils/invariant';\n import docsUrl from './utils/docsUrl';\n@@ -17,11 +17,27 @@\n }\n \n function validateProps(props) {\n+  if (props.persistenceKey) {\n+    console.warn(\n+      'You passed persistenceKey prop to a navigator. ' +\n+        'The persistenceKey prop was replaced by a more flexible persistence mechanism, ' +\n+        'please see the navigation state persistence docs for more information. ' +\n+        'Passing the persistenceKey prop is a no-op.'\n+    );\n+  }\n   if (isStateful(props)) {\n     return;\n   }\n-\n-  const { navigation, screenProps, ...containerProps } = props;\n+  /* eslint-disable no-unused-vars */\n+  const {\n+    navigation,\n+    screenProps,\n+    persistNavigationState,\n+    loadNavigationState,\n+    theme,\n+    ...containerProps\n+  } = props;\n+  /* eslint-enable no-unused-vars */\n \n   const keys = Object.keys(containerProps);\n \n@@ -35,6 +51,13 @@\n         'navigator should maintain its own state, do not pass a navigation prop.'\n     );\n   }\n+  invariant(\n+    (persistNavigationState === undefined &&\n+      loadNavigationState === undefined) ||\n+      (typeof persistNavigationState === 'function' &&\n+        typeof loadNavigationState === 'function'),\n+    'both persistNavigationState and loadNavigationState must either be undefined, or be functions'\n+  );\n }\n \n // Track the number of stateful container instances. Warn if >0 and not using the\n@@ -67,7 +90,11 @@\n     static router = Component.router;\n     static navigationOptions = null;\n \n-    static getDerivedStateFromProps(nextProps, prevState) {\n+    static defaultProps = {\n+      theme: 'light',\n+    };\n+\n+    static getDerivedStateFromProps(nextProps) {\n       validateProps(nextProps);\n       return null;\n     }\n@@ -81,7 +108,11 @@\n \n       this._initialAction = NavigationActions.init();\n \n-      if (this._isStateful()) {\n+      if (\n+        this._isStateful() &&\n+        BackHandler &&\n+        typeof BackHandler.addEventListener === 'function'\n+      ) {\n         this.subs = BackHandler.addEventListener('hardwareBackPress', () => {\n           if (!this._isMounted) {\n             this.subs && this.subs.remove();\n@@ -96,7 +127,7 @@\n \n       this.state = {\n         nav:\n-          this._isStateful() && !props.persistenceKey\n+          this._isStateful() && !props.loadNavigationState\n             ? Component.router.getStateForAction(this._initialAction)\n             : null,\n       };\n@@ -112,27 +143,6 @@\n       return isStateful(this.props);\n     }\n \n",
					"match": false,
					"packageHash": "a152d4c5bff41ce54631426d1d78dc5588514f718f96da47efed7ac7f6f9772b",
					"size": 12188,
					"sourceHash": "093ef2eac87f46547ef6c546c8fe163596caac31cc9e6e5563f1ca92b9ad5406",
					"status": "content"
				},
				"src/createKeyboardAwareNavigator.js": {
					"diff": "--- published/src/createKeyboardAwareNavigator.js\n+++ rebuilt/src/createKeyboardAwareNavigator.js\n@@ -13,7 +13,7 @@\n           {...this.props}\n           onGestureBegin={this._handleGestureBegin}\n           onGestureCanceled={this._handleGestureCanceled}\n-          onGestureFinish={this._handleGestureFinish}\n+          onGestureEnd={this._handleGestureEnd}\n           onTransitionStart={this._handleTransitionStart}\n         />\n       );\n@@ -34,7 +34,7 @@\n       this.props.onGestureCanceled && this.props.onGestureCanceled();\n     };\n \n-    _handleGestureFinish = () => {\n+    _handleGestureEnd = () => {\n       this._previouslyFocusedTextInput = null;\n       this.props.onGestureFinish && this.props.onGestureFinish();\n     };\n",
					"match": false,
					"packageHash": "fa2020faf666b8329c963d5627ec1d7941e9ace0f38e14efa101241a2bb03416",
					"size": 2062,
					"sourceHash": "3d06ee760673a444cb9fca72365d3352730d2ccf2423914349607137cc0a6dad",
					"status": "content"
				},
				"src/createNavigationAwareScrollable.js": {
					"diff": "--- published/src/createNavigationAwareScrollable.js\n+++ rebuilt/src/createNavigationAwareScrollable.js\n@@ -3,59 +3,114 @@\n import { withNavigation } from '@react-navigation/core';\n \n export default function createNavigationAwareScrollable(Component: any) {\n-  class ComponentWithNavigationScrolling extends React.PureComponent<any> {\n-    static displayName = `NavigationAwareScrollable(${Component.displayName ||\n-      Component.name})`;\n-\n-    _subscription: any;\n-\n-    componentDidMount() {\n-      this._subscription = this.props.navigation.addListener('refocus', () => {\n-        const scrollableNode = this.getNode();\n-        if (this.props.navigation.isFocused() && scrollableNode !== null) {\n-          if (scrollableNode.scrollToTop != null) {\n-            scrollableNode.scrollToTop();\n-          } else if (scrollableNode.scrollTo != null) {\n-            scrollableNode.scrollTo({ y: 0 });\n+  const ComponentWithNavigationScrolling = withNavigation(\n+    class extends React.PureComponent<any> {\n+      static displayName = `withNavigationScrolling(${Component.displayName ||\n+        Component.name})`;\n+\n+      _subscription: any;\n+\n+      componentDidMount() {\n+        this._subscription = this.props.navigation.addListener(\n+          'refocus',\n+          () => {\n+            const scrollableNode = this.getNode();\n+            if (this.props.navigation.isFocused() && scrollableNode !== null) {\n+              if (scrollableNode.scrollToTop != null) {\n+                scrollableNode.scrollToTop();\n+              } else if (scrollableNode.scrollTo != null) {\n+                scrollableNode.scrollTo({ y: 0 });\n+              } else if (scrollableNode.scrollResponderScrollTo != null) {\n+                scrollableNode.scrollResponderScrollTo({ y: 0 });\n+              }\n+            }\n           }\n+        );\n+      }\n+\n+      getNode() {\n+        if (this._scrollRef === null) {\n+          return null;\n         }\n-      });\n-    }\n \n-    getNode() {\n-      if (this._scrollRef === null) {\n-        return null;\n+        if (this._scrollRef.getScrollResponder) {\n+          return this._scrollRef.getScrollResponder();\n+        } else if (this._scrollRef.getNode) {\n+          return this._scrollRef.getNode();\n+        } else {\n+          return this._scrollRef;\n+        }\n       }\n \n-      if (this._scrollRef.getScrollResponder) {\n-        return this._scrollRef.getScrollResponder();\n-      } else if (this._scrollRef.getNode) {\n-        return this._scrollRef.getNode();\n-      } else {\n-        return this._scrollRef;\n+      componentWillUnmount() {\n+        if (this._subscription != null) {\n+          this._subscription.remove();\n+        }\n       }\n-    }\n \n-    componentWillUnmount() {\n-      if (this._subscription != null) {\n-        this._subscription.remove();\n+      render() {\n+        return (\n+          <Component\n+            ref={view => {\n+              this._scrollRef = view;\n+            }}\n+            {...this.props}\n+          />\n+        );\n       }\n     }\n+  );\n+\n+  class NavigationAwareScrollable extends React.PureComponent<any> {\n+    static displayName = `NavigationAwareScrollable(${Component.displayName ||\n+      Component.name})`;\n+\n+    _captureRef = view => {\n+      this._innerRef = view;\n+      this.props.onRef && this.props.onRef(view);\n",
					"match": false,
					"packageHash": "465d3226a7c5ee6849e7352f4cd67ce71c43897581f96b3b84e08bbc093cb8d3",
					"size": 1614,
					"sourceHash": "4af8c6295f0bff42b4df7e2218a57fa24acad32737eb19763c9afe6de9efab5a",
					"status": "content"
				},
				"src/index.js": {
					"diff": "--- published/src/index.js\n+++ rebuilt/src/index.js\n@@ -1,4 +1,4 @@\n-/* eslint disable import/no-commonjs */\n+/* eslint-disable import/no-commonjs */\n \n module.exports = {\n   get createAppContainer() {\n@@ -36,4 +36,14 @@\n   get SectionList() {\n     return require('./Scrollables').SectionList;\n   },\n+  get Themed() {\n+    return require('./Themed').default;\n+  },\n+\n+  get createNavigationFactory() {\n+    return require('./throwIfWrongVersion').default;\n+  },\n+  get NavigationContainer() {\n+    return require('./throwIfWrongVersion').default;\n+  },\n };\n",
					"match": false,
					"packageHash": "27b11adeaae2ba192993eb83b59f6c4195cae3cf9cac18d9ce8511c26389b12e",
					"size": 858,
					"sourceHash": "f5b804057b644e963ff26701dec50c519172e537b394e97a291f4fe4061011e6",
					"status": "content"
				},
				"src/utils/invariant.js": {
					"diff": "--- published/src/utils/invariant.js\n+++ rebuilt/src/utils/invariant.js\n@@ -9,7 +9,7 @@\n  * will remain to ensure logic does not differ in production.\n  */\n \n-var validateFormat = function(format) {};\n+var validateFormat = function() {};\n \n if (__DEV__) {\n   validateFormat = function(format) {\n@@ -44,4 +44,5 @@\n   }\n }\n \n+// eslint-disable-next-line import/no-commonjs\n module.exports = invariant;\n",
					"match": false,
					"packageHash": "83034949b399618ea6bbc8b4ff98c18188c7deaa3bfd87a26ce6b093e88c5e8a",
					"size": 1275,
					"sourceHash": "17750bd6f25c555d611bbd70d0df7aab19f9810e31355dd02ed2e9e62c750771",
					"status": "content"
				},
				"dist/Themed.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"dist/throwIfWrongVersion.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/Themed.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/throwIfWrongVersion.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 18,
				"matchingFiles": 7,
				"missingInPackage": 4,
				"missingInSource": 1,
				"score": 0.23333333333333334,
				"totalFiles": 30
			}
		},
		"prodDependencies": [
			{
				"name": "hoist-non-react-statics",
				"version": "3.3.2"
			},
			{
				"name": "react-is",
				"version": "16.9.0"
			},
			{
				"name": "react-native-safe-area-view",
				"version": "0.14.8"
			},
			{
				"name": "hoist-non-react-statics",
				"version": "2.5.5"
			}
		]
	}
]
