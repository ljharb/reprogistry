[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2025-12-30T21:53:55.645Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "esm@3.0.0",
			"name": "esm",
			"version": "3.0.0",
			"location": "https://registry.npmjs.org/esm/-/esm-3.0.0.tgz",
			"integrity": "sha512-OuMRclaoXA/6hdwnYc+6JIIw9od0dWR5T8hI8mL/iHtIESEBOw0yJjO1BYSJRNPXpEu5i8DUv2pkUA8ubveONw==",
			"publishedAt": "2018-03-10T20:52:24.033Z",
			"publishedWith": {
				"node": "9.7.0",
				"npm": "5.7.1"
			}
		},
		"source": {
			"integrity": "sha512-/Qhfnrz8TcEIHhqQRo2lfj2ClU2YNtTqt7cKwAyLw/xhgODZtp123zMN/EKA0jF1WmWi4TamKlJBteEXxrXxkw==",
			"location": "git+https://github.com/standard-things/esm.git",
			"spec": "github:standard-things/esm#48e75e96ea88941e662d52b124b2d1c4f6109394"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -73,12 +73,126 @@\n * JSON6 or file path in the `ESM_OPTIONS` environment variable\n * CJS/ESM in an `.esmrc.js` or `.esmrc.mjs` file\n \n-<table><tr><td colspan=2><code>{</code><tr><td valign=top><code>\"mode\":</code><td><p>A string mode:<ul><li><code>\"auto\"</code> detect files with <code>import</code>, <code>import.meta</code>, <code>export</code>, <a href=https://github.com/tc39/proposal-modules-pragma><code>\"use module\"</code></a>, or <code>.mjs</code> as ESM<li><code>\"all\"</code> script files are treated as ESM<li><code>\"strict\"</code> to treat <strong>only</strong> <code>.mjs</code> files as ESM</ul><tr><td valign=top><code>\"cjs\":</code><td><p>A boolean or object for toggling CJS features in ESM.<details><summary>Features</summary><table><tr><td colspan=2><code>{</code><tr><td valign=top><code>\"cache\":</code><td><p>A boolean for storing ES modules in <code>require.cache</code>.<tr><td valign=top><code>\"extensions\":</code><td><p>A boolean for respecting <code>require.extensions</code> in ESM.<tr><td valign=top><code>\"interop\":</code><td><p>A boolean for <code>__esModule</code> interoperability.<tr><td valign=top><code>\"namedExports\":</code><td><p>A boolean for <a href=https://ponyfoo.com/articles/es6-modules-in-depth#importing-named-exports>importing named exports</a> of CJS modules.<tr><td valign=top><code>\"paths\":</code><td><p>A boolean for following CJS <a href=https://github.com/nodejs/node-eps/blob/master/002-es-modules.md#432-removal-of-non-local-dependencies>path rules</a> in ESM.<tr><td valign=top><code>\"topLevelReturn\":</code><td><p>A boolean for <a href=http://stackoverflow.com/questions/28955047/why-does-a-module-level-return-statement-work-in-node-js/#28955050>top-level <code>return</code></a>.<tr><td valign=top><code>\"vars\":</code><td><p>A boolean for <code>__dirname</code>, <code>__filename</code>, and <code>require</code> in ESM.<tr><td colspan=2><code>}</code></table></details><tr><td valign=top><code>\"await\":</code><td><p>A boolean for <a href=https://github.com/MylesBorins/proposal-top-level-await#variant-c-top-level-await-can-only-be-used-in-modules-without-exports>top-level <code>await</code></a> in modules without ESM exports. <i>(requires Node 7.6+)</i><tr><td colspan=2><code>}</code></table>\n+<table>\n+<tr>\n+  <td colspan=\"2\"><code>{</code></td>\n+</tr>\n+<tr>\n+  <td valign=\"top\"><code>\"mode\":</code></td>\n+  <td>\n+    <p>A string mode:</p>\n+    <ul>\n+      <li><code>\"auto\"</code> detect files with <code>import</code>, <code>import.meta</code>, <code>export</code>, <a href=\"https://github.com/tc39/proposal-modules-pragma\"><code>\"use module\"</code></a>, or <code>.mjs</code> as ESM</li>\n+      <li><code>\"all\"</code> script files are treated as ESM</li>\n+      <li><code>\"strict\"</code> to treat <strong>only</strong> <code>.mjs</code> files as ESM</li>\n+    </ul>\n+  </td>\n+</tr>\n+<tr>\n+  <td valign=\"top\"><code>\"cjs\":</code></td>\n+  <td>\n+    <p>A boolean or object for toggling CJS features in ESM.</p>\n+    <details>\n+      <summary>Features</summary>\n+      <table>\n+      <tr>\n+        <td colspan=\"2\"><code>{</code></td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"cache\":</code></td>\n+        <td>\n+          <p>A boolean for storing ES modules in <code>require.cache</code>.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"extensions\":</code></td>\n+        <td>\n+          <p>A boolean for respecting <code>require.extensions</code> in ESM.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"interop\":</code></td>\n+        <td>\n+          <p>A boolean for <code>__esModule</code> interoperability.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"namedExports\":</code></td>\n+        <td>\n+          <p>A boolean for <a href=\"https://ponyfoo.com/articles/es6-modules-in-depth#importing-named-exports\">importing named exports</a> of CJS modules.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"paths\":</code></td>\n+        <td>\n+          <p>A boolean for following CJS <a href=\"https://github.com/nodejs/node-eps/blob/master/002-es-modules.md#432-removal-of-non-local-dependencies\">path rules</a> in ESM.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"topLevelReturn\":</code></td>\n+        <td>\n+          <p>A boolean for <a href=\"http://stackoverflow.com/questions/28955047/why-does-a-module-level-return-statement-work-in-node-js/#28955050\">top-level <code>return</code></a>.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td valign=\"top\"><code>\"vars\":</code></td>\n+        <td>\n+          <p>A boolean for <code>__dirname</code>, <code>__filename</code>, and <code>require</code> in ESM.</p>\n+        </td>\n+      </tr>\n+      <tr>\n+        <td colspan=\"2\"><code>}</code></td>\n+      </tr>\n+      </table>\n+    </details>\n+  </td>\n+</tr>\n+<tr>\n+  <td valign=\"top\"><code>\"await\":</code></td>\n+  <td>\n+    <p>A boolean for <a href=\"https://github.com/MylesBorins/proposal-top-level-await#variant-c-top-level-await-can-only-be-used-in-modules-without-exports\">top-level <code>await</code></a> in modules without ESM exports. <i>(requires Node 7.6+)</i></p>\n+  </td>\n+</tr>\n+<tr>\n+  <td colspan=\"2\"><code>}</code></td>\n+</tr>\n+</table>\n \n DevOpts\n ---\n \n-<table><tr><td colspan=2><code>{</code><tr><td valign=top><code>\"cache\":</code><td><p>A boolean for toggling cache creation or string path of the cache directory.<tr><td valign=top><code>\"debug\":</code><td><p>A boolean for unmasking stack traces.<tr><td valign=top><code>\"sourceMap\":</code><td><p>A boolean for including inline source maps.<tr><td valign=top><code>\"warnings\":</code><td><p>A boolean for logging development parse and runtime warnings.<tr><td colspan=2><code>}</code></table>\n+<table>\n+<tr>\n+  <td colspan=\"2\"><code>{</code></td>\n+</tr>\n",
					"match": false,
					"packageHash": "f9e2b71c0b10e6d5241abe9ae1b24fa6a1d154513a4cb83a24d555fd65ca3efb",
					"size": 6029,
					"sourceHash": "1e4850220d7e220eb1abcbf0d7ef962686fa59d9a74f4a9b4269be8927f4a416",
					"status": "content"
				},
				"esm.js": {
					"match": false,
					"packageHash": "c6eaae87a6d01bc5fcbf6734d77087c06885e69821527a0f9e9e64fd54a66c47",
					"size": 202579,
					"status": "missing-in-source"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1 +1,144 @@\n-\"use strict\";const{existsSync:e,mkdirSync:r,readFileSync:t,unlinkSync:n,writeFileSync:c}=require(\"fs\"),{Script:o}=require(\"vm\"),{createHash:u}=require(\"crypto\"),{inspect:l}=require(\"util\"),{resolve:a}=require(\"path\"),i=module.constructor.length>1,{versions:s}=process,d=s.chakracore,_=s.v8||d,f=process.version,{defineProperty:m}=Reflect,{freeze:p}=Object,{runInNewContext:h,runInThisContext:y}=o.prototype,q=i?module.constructor:require(\"module\"),b=new q(module.id,null),g=i?require:e=>b.require(e);function v(){const r=a(__dirname,\"node_modules\"),t=D(f+\"\\0\"+_)+\".blob\",n=a(r,\".cache\"),c=a(n,t),u=j(c),l=a(__dirname,\"esm.js\"),i=new o(\"(function(require,module,__shared__){\"+j(l,\"utf8\")+\"\\n})\",{__proto__:null,cachedData:u,filename:l,produceCachedData:!0});let s=!1,m=null;const{cachedDataRejected:p}=i;if(i.cachedDataProduced&&!p?(s=!u,m=i.cachedData):u&&p&&(s=!0),s)if(m){let t=!1;e(r)?t=!0:w(r)&&w(n)&&(t=!0),t&&C(c,m)}else k(c);const q={__proto__:null,filename:l};return d?y.call(i,q):h.call(i,{__proto__:null,global:global},q)}function x(){return F(g,b,__shared__),b.exports}function S(e,r){return x()(e,r)}function D(e){return u(\"md5\").update(e).digest(\"hex\")}function w(e){try{return r(e),!0}catch(e){}return!1}function j(e,r){try{return t(e,r)}catch(e){}}function k(e){try{return n(e)}catch(e){}}function C(e,r){try{return c(e,r)}catch(e){}}b.filename=__filename,b.parent=module.parent;const F=v(),I=l.custom||\"inspect\";let __shared__;__shared__=x(),__shared__.global=global,m(S,I,{__proto__:null,value:()=>\"esm enabled\"}),p(S),module.exports=S;\n\\ No newline at end of file\n+/* eslint strict: off, node/no-unsupported-features: [\"error\", { version: 6 }] */\n+\"use strict\"\n+\n+const { existsSync, mkdirSync, readFileSync, unlinkSync, writeFileSync } = require(\"fs\")\n+const { Script } = require(\"vm\")\n+const { createHash } = require(\"crypto\")\n+const { inspect } = require(\"util\")\n+const { resolve } = require(\"path\")\n+\n+// Guard against mocked environments (e.g. Jest).\n+const useBuiltins = module.constructor.length > 1\n+\n+const { versions } = process\n+const chakraVersion = versions.chakracore\n+const engineVersion = versions.v8 || chakraVersion\n+const nodeVersion = process.version\n+\n+const { defineProperty } = Reflect\n+const { freeze } = Object\n+const { runInNewContext, runInThisContext } = Script.prototype\n+\n+const Module = useBuiltins ? module.constructor : require(\"module\")\n+const esmMod = new Module(module.id, null)\n+const esmReq = useBuiltins ? require : (request) => esmMod.require(request)\n+\n+esmMod.filename = __filename\n+esmMod.parent = module.parent\n+\n+function compileESM() {\n+  const nodeModulesPath = resolve(__dirname, \"node_modules\")\n+  const cacheName = md5(nodeVersion + \"\\0\" + engineVersion) + \".blob\"\n+  const cachePath = resolve(nodeModulesPath, \".cache\")\n+  const cacheFilename = resolve(cachePath, cacheName)\n+  const cachedData = readFile(cacheFilename)\n+  const filename = resolve(__dirname, \"esm.js\")\n+\n+  const script = new Script(\n+    \"(function(require,module,__shared__){\" +\n+    readFile(filename, \"utf8\") +\n+    \"\\n})\", {\n+    __proto__: null,\n+    cachedData,\n+    filename,\n+    produceCachedData: true\n+  })\n+\n+  let changed = false\n+  let scriptData = null\n+\n+  const { cachedDataRejected } = script\n+\n+  if (script.cachedDataProduced &&\n+      ! cachedDataRejected) {\n+    changed = ! cachedData\n+    scriptData = script.cachedData\n+  } else if (cachedData &&\n+      cachedDataRejected) {\n+    changed = true\n+  }\n+\n+  if (changed) {\n+    if (scriptData) {\n+      let canWrite = false\n+\n+      if (existsSync(nodeModulesPath)) {\n+        canWrite = true\n+      } else if (mkdir(nodeModulesPath) &&\n+          mkdir(cachePath)) {\n+        canWrite = true\n+      }\n+\n+      if (canWrite) {\n+        writeFile(cacheFilename, scriptData)\n+      }\n+    } else {\n+      removeFile(cacheFilename)\n+    }\n+  }\n+\n+  const options = { __proto__: null, filename }\n+\n+  return chakraVersion\n+    ? runInThisContext.call(script, options)\n+    : runInNewContext.call(script, { __proto__: null, global }, options)\n+}\n+\n+function loadESM() {\n+  compiledESM(esmReq, esmMod, __shared__)\n+  return esmMod.exports\n+}\n+\n+function makeRequireFunction(mod, options) {\n+  return loadESM()(mod, options)\n+}\n+\n",
					"match": false,
					"packageHash": "27d0cbb476c2b21b3204146285998d19cabbd850c1545980f7a542f1af752278",
					"size": 1553,
					"sourceHash": "024e844d68b5268075a62a8f5b84c76cabb650da4dc22d944f2e8299ccb1b766",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -7,11 +7,73 @@\n   \"license\": \"MIT\",\n   \"author\": \"John-David Dalton <john.david.dalton@gmail.com>\",\n   \"main\": \"index.js\",\n+  \"private\": true,\n+  \"esm\": true,\n   \"engines\": {\n     \"node\": \">=6\"\n   },\n   \"scripts\": {\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"precommit\": \"npm run lint\",\n+    \"prelint\": \"npm run pretest\",\n+    \"prepub\": \"npm run test:prod\",\n+    \"pretest\": \"npm run build -- --test\",\n+    \"pretest:prod\": \"npm run build:prod -- --test\",\n+    \"build\": \"node script/build.js\",\n+    \"build:prod\": \"npm run build -- --prod\",\n+    \"clean\": \"node script/clean.js\",\n+    \"lint\": \"eslint '**/*.{js,mjs}' --fix --quiet\",\n+    \"pub\": \"node script/publish.js\",\n+    \"test\": \"node script/test.js\",\n+    \"test:prod\": \"node script/test.js --prod\"\n+  },\n+  \"devDependencies\": {\n+    \"@babel/core\": \"^7.0.0-beta.40\",\n+    \"@babel/plugin-proposal-class-properties\": \"^7.0.0-beta.40\",\n+    \"@babel/plugin-transform-block-scoping\": \"^7.0.0-beta.40\",\n+    \"@babel/plugin-transform-flow-strip-types\": \"^7.0.0-beta.40\",\n+    \"@babel/plugin-transform-runtime\": \"^7.0.0-beta.40\",\n+    \"@babel/polyfill\": \"^7.0.0-beta.40\",\n+    \"@babel/preset-env\": \"^7.0.0-beta.40\",\n+    \"@babel/register\": \"^7.0.0-beta.40\",\n+    \"@babel/runtime\": \"^7.0.0-beta.40\",\n+    \"acorn\": \"^5.5.3\",\n+    \"ava\": \"^0.25.0\",\n+    \"babel-eslint\": \"^8.2.1\",\n+    \"babel-loader\": \"^8.0.0-beta.2\",\n+    \"babel-plugin-transform-for-of-as-array\": \"^1.1.1\",\n+    \"babel-plugin-transform-remove-console\": \"^6.9.0\",\n+    \"chai\": \"^4.1.2\",\n+    \"download\": \"^6.2.5\",\n+    \"eslint\": \"^4.18.2\",\n+    \"eslint-plugin-import\": \"^2.9.0\",\n+    \"eslint-plugin-node\": \"^6.0.1\",\n+    \"execa\": \"^0.9.0\",\n+    \"express\": \"^4.16.2\",\n+    \"fs-extra\": \"^5.0.0\",\n+    \"global-prefix\": \"^1.0.2\",\n+    \"globby\": \"^8.0.1\",\n+    \"html-minifier\": \"^3.5.10\",\n+    \"husky\": \"^0.14.3\",\n+    \"jest\": \"^22.4.2\",\n+    \"json-6\": \"^0.1.128\",\n+    \"mocha\": \"^5.0.2\",\n+    \"mock-require\": \"^3.0.1\",\n+    \"mock-stdio\": \"^1.0.0\",\n+    \"nop\": \"^1.0.0\",\n+    \"nyc\": \"^11.5.0\",\n+    \"optimize-js-plugin\": \"0.0.4\",\n+    \"pm2\": \"^2.10.1\",\n+    \"postcss\": \"^6.0.19\",\n+    \"semver\": \"^5.5.0\",\n+    \"sleep\": \"^5.1.1\",\n+    \"trash\": \"^4.3.0\",\n+    \"typescript\": \"^2.6.1\",\n+    \"uglify-es\": \"^3.3.10\",\n+    \"uglifyjs-webpack-plugin\": \"^1.2.2\",\n+    \"webpack\": \"^3.10.0\",\n+    \"webpack-bundle-analyzer\": \"^2.10.1\",\n+    \"webpack-common-shake\": \"^1.5.3\",\n+    \"yargs\": \"^11.1.0\"\n   },\n   \"files\": [\n     \"index.js\",\n",
					"match": false,
					"packageHash": "1dc8c0af67e940da1d0bd3f3695636eeff946de67145d8f4d398ede66fc3368a",
					"size": 469,
					"sourceHash": "0668f523f495709d6848d805901c9753e97f27976b39db135b84e03e03bbce05",
					"status": "content"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 1,
				"missingInPackage": 0,
				"missingInSource": 1,
				"score": 0.2,
				"totalFiles": 5
			}
		}
	}
]
