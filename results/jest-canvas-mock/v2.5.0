[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-04T19:59:31.953Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:6.14.17",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "jest-canvas-mock@2.5.0",
			"name": "jest-canvas-mock",
			"version": "2.5.0",
			"location": "https://registry.npmjs.org/jest-canvas-mock/-/jest-canvas-mock-2.5.0.tgz",
			"integrity": "sha512-s2bmY2f22WPMzhB2YA93kiyf7CAfWAnV/sFfY9s48IVOrGmwui1eSFluDPesq1M+7tSC1hJAit6mzO0ZNXvVBA==",
			"publishedAt": "2023-03-23T13:19:46.853Z",
			"publishedWith": {
				"node": "14.21.1",
				"npm": "6.14.17"
			}
		},
		"source": {
			"integrity": null,
			"location": "git+https://github.com/hustcc/jest-canvas-mock.git",
			"spec": "github:hustcc/jest-canvas-mock#002c8db7acb2239ffd2fc3f76d29424bd29be3d5"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"lib/classes/CanvasRenderingContext2D.js": {
					"diff": "--- published/lib/classes/CanvasRenderingContext2D.js\n+++ rebuilt/lib/classes/CanvasRenderingContext2D.js\n@@ -11,10 +11,10 @@\n var _createCanvasEvent = _interopRequireDefault(require(\"../mock/createCanvasEvent\"));\n var _Path2D = _interopRequireDefault(require(\"./Path2D\"));\n var _mooColor = require(\"moo-color\");\n-function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n const testFuncs = ['setLineDash', 'getLineDash', 'setTransform', 'getTransform', 'getImageData', 'save', 'restore', 'createPattern', 'createRadialGradient', 'addHitRegion', 'arc', 'arcTo', 'beginPath', 'clip', 'closePath', 'scale', 'stroke', 'clearHitRegions', 'clearRect', 'fillRect', 'strokeRect', 'rect', 'resetTransform', 'translate', 'moveTo', 'lineTo', 'bezierCurveTo', 'createLinearGradient', 'ellipse', 'measureText', 'rotate', 'drawImage', 'drawFocusIfNeeded', 'isPointInPath', 'isPointInStroke', 'putImageData', 'strokeText', 'fillText', 'quadraticCurveTo', 'removeHitRegion', 'fill', 'transform', 'scrollPathIntoView', 'createImageData'];\n const compositeOperations = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n function getTransformSlice(ctx) {\n@@ -28,11 +28,6 @@\n   return value.getAlpha() === 1 ? value.toHex() : value.toRgb();\n }\n class CanvasRenderingContext2D {\n-  /**\n-   * Every time a function call would result in a drawing operation, it should be added to this array.\n-   * This goes for only draw call functions.\n-   */\n-\n   __getDrawCalls() {\n     return this._drawCalls.slice();\n   }\n@@ -86,6 +81,10 @@\n     return this._clipStack[this._stackIndex];\n   }\n   constructor(canvas) {\n+    /**\n+     * Every time a function call would result in a drawing operation, it should be added to this array.\n+     * This goes for only draw call functions.\n+     */\n     _defineProperty(this, \"_drawCalls\", []);\n     _defineProperty(this, \"_events\", []);\n     _defineProperty(this, \"_path\", [(0, _createCanvasEvent.default)('beginPath', [1, 0, 0, 1, 0, 0], {})]);\n@@ -686,7 +685,6 @@\n     this._events.push(event);\n     return false; // return false in a mocking environment, unless I can verify a point is actually within the path\n   }\n-\n   isPointInStroke(path, x, y) {\n     if (arguments.length < 2) throw new TypeError(\"Failed to execute 'isPointInStroke' on '\" + this.constructor.name + \"': 2 arguments required, but only \" + arguments.length + ' present.');\n     if (!(path instanceof _Path2D.default)) {\n@@ -701,7 +699,6 @@\n     this._events.push(event);\n     return false; // return false in a mocking environment, unless I can verify a point is actually within the path\n   }\n-\n   set lineCap(value) {\n     if (value === 'butt' || value === 'round' || value === 'square') {\n       this._lineCapStack[this._stackIndex] = value;\n",
					"match": false,
					"packageHash": "89b0100dfbfa6ef1cee1e6fd61180e463e2b4dbc443eaf2894b59b523ae58ca7",
					"size": 53191,
					"sourceHash": "6ef82f05ac5a916f70913175cde88435668e223580ca5d922433deb2f2632d19",
					"status": "content"
				},
				"lib/classes/DOMMatrix.js": {
					"diff": "--- published/lib/classes/DOMMatrix.js\n+++ rebuilt/lib/classes/DOMMatrix.js\n@@ -4,9 +4,9 @@\n   value: true\n });\n exports.default = void 0;\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n function sumMultipleOfMatricesCells(matrix1Array, matrix2Array, {\n   i,\n   j\n",
					"match": false,
					"packageHash": "4ac33e4306cf4eefcfbaf9c833808b3c510b96cf28aedefaaad62d362eb40dc1",
					"size": 6549,
					"sourceHash": "7bf9c361432b721f0cf9bb5c8ffead3662d2037ed1cc4835a51be4af9c35b7c2",
					"status": "content"
				},
				"lib/classes/ImageBitmap.js": {
					"diff": "--- published/lib/classes/ImageBitmap.js\n+++ rebuilt/lib/classes/ImageBitmap.js\n@@ -4,9 +4,9 @@\n   value: true\n });\n exports.default = void 0;\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n class ImageBitmap {\n   constructor(width, height) {\n     _defineProperty(this, \"width\", 0);\n",
					"match": false,
					"packageHash": "e008ceab9f7e771628636b26fbd87a8dceacdf4ea60ed45d9e6538bd91974f42",
					"size": 1237,
					"sourceHash": "efa42b6c0c9c9e20478ebbbbfa0b5ddea2f94e44ca2a2b6713e277bf27dff3ad",
					"status": "content"
				},
				"lib/classes/ImageData.js": {
					"diff": "--- published/lib/classes/ImageData.js\n+++ rebuilt/lib/classes/ImageData.js\n@@ -4,9 +4,9 @@\n   value: true\n });\n exports.default = void 0;\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n class ImageData {\n   get width() {\n     return this._width;\n",
					"match": false,
					"packageHash": "01e2e4eaa29d22313d53f5faf00da3b342989418c7e2505660ca0736700481ab",
					"size": 3307,
					"sourceHash": "b0c425ddcb041ac678036b6b393ea470706af13ed528fed6a83c6d583b58a44b",
					"status": "content"
				},
				"lib/classes/Path2D.js": {
					"diff": "--- published/lib/classes/Path2D.js\n+++ rebuilt/lib/classes/Path2D.js\n@@ -5,10 +5,10 @@\n });\n exports.default = void 0;\n var _CanvasRenderingContext2D = _interopRequireDefault(require(\"./CanvasRenderingContext2D\"));\n-function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n // Path2D.prototype\n const Path2DFunc = ['addPath'];\n const borrowedFromCanvas = ['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect'];\n",
					"match": false,
					"packageHash": "72455bf3660d0be1af35166dc3dbdf73d6b1ef982d1f3a359b08226fa4361244",
					"size": 2081,
					"sourceHash": "0fc649000b0741900106f11f2fa2732d4ab5d767427cb6212f4045cc77b722b7",
					"status": "content"
				},
				"lib/classes/TextMetrics.js": {
					"diff": "--- published/lib/classes/TextMetrics.js\n+++ rebuilt/lib/classes/TextMetrics.js\n@@ -4,9 +4,9 @@\n   value: true\n });\n exports.default = void 0;\n-function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n-function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n-function _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n+function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\n+function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n+function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n class TextMetrics {\n   constructor(text) {\n     _defineProperty(this, \"width\", 0);\n",
					"match": false,
					"packageHash": "ed2a57efe4737da84ec929d0199db03a33a3ebf42b990da6c5fd28d93ce10101",
					"size": 1580,
					"sourceHash": "07591a2706da785f31e1bb823073acf1344964dc7bbf223bde9c8320b78ca55f",
					"status": "content"
				},
				"lib/index.js": {
					"diff": "--- published/lib/index.js\n+++ rebuilt/lib/index.js\n@@ -6,7 +6,7 @@\n exports.setupJestCanvasMock = setupJestCanvasMock;\n exports.ver = void 0;\n var _window = _interopRequireDefault(require(\"./window\"));\n-function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n+function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n /**\n  * Created by hustcc 17/12/25.\n  * Contract: i@hust.cc\n@@ -17,8 +17,7 @@\n if (typeof window !== 'undefined') {\n   (0, _window.default)(global.window);\n }\n-const ver = \"2.5.0\";\n-exports.ver = ver;\n+const ver = exports.ver = \"2.5.0\";\n function setupJestCanvasMock(window) {\n   (0, _window.default)(window || global.window);\n }\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "014e4fde31a8f6f780f8e201e6881717013e8b41d8c8f125b2e133a196ed8ffc",
					"size": 646,
					"sourceHash": "e6609044af1fca411b65ef56031687a8d02476bbe891bdbea596a2066b34c136",
					"status": "content"
				},
				"lib/mock/createImageBitmap.js": {
					"diff": "--- published/lib/mock/createImageBitmap.js\n+++ rebuilt/lib/mock/createImageBitmap.js\n@@ -5,8 +5,8 @@\n });\n exports.default = void 0;\n var _ImageBitmap = _interopRequireDefault(require(\"../classes/ImageBitmap\"));\n-function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n-var _default = jest.fn(function createImageBitmap(img, sx, sy, sWidth, sHeight, options) {\n+function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n+var _default = exports.default = jest.fn(function createImageBitmap(img, sx, sy, sWidth, sHeight, options) {\n   var length = arguments.length;\n   return new Promise((resolve, reject) => {\n     if (length === 0) return reject(new TypeError(\"Failed to execute 'createImageBitmap' on 'Window': 1 argument required, but only 0 present.\"));\n@@ -44,5 +44,4 @@\n     }\n     return resolve(new _ImageBitmap.default(sWidth, sHeight));\n   });\n-});\n-exports.default = _default;\n\\ No newline at end of file\n+});\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "c5dc4bc5ade7f2b535a43730fa18587c6513576b15aeaac7847fd5f88cb3d429",
					"size": 2574,
					"sourceHash": "a7205a3e5a1fc7a336394fbcc9fe010dc9f2a112161e26235d83bed1b9803a91",
					"status": "content"
				},
				"lib/window.js": {
					"diff": "--- published/lib/window.js\n+++ rebuilt/lib/window.js\n@@ -14,7 +14,7 @@\n var _ImageBitmap = _interopRequireDefault(require(\"./classes/ImageBitmap\"));\n var _prototype = _interopRequireDefault(require(\"./mock/prototype\"));\n var _createImageBitmap = _interopRequireDefault(require(\"./mock/createImageBitmap\"));\n-function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n+function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n /**\n  * Created by hustcc 17/12/25.\n  * Contract: i@hust.cc\n",
					"match": false,
					"packageHash": "611f48d37d13374a9771e078d6462355d082787d2225b04b55b8b5dbbe42cc71",
					"size": 2963,
					"sourceHash": "6596f90b74c913b469742093597cf4b9d4766124ebe064a9867cd8c516eb1331",
					"status": "content"
				}
			},
			"summary": {
				"differentFiles": 9,
				"matchingFiles": 8,
				"missingInPackage": 0,
				"missingInSource": 0,
				"score": 0.47058823529411764,
				"totalFiles": 17
			}
		}
	}
]
