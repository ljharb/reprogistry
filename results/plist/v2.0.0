[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-07T18:08:38.247Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "plist@2.0.0",
			"name": "plist",
			"version": "2.0.0",
			"location": "https://registry.npmjs.org/plist/-/plist-2.0.0.tgz",
			"integrity": "sha512-izJ728Ez0TCzvJ8RNNE21enzELWIlOwRRgEK/H84kJxdqEzQXd4ZDsytpeWCJWWBBwX6GH92biOqkb37NabndQ==",
			"publishedAt": "2016-08-16T17:57:07.799Z",
			"publishedWith": {
				"node": "6.3.0",
				"npm": "3.10.3"
			},
			"dependencies": {
				"base64-js": "0.0.8",
				"xmlbuilder": "4.0.0",
				"xmldom": "0.1.x"
			}
		},
		"source": {
			"integrity": "sha512-IlKdFfI856VFlQee3gMlYLY98aQSgypSSYsrQ7NMZZRxcKKjtNQ14lb2ZLQn39BC53YExY+qiJNMdX+7W9jc3w==",
			"location": "git://github.com/TooTallNate/node-plist.git",
			"spec": "github:TooTallNate/node-plist#007d8c74e391f7b5c8694e13dd754cf2209571f6"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".travis.yml": {
					"match": false,
					"packageHash": "e864a5488861a7e2879c4491efb6d9d9de366a67a2a0f309e20a01af2f3994b0",
					"size": 1243,
					"status": "missing-in-source"
				},
				"History.md": {
					"diff": "--- published/History.md\n+++ rebuilt/History.md\n@@ -1,9 +1,72 @@\n+3.1.0 / 2023-07-06\n+==================\n+* replace inlined xmldom with @xmldom/xmldom\n+\n+\n+3.0.5 / 2022-03-23\n+==================\n+* [[`96e2303d05`]](https://github.com/TooTallNate/plist.js/commit/96e2303d059e6be0c9e0c4773226d14b4758de52) Prototype Pollution using .parse() #114 (mario-canva)\n+* update browserify from 16 to 17\n+\n+\n+3.0.4 / 2021-08-27\n+==================\n+* inline xmldom@0.6.0 to eliminate security warning false positive (Mike Reinstein)\n+\n+\n+3.0.3 / 2021-08-04\n+==================\n+* update xmldom to 0.6.0 to patch critical vulnerability (Mike Reinstein)\n+* remove flaky saucelabs teseting badge (Mike Reinstein)\n+\n+\n+3.0.2 / 2021-03-25\n+==================\n+* update xmldom to 0.5.0 to patch critical vulnerability (Mike Reinstein)\n+* update saucelab credentials to point at mreinstein's saucelabs account (Mike Reinstein)\n+* remove a bunch of test versions from the matrix because they weren't working in zuul + sauce (Mike Reinstein)\n+\n+\n+3.0.1 / 2018-03-21\n+==================\n+* avoid using Buffer constructor nodejs/node#19079\n+\n+\n+3.0.0 / 2018-03-18\n+==================\n+* [[`cb0d8f1bc6`]](https://github.com/TooTallNate/plist.js/commit/cb0d8f1bc60dee423f8fc2cfcac427452dfaddb0) update Makefile, rebuild dist/ (Mike Reinstein)\n+* [[`9dfeffe73f`]](https://github.com/TooTallNate/plist.js/commit/9dfeffe73fdb447ac5a87ee364a1472975f12adf) remove unsupported browser versions from travis (Mike Reinstein)\n+* [[`c962bfe1ea`]](https://github.com/TooTallNate/plist.js/commit/c962bfe1ea04dd87966250253d33738bceecab61) update module deps, remove support for node < 6 (Mike Reinstein)\n+\n+\n+2.1.0 / 2017-05-04\n+==================\n+\n+* [[`e4f06669bb`]](https://github.com/TooTallNate/plist.js/commit/e4f06669bb51d2e65654df7c39aab52bc3bf4e8a) - update license (extend copyright term) (Mike Reinstein)\n+* [[`edc6e41035`]](https://github.com/TooTallNate/plist.js/commit/edc6e4103546b1d7518a577e7c202c305a8abec0) - update module deps (Mike Reinstein)\n+* [[`85d11c48ef`](https://github.com/TooTallNate/plist.js/commit/85d11c48eff02312cbdd67f46fd8e74b0d372ca1)] - Harden test-cases and implementation to align with other implementations (Björn Brauer)\n+* [[`7619537eaa`]](https://github.com/TooTallNate/plist.js/commit/7619537eaa9e3e5a80829e759c004d2e017a07d2) review feedback: early returns and constants for nodeTypes (Björn Brauer)\n+\n+\n+2.0.1 / 2016-08-16\n+==================\n+\n+* [[`de136c8388`](https://github.com/TooTallNate/plist/commit/de136c8388)] - bad npm release… (Nathan Rajlich)\n+\n+\n 2.0.0 / 2016-08-16\n ==================\n \n-* [[`d50087ca68`](https://github.com/TooTallNate/plist/commit/d50087ca68)] - remove deprecated functions (Nathan Rajlich)\n+* [[`90deef5d43`](https://github.com/TooTallNate/plist/commit/90deef5d43)] - remove deprecated functions (Nathan Rajlich)\n+* [[`d475cd8ce9`](https://github.com/TooTallNate/plist/commit/d475cd8ce9)] - Added travis ci support for node 6 (Amila Welihinda)\n+* [[`04c8ee7646`](https://github.com/TooTallNate/plist/commit/04c8ee7646)] - update dependencies (Mitchell Hentges)\n * [[`97c02b3f05`](https://github.com/TooTallNate/plist/commit/97c02b3f05)] - **travis**: add `sudo: false` and test more node versions (Nathan Rajlich)\n-* [[`4afb7c5079`](https://github.com/TooTallNate/plist/commit/4afb7c5079)] - fix `Cannot read property 'nodeValue' of undefined` exception that is thrown when a `<key></key>` construct appears in plist (Chris Kinsman)\n+* [[`54c821ec29`](https://github.com/TooTallNate/plist/commit/54c821ec29)] - #71 - fixed and added test (Andrew Goldis)\n+* [[`4afb7c5079`](https://github.com/TooTallNate/plist/commit/4afb7c5079)] - fix `Cannot read property 'nodeValue' of undefined exception` that is thrown when a `<key></key>` construct appears in plist (Chris Kinsman)\n+* [[`f360d7d685`](https://github.com/TooTallNate/plist/commit/f360d7d685)] - #66 - fixed empty keys and added tests (Andrew Goldis)\n+* [[`421c7f26e9`](https://github.com/TooTallNate/plist/commit/421c7f26e9)] - #66 - fixed empty key (Andrew Goldis)\n+* [[`a88aa4dca7`](https://github.com/TooTallNate/plist/commit/a88aa4dca7)] - add verbose examples (mrzmyr)\n+\n \n 1.2.0 / 2015-11-10\n ==================\n@@ -17,6 +80,7 @@\n   * build: omit undefined values\n   * travis: add node 4.0 and 4.1 to test matrix\n \n+\n 1.1.0 / 2014-08-27\n ==================\n \n@@ -26,6 +90,7 @@\n   * travis: use new \"plistjs\" sauce credentials\n   * travis: set up zuul saucelabs automated testing\n \n+\n 1.0.1 / 2014-06-25\n ==================\n \n@@ -36,6 +101,7 @@\n   * README: update examples to use preferred API\n   * package: add \"browser\" keyword\n \n+\n 1.0.0 / 2014-05-20\n ==================\n",
					"match": false,
					"packageHash": "fe680a70ed28be28d3fa03870d4f5fdeb5778170d3cbebfa7244435de508af9f",
					"size": 5881,
					"sourceHash": "5fd0ef8164bb985076781dceb82cdb0d1c60b9060283b46a9bd24dc9e7d33af0",
					"status": "content"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,6 +1,6 @@\n (The MIT License)\n \n-Copyright (c) 2010-2014 Nathan Rajlich <nathan@tootallnate.net>\n+Copyright (c) 2010-2017 Nathan Rajlich <nathan@tootallnate.net>\n \n Permission is hereby granted, free of charge, to any person\n obtaining a copy of this software and associated documentation\n",
					"match": false,
					"packageHash": "d2ca945eb0606e46c4aa45f60f31d7d28a0319c9649f89ef83afeb13b604a19e",
					"size": 1107,
					"sourceHash": "3677dc86e6e5f119b500c308cc24cf533e2eb44c41050ea64584e049e5b70161",
					"status": "content"
				},
				"Makefile": {
					"diff": "--- published/Makefile\n+++ rebuilt/Makefile\n@@ -38,8 +38,7 @@\n dist/plist.js: node_modules lib/*.js dist\n \t@$(BROWSERIFY) \\\n \t\t--standalone plist \\\n-\t\t--ignore lib/node.js \\\n-\t\tlib/plist.js > $@\n+\t\tindex.js > $@\n \n node_modules: package.json\n \t@NODE_ENV= $(NPM) install\n",
					"match": false,
					"packageHash": "1b47a535743af64fa8f885fc1ccd0012c1eb638fb3c93a89c6bbcd4848e0d94b",
					"size": 1589,
					"sourceHash": "aba2550b09267f3f38a733b380c433c127705a81254d21530b4029c9e519fdc2",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,14 +1,12 @@\n plist.js\n ========\n-### Mac OS X Plist parser/builder for Node.js and browsers\n+### Apple's Property list parser/builder for Node.js and browsers\n \n-[![Sauce Test Status](https://saucelabs.com/browser-matrix/plistjs.svg)](https://saucelabs.com/u/plistjs)\n+[![ci](https://github.com/TooTallNate/plist.js/actions/workflows/ci.yml/badge.svg)](https://github.com/TooTallNate/plist.js/actions/workflows/ci.yml)\n \n-[![Build Status](https://travis-ci.org/TooTallNate/plist.js.svg?branch=master)](https://travis-ci.org/TooTallNate/plist.js)\n-\n-Provides facilities for reading and writing Mac OS X Plist (property list)\n-files. These are often used in programming OS X and iOS applications, as\n-well as the iTunes configuration XML file.\n+Provides facilities for reading and writing Plist (property list) files.\n+These are often used in programming OS X and iOS applications, as well\n+as the iTunes configuration XML file.\n \n Plist files represent stored programming \"object\"s. They are very similar\n to JSON. A valid Plist file is representable as a native JavaScript Object\n@@ -69,8 +67,34 @@\n ``` javascript\n var plist = require('plist');\n \n-var obj = plist.parse('<plist><string>Hello World!</string></plist>');\n-console.log(obj);  // Hello World!\n+var xml =\n+  '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n+  '<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">' +\n+  '<plist version=\"1.0\">' +\n+    '<key>metadata</key>' +\n+    '<dict>' +\n+      '<key>bundle-identifier</key>' +\n+      '<string>com.company.app</string>' +\n+      '<key>bundle-version</key>' +\n+      '<string>0.1.1</string>' +\n+      '<key>kind</key>' +\n+      '<string>software</string>' +\n+      '<key>title</key>' +\n+      '<string>AppName</string>' +\n+    '</dict>' +\n+  '</plist>';\n+\n+console.log(plist.parse(xml));\n+\n+// [\n+//   \"metadata\",\n+//   {\n+//     \"bundle-identifier\": \"com.company.app\",\n+//     \"bundle-version\": \"0.1.1\",\n+//     \"kind\": \"software\",\n+//     \"title\": \"AppName\"\n+//   }\n+// ]\n ```\n \n ### Building\n@@ -81,33 +105,42 @@\n ``` javascript\n var plist = require('plist');\n \n-console.log(plist.build({ foo: 'bar' }));\n+var json = [\n+  \"metadata\",\n+  {\n+    \"bundle-identifier\": \"com.company.app\",\n+    \"bundle-version\": \"0.1.1\",\n+    \"kind\": \"software\",\n+    \"title\": \"AppName\"\n+  }\n+];\n+\n+console.log(plist.build(json));\n+\n+// <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+// <!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n+// <plist version=\"1.0\">\n+//   <key>metadata</key>\n+//   <dict>\n+//     <key>bundle-identifier</key>\n+//     <string>com.company.app</string>\n+//     <key>bundle-version</key>\n+//     <string>0.1.1</string>\n+//     <key>kind</key>\n+//     <string>software</string>\n+//     <key>title</key>\n+//     <string>AppName</string>\n+//   </dict>\n+// </plist>\n ```\n \n+## Cross Platform Testing Credits\n \n-## License\n+Much thanks to Sauce Labs for providing free resources that enable cross-browser testing on this project!\n \n-(The MIT License)\n+[![Testing Powered By SauceLabs](https://opensource.saucelabs.com/images/opensauce/powered-by-saucelabs-badge-red.png?sanitize=true \"Testing Powered By SauceLabs\")](https://saucelabs.com)\n",
					"match": false,
					"packageHash": "ff26ff59a14ef71e07164985c1846552d199ef0876726c0c90dd6a09d96e2aee",
					"size": 3076,
					"sourceHash": "e839f01590bfbf3c628060e163360e6188681d208abc72562d722d23da8afc4e",
					"status": "content"
				},
				"dist/plist-build.js": {
					"diff": "--- published/dist/plist-build.js\n+++ rebuilt/dist/plist-build.js\n@@ -1,6 +1,5 @@\n-(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n-(function (Buffer){\n-\n+(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n+(function (Buffer){(function (){\n /**\n  * Module dependencies.\n  */\n@@ -120,6 +119,9 @@\n     tag_type = (next % 1 === 0) ? 'integer' : 'real';\n     next_child.ele(tag_type).txt(next.toString());\n \n+  } else if ('BigInt' == name) {\n+    next_child.ele('integer').txt(next);\n+\n   } else if ('Date' == name) {\n     next_child.ele('date').txt(ISODateString(new Date(next)));\n \n@@ -136,3741 +138,4501 @@\n     // a typed array\n     next_child.ele('data').raw(base64.fromByteArray(new Uint8Array(next.buffer), next_child));\n \n+  } else if ('Null' === name) {\n+    next_child.ele('null').txt('');\n+\n   }\n }\n \n-}).call(this,{\"isBuffer\":require(\"../node_modules/is-buffer/index.js\")})\n-},{\"../node_modules/is-buffer/index.js\":3,\"base64-js\":2,\"xmlbuilder\":79}],2:[function(require,module,exports){\n-var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n-\n-;(function (exports) {\n-\t'use strict';\n-\n-  var Arr = (typeof Uint8Array !== 'undefined')\n-    ? Uint8Array\n-    : Array\n-\n-\tvar PLUS   = '+'.charCodeAt(0)\n-\tvar SLASH  = '/'.charCodeAt(0)\n-\tvar NUMBER = '0'.charCodeAt(0)\n-\tvar LOWER  = 'a'.charCodeAt(0)\n-\tvar UPPER  = 'A'.charCodeAt(0)\n-\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n-\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n-\n-\tfunction decode (elt) {\n-\t\tvar code = elt.charCodeAt(0)\n-\t\tif (code === PLUS ||\n-\t\t    code === PLUS_URL_SAFE)\n-\t\t\treturn 62 // '+'\n-\t\tif (code === SLASH ||\n-\t\t    code === SLASH_URL_SAFE)\n-\t\t\treturn 63 // '/'\n-\t\tif (code < NUMBER)\n-\t\t\treturn -1 //no match\n-\t\tif (code < NUMBER + 10)\n-\t\t\treturn code - NUMBER + 26 + 26\n-\t\tif (code < UPPER + 26)\n-\t\t\treturn code - UPPER\n-\t\tif (code < LOWER + 26)\n-\t\t\treturn code - LOWER + 26\n-\t}\n-\n-\tfunction b64ToByteArray (b64) {\n-\t\tvar i, j, l, tmp, placeHolders, arr\n-\n-\t\tif (b64.length % 4 > 0) {\n-\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n-\t\t}\n-\n-\t\t// the number of equal signs (place holders)\n-\t\t// if there are two placeholders, than the two characters before it\n-\t\t// represent one byte\n-\t\t// if there is only one, then the three characters before it represent 2 bytes\n-\t\t// this is just a cheap hack to not do indexOf twice\n-\t\tvar len = b64.length\n-\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n-\n-\t\t// base64 is 4/3 + up to two characters of the original data\n-\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n-\n-\t\t// if there are placeholders, only get up to the last complete 4 chars\n-\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n-\n-\t\tvar L = 0\n-\n-\t\tfunction push (v) {\n-\t\t\tarr[L++] = v\n-\t\t}\n-\n-\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n-\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n-\t\t\tpush((tmp & 0xFF0000) >> 16)\n-\t\t\tpush((tmp & 0xFF00) >> 8)\n-\t\t\tpush(tmp & 0xFF)\n",
					"match": false,
					"packageHash": "5c2917f615e756f909c2c609938111b96fabc4226010f1a821179c4abc4bc9b1",
					"size": 122080,
					"sourceHash": "b6f02f829b8a20c4a036b74777cff1c3a17058840f2f828509082083a4a3d4d1",
					"status": "content"
				},
				"dist/plist-parse.js": {
					"diff": "--- published/dist/plist-parse.js\n+++ rebuilt/dist/plist-parse.js\n@@ -1,22 +1,21 @@\n-(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n-(function (Buffer){\n-\n+(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n+(function (Buffer){(function (){\n /**\n  * Module dependencies.\n  */\n \n-var deprecate = require('util-deprecate');\n-var DOMParser = require('xmldom').DOMParser;\n+const { DOMParser } = require('@xmldom/xmldom');\n \n /**\n  * Module exports.\n  */\n \n exports.parse = parse;\n-exports.parseString = deprecate(parseString, '`parseString()` is deprecated. ' +\n-  'It\\'s not actually async. Use `parse()` instead.');\n-exports.parseStringSync = deprecate(parseStringSync, '`parseStringSync()` is ' +\n-  'deprecated. Use `parse()` instead.');\n+\n+var TEXT_NODE = 3;\n+var CDATA_NODE = 4;\n+var COMMENT_NODE = 8;\n+\n \n /**\n  * We ignore raw text (usually whitespace), <!-- xml comments -->,\n@@ -28,77 +27,55 @@\n  */\n \n function shouldIgnoreNode (node) {\n-  return node.nodeType === 3 // text\n-    || node.nodeType === 8   // comment\n-    || node.nodeType === 4;  // cdata\n+  return node.nodeType === TEXT_NODE\n+    || node.nodeType === COMMENT_NODE\n+    || node.nodeType === CDATA_NODE;\n }\n \n-\n /**\n- * Parses a Plist XML string. Returns an Object.\n+ * Check if the node is empty. Some plist file has such node:\n+ * <key />\n+ * this node shoud be ignored.\n  *\n- * @param {String} xml - the XML String to decode\n- * @returns {Mixed} the decoded value from the Plist XML\n- * @api public\n+ * @see https://github.com/TooTallNate/plist.js/issues/66\n+ * @param {Element} node\n+ * @returns {Boolean}\n+ * @api private\n  */\n-\n-function parse (xml) {\n-  var doc = new DOMParser().parseFromString(xml);\n-  if (doc.documentElement.nodeName !== 'plist') {\n-    throw new Error('malformed document. First element should be <plist>');\n+function isEmptyNode(node){\n+  if(!node.childNodes || node.childNodes.length === 0) {\n+    return true;\n+  } else {\n+    return false;\n   }\n-  var plist = parsePlistXML(doc.documentElement);\n-\n-  // the root <plist> node gets interpreted as an Array,\n-  // so pull out the inner data first\n-  if (plist.length == 1) plist = plist[0];\n-\n-  return plist;\n }\n \n-/**\n- * Parses a Plist XML string. Returns an Object. Takes a `callback` function.\n- *\n- * @param {String} xml - the XML String to decode\n- * @param {Function} callback - callback function\n- * @returns {Mixed} the decoded value from the Plist XML\n- * @api public\n- * @deprecated not actually async. use parse() instead\n- */\n-\n-function parseString (xml, callback) {\n-  var doc, error, plist;\n-  try {\n-    doc = new DOMParser().parseFromString(xml);\n-    plist = parsePlistXML(doc.documentElement);\n-  } catch(e) {\n-    error = e;\n+function invariant(test, message) {\n+  if (!test) {\n+    throw new Error(message);\n",
					"match": false,
					"packageHash": "eab7ad85035e515ecc0b80eb5c1cd60ae3652a584bde260cd3c8183fea16b431",
					"size": 113353,
					"sourceHash": "e2703771d71abbc10b39ea396b908040dd77414507ece8ca48d5d069fb462d03",
					"status": "content"
				},
				"dist/plist.js": {
					"diff": "--- published/dist/plist.js\n+++ rebuilt/dist/plist.js\n@@ -1,6 +1,20 @@\n-(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n-(function (Buffer){\n+(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.plist = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n+/**\n+ * Parser functions.\n+ */\n+\n+var parserFunctions = require('./lib/parse');\n+Object.keys(parserFunctions).forEach(function (k) { exports[k] = parserFunctions[k]; });\n+\n+/**\n+ * Builder functions.\n+ */\n+\n+var builderFunctions = require('./lib/build');\n+Object.keys(builderFunctions).forEach(function (k) { exports[k] = builderFunctions[k]; });\n \n+},{\"./lib/build\":2,\"./lib/parse\":3}],2:[function(require,module,exports){\n+(function (Buffer){(function (){\n /**\n  * Module dependencies.\n  */\n@@ -136,96 +150,70 @@\n     // a typed array\n     next_child.ele('data').raw(base64.fromByteArray(new Uint8Array(next.buffer), next_child));\n \n+  } else if ('Null' === name) {\n+    next_child.ele('null').txt('');\n+\n   }\n }\n \n-}).call(this,{\"isBuffer\":require(\"../node_modules/is-buffer/index.js\")})\n-},{\"../node_modules/is-buffer/index.js\":10,\"base64-js\":5,\"xmlbuilder\":87}],2:[function(require,module,exports){\n+}).call(this)}).call(this,{\"isBuffer\":require(\"../node_modules/is-buffer/index.js\")})\n+},{\"../node_modules/is-buffer/index.js\":11,\"base64-js\":8,\"xmlbuilder\":44}],3:[function(require,module,exports){\n+(function (Buffer){(function (){\n /**\n  * Module dependencies.\n  */\n \n-var fs = require('fs');\n-var parse = require('./parse');\n-var deprecate = require('util-deprecate');\n+const { DOMParser } = require('@xmldom/xmldom');\n \n /**\n  * Module exports.\n  */\n \n-exports.parseFile = deprecate(parseFile, '`parseFile()` is deprecated. ' +\n-  'Use `parseString()` instead.');\n-exports.parseFileSync = deprecate(parseFileSync, '`parseFileSync()` is deprecated. ' +\n-  'Use `parseStringSync()` instead.');\n+exports.parse = parse;\n \n-/**\n- * Parses file `filename` as a .plist file.\n- * Invokes `fn` callback function when done.\n- *\n- * @param {String} filename - name of the file to read\n- * @param {Function} fn - callback function\n- * @api public\n- * @deprecated use parseString() instead\n- */\n+var TEXT_NODE = 3;\n+var CDATA_NODE = 4;\n+var COMMENT_NODE = 8;\n \n-function parseFile (filename, fn) {\n-  fs.readFile(filename, { encoding: 'utf8' }, onread);\n-  function onread (err, inxml) {\n-    if (err) return fn(err);\n-    parse.parseString(inxml, fn);\n-  }\n-}\n \n /**\n- * Parses file `filename` as a .plist file.\n- * Returns a  when done.\n+ * We ignore raw text (usually whitespace), <!-- xml comments -->,\n+ * and raw CDATA nodes.\n  *\n- * @param {String} filename - name of the file to read\n- * @param {Function} fn - callback function\n- * @api public\n- * @deprecated use parseStringSync() instead\n+ * @param {Element} node\n+ * @returns {Boolean}\n+ * @api private\n  */\n \n-function parseFileSync (filename) {\n-  var inxml = fs.readFileSync(filename, 'utf8');\n-  return parse.parseStringSync(inxml);\n+function shouldIgnoreNode (node) {\n+  return node.nodeType === TEXT_NODE\n",
					"match": false,
					"packageHash": "ad19ac01316859b7056381099c3a712bf8c1e9af5351e704d5c35da4284f3b0d",
					"size": 232873,
					"sourceHash": "0003de9d15c9e231e86fc30626089a4a3652abdba41d426d0b8b883651d18062",
					"status": "content"
				},
				"lib/build.js": {
					"diff": "--- published/lib/build.js\n+++ rebuilt/lib/build.js\n@@ -117,6 +117,9 @@\n     tag_type = (next % 1 === 0) ? 'integer' : 'real';\n     next_child.ele(tag_type).txt(next.toString());\n \n+  } else if ('BigInt' == name) {\n+    next_child.ele('integer').txt(next);\n+\n   } else if ('Date' == name) {\n     next_child.ele('date').txt(ISODateString(new Date(next)));\n \n@@ -133,5 +136,8 @@\n     // a typed array\n     next_child.ele('data').raw(base64.fromByteArray(new Uint8Array(next.buffer), next_child));\n \n+  } else if ('Null' === name) {\n+    next_child.ele('null').txt('');\n+\n   }\n }\n",
					"match": false,
					"packageHash": "28d868289e2a180dc1abec19ab1c6abca864761288a91c941852b2900b87385e",
					"size": 3333,
					"sourceHash": "98d2caf11087fa10c765f9a0ec8f2eb7da577b6f293eba86f35711b0420e2255",
					"status": "content"
				},
				"lib/parse.js": {
					"diff": "--- published/lib/parse.js\n+++ rebuilt/lib/parse.js\n@@ -2,7 +2,7 @@\n  * Module dependencies.\n  */\n \n-var DOMParser = require('xmldom').DOMParser;\n+const { DOMParser } = require('@xmldom/xmldom');\n \n /**\n  * Module exports.\n@@ -10,6 +10,11 @@\n \n exports.parse = parse;\n \n+var TEXT_NODE = 3;\n+var CDATA_NODE = 4;\n+var COMMENT_NODE = 8;\n+\n+\n /**\n  * We ignore raw text (usually whitespace), <!-- xml comments -->,\n  * and raw CDATA nodes.\n@@ -20,11 +25,34 @@\n  */\n \n function shouldIgnoreNode (node) {\n-  return node.nodeType === 3 // text\n-    || node.nodeType === 8   // comment\n-    || node.nodeType === 4;  // cdata\n+  return node.nodeType === TEXT_NODE\n+    || node.nodeType === COMMENT_NODE\n+    || node.nodeType === CDATA_NODE;\n }\n \n+/**\n+ * Check if the node is empty. Some plist file has such node:\n+ * <key />\n+ * this node shoud be ignored.\n+ *\n+ * @see https://github.com/TooTallNate/plist.js/issues/66\n+ * @param {Element} node\n+ * @returns {Boolean}\n+ * @api private\n+ */\n+function isEmptyNode(node){\n+  if(!node.childNodes || node.childNodes.length === 0) {\n+    return true;\n+  } else {\n+    return false;\n+  }\n+}\n+\n+function invariant(test, message) {\n+  if (!test) {\n+    throw new Error(message);\n+  }\n+}\n \n /**\n  * Parses a Plist XML string. Returns an Object.\n@@ -36,9 +64,10 @@\n \n function parse (xml) {\n   var doc = new DOMParser().parseFromString(xml);\n-  if (doc.documentElement.nodeName !== 'plist') {\n-    throw new Error('malformed document. First element should be <plist>');\n-  }\n+  invariant(\n+    doc.documentElement.nodeName === 'plist',\n+    'malformed document. First element should be <plist>'\n+  );\n   var plist = parsePlistXML(doc.documentElement);\n \n   // the root <plist> node gets interpreted as an Array,\n@@ -57,41 +86,60 @@\n  */\n \n function parsePlistXML (node) {\n-  var i, new_obj, key, val, new_arr, res, d;\n+  var i, new_obj, key, val, new_arr, res, counter, type;\n \n   if (!node)\n     return null;\n \n   if (node.nodeName === 'plist') {\n     new_arr = [];\n+    if (isEmptyNode(node)) {\n+      return new_arr;\n+    }\n     for (i=0; i < node.childNodes.length; i++) {\n-      // ignore comment nodes (text)\n       if (!shouldIgnoreNode(node.childNodes[i])) {\n         new_arr.push( parsePlistXML(node.childNodes[i]));\n       }\n     }\n     return new_arr;\n-\n   } else if (node.nodeName === 'dict') {\n     new_obj = {};\n",
					"match": false,
					"packageHash": "29f91075255be442da9b8a15e4463eb9f76a9ddaa14b5f0f43e2c3ba93659940",
					"size": 3728,
					"sourceHash": "622d22643bd671aad115aa951453360839e2383b592c08f299b4d7056fb0eaf7",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"plist\",\n-  \"description\": \"Mac OS X Plist parser/builder for Node.js and browsers\",\n-  \"version\": \"2.0.0\",\n+  \"description\": \"Apple's property list parser/builder for Node.js and browsers\",\n+  \"version\": \"3.1.0\",\n   \"author\": \"Nathan Rajlich <nathan@tootallnate.net>\",\n   \"contributors\": [\n     \"Hans Huebner <hans.huebner@gmail.com>\",\n@@ -25,17 +25,19 @@\n   ],\n   \"main\": \"index.js\",\n   \"dependencies\": {\n-    \"base64-js\": \"0.0.8\",\n-    \"xmlbuilder\": \"4.0.0\",\n-    \"xmldom\": \"0.1.x\"\n+    \"@xmldom/xmldom\": \"^0.8.8\",\n+    \"base64-js\": \"^1.5.1\",\n+    \"xmlbuilder\": \"^15.1.1\"\n   },\n   \"devDependencies\": {\n-    \"browserify\": \"12.0.1\",\n-    \"mocha\": \"2.3.3\",\n-    \"multiline\": \"1.0.2\",\n-    \"zuul\": \"3.7.2\"\n+    \"browserify\": \"^17.0.0\",\n+    \"mocha\": \"^10.2.0\",\n+    \"zuul\": \"3.12.0\"\n   },\n   \"scripts\": {\n     \"test\": \"make test\"\n+  },\n+  \"engines\": {\n+    \"node\": \">=10.4.0\"\n   }\n }\n",
					"match": false,
					"packageHash": "dbee074b61f6f2e7061b5edeeadeb447ecfc43612b1a921c5e71ec2b4a51a856",
					"size": 870,
					"sourceHash": "862a3a2ab5ced16856ce67c9ad7ba80edbae15d164425394ffd80c4abc79df77",
					"status": "content"
				},
				".github/workflows/ci.yml": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 10,
				"matchingFiles": 3,
				"missingInPackage": 1,
				"missingInSource": 1,
				"score": 0.2,
				"totalFiles": 15
			}
		},
		"prodDependencies": [
			{
				"name": "@xmldom/xmldom",
				"version": "0.8.8"
			},
			{
				"name": "base64-js",
				"version": "1.5.1"
			},
			{
				"name": "xmlbuilder",
				"version": "15.1.1"
			}
		]
	}
]
