[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-06T21:01:36.327Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "rc@0.0.5",
			"name": "rc",
			"version": "0.0.5",
			"location": "https://registry.npmjs.org/rc/-/rc-0.0.5.tgz",
			"integrity": "sha512-DIs65LvaZJ4D2Aa+ZNb04dhdEZRv/+S99d2SkxGpKhx3RA4c4OY1dxH2G7PdNWvKXEJVeMr7VV70g5GVQFY0Qg==",
			"publishedAt": "2012-08-21T16:49:51.668Z",
			"publishedWith": {
				"node": null,
				"npm": null
			}
		},
		"source": {
			"integrity": null,
			"location": "https://github.com/dominictarr/rc.git",
			"spec": "github:dominictarr/rc#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "a1cd9589c07a23e3a67e8c6017e10a46d26085a85c7b55dee70192c788b1d1f8",
					"size": 42,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,43 +1,227 @@\n # rc\n \n-the non configurable configuration loader for lazy people.\n+The non-configurable configuration loader for lazy people.\n \n-# Usage\n+## Usage\n \n-the only option is to pass rc the name of your app, and your default configuration.\n+The only option is to pass rc the name of your app, and your default configuration.\n \n+```javascript\n+var conf = require('rc')(appname, {\n+  //defaults go here.\n+  port: 2468,\n+\n+  //defaults which are objects will be merged, not replaced\n+  views: {\n+    engine: 'jade'\n+  }\n+});\n ```\n-  var rc = require('rc')(appname, {\n-    //defaults go here.\n-    port: 2468\n-  })\n+\n+`rc` will return your configuration options merged with the defaults you specify.\n+If you pass in a predefined defaults object, it will be mutated:\n+\n+```javascript\n+var conf = {};\n+require('rc')(appname, conf);\n ```\n \n-# Standards\n+If `rc` finds any config files for your app, the returned config object will have\n+a `configs` array containing their paths:\n+\n+```javascript\n+var appCfg = require('rc')(appname, conf);\n+appCfg.configs[0] // /etc/appnamerc\n+appCfg.configs[1] // /home/dominictarr/.config/appname\n+appCfg.config // same as appCfg.configs[appCfg.configs.length - 1]\n+```\n \n-Given your application name, rc will look in all the obvious places for configuration.\n+## Standards\n \n+Given your application name (`appname`), rc will look in all the obvious places for configuration.\n \n-  * command line arguments (parsed by optimist)\n-  * enviroment variables prefixed with ${APPNAME}_\n+  * command line arguments, parsed by minimist _(e.g. `--foo baz`, also nested: `--foo.bar=baz`)_\n+  * environment variables prefixed with `${appname}_`\n+    * or use \"\\_\\_\" to indicate nested properties <br/> _(e.g. `appname_foo__bar__baz` => `foo.bar.baz`)_\n   * if you passed an option `--config file` then from that file\n-  * `$HOME/.${APPNAME}rc`\n-  * `$HOME/.${APPNAME}/config`\n-  * `$HOME/.config/${APPNAME}`\n-  * `$HOME/.config/${APPNAME}/config`\n-  * `/etc/${APPNAME}rc`\n-  * `/etc/${APPNAME}/config`\n+  * a local `.${appname}rc` or the first found looking in `./ ../ ../../ ../../../` etc.\n+  * `$HOME/.${appname}rc`\n+  * `$HOME/.${appname}/config`\n+  * `$HOME/.config/${appname}`\n+  * `$HOME/.config/${appname}/config`\n+  * `/etc/${appname}rc`\n+  * `/etc/${appname}/config`\n   * the defaults object you passed in.\n \n-All configuration sources that where found will be flattened into one object,\n-so that sources earlier in this list override later ones.\n+All configuration sources that were found will be flattened into one object,\n+so that sources **earlier** in this list override later ones.\n+\n+\n+## Configuration File Formats\n+\n+Configuration files (e.g. `.appnamerc`) may be in either [json](http://json.org/example) or [ini](http://en.wikipedia.org/wiki/INI_file) format. **No** file extension (`.json` or `.ini`) should be used. The example configurations below are equivalent:\n+\n+\n+#### Formatted as `ini`\n+\n+```\n+; You can include comments in `ini` format if you want.\n+\n+dependsOn=0.10.0\n+\n+\n+; `rc` has built-in support for ini sections, see?\n+\n+[commands]\n+  www     = ./commands/www\n+  console = ./commands/repl\n+\n",
					"match": false,
					"packageHash": "c199fe4dc3587caa645611a09274f3dfa698f6ba6acdd8ada96b6776c9cb687a",
					"size": 1069,
					"sourceHash": "3088babbed9971cd5ac60321b0818863c49ea773be0b14389494b4e7e4248d8d",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,28 +1,53 @@\n-\n-var argv = require('optimist').argv\n-var cc   = require('config-chain')\n+var cc   = require('./lib/utils')\n var join = require('path').join\n+var deepExtend = require('deep-extend')\n var etc = '/etc'\n var win = process.platform === \"win32\"\n var home = win\n            ? process.env.USERPROFILE\n            : process.env.HOME\n \n-module.exports = function (name, defaults) {\n-  if(!name)\n-    throw new Error('nameless configuration fail')\n+module.exports = function (name, defaults, argv, parse) {\n+  if('string' !== typeof name)\n+    throw new Error('rc(name): name *must* be string')\n+  if(!argv)\n+    argv = require('minimist')(process.argv.slice(2))\n+  defaults = (\n+      'string' === typeof defaults\n+    ? cc.json(defaults) : defaults\n+    ) || {}\n \n-  return cc(\n-    argv,\n-    cc.env(name + '_'),\n-    argv.config,\n-    join(home, '.' + name + 'rc'),\n-    join(home, '.' + name, 'config'),\n+  parse = parse || cc.parse\n+\n+  var env = cc.env(name + '_')\n+\n+  var configs = [defaults]\n+  var configFiles = []\n+  function addConfigFile (file) {\n+    if (configFiles.indexOf(file) >= 0) return\n+    var fileConfig = cc.file(file)\n+    if (fileConfig) {\n+      configs.push(parse(fileConfig))\n+      configFiles.push(file)\n+    }\n+  }\n+\n+  // which files do we look at?\n+  if (!win)\n+   [join(etc, name, 'config'),\n+    join(etc, name + 'rc')].forEach(addConfigFile)\n+  if (home)\n+   [join(home, '.config', name, 'config'),\n     join(home, '.config', name),\n-    join(home, '.config', name, 'config'),\n-    win ? null : join(etc, name + 'rc'),\n-    win ? null : join(etc, name, 'config'),\n-    defaults\n-  ).snapshot\n+    join(home, '.' + name, 'config'),\n+    join(home, '.' + name + 'rc')].forEach(addConfigFile)\n+  addConfigFile(cc.find('.'+name+'rc'))\n+  if (env.config) addConfigFile(env.config)\n+  if (argv.config) addConfigFile(argv.config)\n \n+  return deepExtend.apply(null, configs.concat([\n+    env,\n+    argv,\n+    configFiles.length ? {configs: configFiles, config: configFiles[configFiles.length - 1]} : undefined,\n+  ]))\n }\n",
					"match": false,
					"packageHash": "987bb4122247351a8210539d6c17b9e89b47d2a8d23319a6c6a8e2ade5351d35",
					"size": 679,
					"sourceHash": "7a4c19d1025d2669723dd2a939ced7d556d815eedfff62bf288970365b8b26dc",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,25 +1,29 @@\n {\n   \"name\": \"rc\",\n-  \"version\": \"0.0.5\",\n+  \"version\": \"1.2.8\",\n   \"description\": \"hardwired configuration loader\",\n   \"main\": \"index.js\",\n+  \"browser\": \"browser.js\",\n   \"scripts\": {\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"test\": \"set -e; node test/test.js; node test/ini.js; node test/nested-env-vars.js\"\n   },\n-  \"repository\": {\"type\": \"git\", \"url\": \"https://github.com/dominictarr/rc.git\"},\n+  \"repository\": {\n+    \"type\": \"git\",\n+    \"url\": \"https://github.com/dominictarr/rc.git\"\n+  },\n+  \"license\": \"(BSD-2-Clause OR MIT OR Apache-2.0)\",\n   \"keywords\": [\n     \"config\",\n     \"rc\",\n     \"unix\",\n     \"defaults\"\n   ],\n+  \"bin\": \"./cli.js\",\n   \"author\": \"Dominic Tarr <dominic.tarr@gmail.com> (dominictarr.com)\",\n-  \"license\": \"BSD\",\n   \"dependencies\": {\n-    \"config-chain\": \"~0.3.2\",\n-    \"optimist\": \"~0.3.4\"\n-  },\n-  \"scripts\": {\n-    \"test\": \"node test.js\"\n+    \"deep-extend\": \"^0.6.0\",\n+    \"ini\": \"~1.3.0\",\n+    \"minimist\": \"^1.2.0\",\n+    \"strip-json-comments\": \"~2.0.1\"\n   }\n }\n",
					"match": false,
					"packageHash": "09b8c9293f0ec85557985bea7a0c762e6173eebfd7ae84dbf140d22fead542f0",
					"size": 563,
					"sourceHash": "96f035349a8e6034d380348ec3d454ed8ea3a602c7a5700eb36ff48310bdbe9f",
					"status": "content"
				},
				"test.js": {
					"match": false,
					"packageHash": "7da2ab3a7b8fa61f49df1bac033b221c29cce4d81fd662c3ddd5e328e76696f1",
					"size": 235,
					"status": "missing-in-source"
				},
				"LICENSE.APACHE2": {
					"match": false,
					"status": "missing-in-package"
				},
				"LICENSE.BSD": {
					"match": false,
					"status": "missing-in-package"
				},
				"LICENSE.MIT": {
					"match": false,
					"status": "missing-in-package"
				},
				"browser.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"cli.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/ini.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/nested-env-vars.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/test.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 0,
				"missingInPackage": 9,
				"missingInSource": 2,
				"score": 0,
				"totalFiles": 14
			}
		}
	}
]
