[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-11T21:46:06.438Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "grunt-text-replace@0.3.9",
			"name": "grunt-text-replace",
			"version": "0.3.9",
			"location": "https://registry.npmjs.org/grunt-text-replace/-/grunt-text-replace-0.3.9.tgz",
			"integrity": "sha512-dw2GU1GOKbw7OmozEn93EhOsy5lYDFHmoDWL4crYmcdSUliEm72Tw+Xbe1bxrNSTZp60i33tSbK4ufztjHNhSg==",
			"publishedAt": "2013-10-25T23:23:45.256Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.8"
			},
			"dependencies": {}
		},
		"source": {
			"integrity": null,
			"location": "https://github.com/yoniholmes/grunt-text-replace.git",
			"spec": "github:yoniholmes/grunt-text-replace#HEAD"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "f4cf8420f8216f1fde6bd29cf67f7b48443fa901125bf96433ad9707173e8f84",
					"size": 33,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"diff": "--- published/.travis.yml\n+++ rebuilt/.travis.yml\n@@ -1,6 +1,6 @@\n language: node_js\n node_js:\n-  - \"0.8\"\n   - \"0.10\"\n before_script:\n+  - npm install -g npm\n   - npm install -g grunt-cli\n",
					"match": false,
					"packageHash": "918d0f161d33b97dcd3fdd1f7505b9c1d2b10af4241c74166e6164f65326446d",
					"size": 92,
					"sourceHash": "7db05d269809b89509fb17fd4c271ee9fc43a8333afe886d70485a7f6f7fd873",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -3,10 +3,10 @@\n [travis_image_url]: https://api.travis-ci.org/yoniholmes/grunt-text-replace.png\n [travis_page_url]: https://travis-ci.org/yoniholmes/grunt-text-replace\n \n-Replace text in files using strings, regexs or functions. \n+Replace text in files using strings, regexs or functions.\n \n ## Installation\n-In your project's [gruntfile][getting_started] directory, run: \n+In your project's [gruntfile][getting_started] directory, run:\n \n ```bash\n npm install grunt-text-replace --save-dev\n@@ -30,12 +30,12 @@\n   example: {\n     src: ['text/*.txt'],             // source files array (supports minimatch)\n     dest: 'build/text/',             // destination directory or file\n-    replacements: [{ \n+    replacements: [{\n       from: 'Red',                   // string replacement\n-      to: 'Blue' \n-    }, { \n+      to: 'Blue'\n+    }, {\n       from: /(f|F)(o{2,100})/g,      // regex replacement ('Fooo' to 'Mooo')\n-      to: 'M$2' \n+      to: 'M$2'\n     }, {\n       from: 'Foo',\n       to: function (matchedWord) {   // callback replacement\n@@ -46,7 +46,7 @@\n }\n ```\n \n-Here's another example using [grunt.template][grunt.template], and overwriting \n+Here's another example using [grunt.template][grunt.template], and overwriting\n original source files:\n \n ```javascript\n@@ -54,7 +54,7 @@\n   another_example: {\n     src: ['build/*.html'],\n     overwrite: true,                 // overwrite matched source files\n-    replacements: [{ \n+    replacements: [{\n       from: /[0-9]{1,2}\\/[0-9]{1,2}\\/[0-9]{2,4}/g,\n       to: \"<%= grunt.template.today('dd/mm/yyyy') %>\"\n     }]\n@@ -67,10 +67,10 @@\n ## API reference\n \n \n-### replace \n+### replace\n \n *replace* is the top level task that goes in your `grunt.initConfig({})`. It is\n-a [multi-task][multitask], meaning that it must contain targets, which you can \n+a [multi-task][multitask], meaning that it must contain targets, which you can\n name anything you like.\n \n [multitask]: https://github.com/gruntjs/grunt/wiki/Configuring-tasks#task-configuration-and-targets\n@@ -78,7 +78,7 @@\n \n ### src\n \n-*src* is an array of source files to be replaced, and is required. \n+*src* is an array of source files to be replaced, and is required.\n It supports [minimatch][minimatch] paths.\n \n [minimatch]: https://github.com/isaacs/minimatch\n@@ -92,20 +92,20 @@\n - directory: `'path/'`\n \n grunt-text-replace will throw an error if multiple source files are mapped to\n-a single file. \n+a single file.\n \n \n ### overwrite\n \n *overwrite* should be used for in-place replacement, that is when all you need\n to do is overwrite existing files.\n-To use it, omit *dest*, otherwise \n+To use it, omit *dest*, otherwise\n grunt-text-replace will throw an error. You can only use one or the other. \n \n \n ### replacements\n \n-*replacements* is an array of *from* and *to* replacements. See the \n+*replacements* is an array of *from* and *to* replacements. See the\n [examples](#usage) above.\n \n \n@@ -125,8 +125,10 @@\n - string containing a [grunt.template][grunt.template]\n - string containing regex variables `$1`, `$2`, etc\n - combination of the above\n",
					"match": false,
					"packageHash": "825649f2dbcbd7322125bccfea7864fa394a6cd986b0b4e66d2b3bd20f1dafd5",
					"size": 7125,
					"sourceHash": "c6f3984d1fc742919bf9d8af3f0dcd73779e5020d0e1b089e7d83d33743e6970",
					"status": "content"
				},
				"lib/grunt-text-replace.js": {
					"diff": "--- published/lib/grunt-text-replace.js\n+++ rebuilt/lib/grunt-text-replace.js\n@@ -30,7 +30,7 @@\n       gruntTextReplace.replaceFile({\n         src: pathToSource,\n         dest: settings.dest,\n-        replacements: settings.replacements        \n+        replacements: settings.replacements\n       });\n     });\n   },\n@@ -39,18 +39,24 @@\n     var pathToSourceFile = settings.src;\n     var pathToDestinationFile = this.getPathToDestination(pathToSourceFile, settings.dest);\n     var replacements = settings.replacements;\n-    grunt.file.copy(pathToSourceFile, pathToDestinationFile, {\n-      process: function (text) {\n-        return gruntTextReplace.replaceTextMultiple(text, replacements);\n-      }\n-    });\n+    var isThereAGenuineReplacement = replacements.reduce(function (previous, current) { \n+      return previous || (current.from !== current.to) \n+    }, false);\n+    var isReplacementRequired = (pathToSourceFile !== pathToDestinationFile) || isThereAGenuineReplacement\n+    if (isReplacementRequired) {\n+      grunt.file.copy(pathToSourceFile, pathToDestinationFile, {\n+        process: function (text) {\n+          return gruntTextReplace.replaceTextMultiple(text, replacements);\n+        }\n+      });\n+    }\n   },\n \n   replaceTextMultiple: function (text, replacements) {\n     return replacements.reduce(function (newText, replacement) {\n       return gruntTextReplace.replaceText({\n-        text: newText, \n-        from: replacement.from, \n+        text: newText,\n+        from: replacement.from,\n         to: replacement.to\n       });\n     }, text);\n@@ -75,8 +81,6 @@\n         typeof src === 'undefined' &&\n         typeof replacements === 'undefined') {\n       grunt.warn(gruntTextReplace.errorMessages.noTargetsDefined);\n-    } else if (src.length === 0) {\n-      grunt.warn(gruntTextReplace.errorMessages.noSourceFiles);\n     } else if (typeof dest === 'undefined' && overwrite !== true) {\n       grunt.warn(gruntTextReplace.errorMessages.noDestination);\n     } else if (typeof replacements === 'undefined') {\n@@ -95,9 +99,8 @@\n   },\n \n   errorMessages: {\n-    noTargetsDefined: \"No targets were found. Remember to wrap functionality \" + \n+    noTargetsDefined: \"No targets were found. Remember to wrap functionality \" +\n       \"within a target.\",\n-    noSourceFiles: \"No source files found\",\n     noDestination: \"Destination is not defined! If you want to overwrite \" +\n       \"files, then make sure to set overwrite: true. If you don't wish to \" +\n       \"overwrite, then make sure to set a destination\",\n@@ -107,7 +110,7 @@\n       \"If you want to send files to a destination, then ensure overwrite is \" +\n       \"not set to true\",\n     multipleSourceSingleDestination: \"Cannot write multiple files to same \" +\n-      \"file. If you wish to export to a directory, make sure there is a \" + \n+      \"file. If you wish to export to a directory, make sure there is a \" +\n       \"trailing slash on the destination. If you wish to write to a single \" +\n       \"file, make sure there is only one source file\"\n   },\n@@ -132,7 +135,7 @@\n         pattern = pattern.replace(characterAsRegex, '\\\\$1');\n       });\n       pattern = new RegExp(pattern, 'g');\n-    } \n+    }\n     return pattern;\n   },\n \n@@ -141,6 +144,8 @@\n       return this.expandFunctionReplacement(replacement);\n     } else if (typeof replacement === 'string') {\n       return this.expandStringReplacement(replacement);\n+    } else {\n+      return gruntTextReplace.expandNonStringReplacement(replacement);\n     }\n   },\n \n@@ -151,10 +156,11 @@\n       var fullText = arguments[arguments.length - 1];\n       var regexMatches = Array.prototype.slice.call(arguments, 1,\n         arguments.length - 2);\n-      var returnValue = replacement(matchedSubstring, index, fullText, \n+      var returnValue = replacement(matchedSubstring, index, fullText,\n         regexMatches);\n-      return (typeof returnValue === 'string') ? \n-        gruntTextReplace.processGruntTemplate(returnValue) : returnValue;\n+      return (typeof returnValue === 'string') ?\n",
					"match": false,
					"packageHash": "d53fb1e9dea680dad3aede29f0544a3e73490c35f12f0ebf0ca2a9e2e3b5ea6c",
					"size": 6425,
					"sourceHash": "f184d6c406eee8c37843b3d5ae420b1dea95f00496402386157aefec1dd5de4c",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"grunt-text-replace\",\n   \"description\": \"Replace text in files using strings, regexs or functions.\",\n-  \"version\": \"0.3.9\",\n+  \"version\": \"0.4.0\",\n   \"homepage\": \"https://github.com/yoniholmes/grunt-text-replace\",\n   \"author\": \"Jonathan Holmes\",\n   \"repository\": {\n@@ -25,9 +25,10 @@\n     \"test\": \"grunt --force\"\n   },\n   \"devDependencies\": {\n+    \"grunt\": \">= 0.4.1\",\n     \"grunt-contrib-jshint\": \">= 0.6.3\",\n     \"grunt-contrib-nodeunit\": \">= 0.2.0\",\n-    \"grunt\": \">= 0.4.1\"\n+    \"sinon\": \"^1.12.1\"\n   },\n   \"keywords\": [\n     \"gruntplugin\",\n",
					"match": false,
					"packageHash": "9ea296fa2ca502162b76fe7c00848fadef5c8c5f3a9b7c5a1dbea347cad25b4b",
					"size": 954,
					"sourceHash": "df18287ac3a723f24bde60a4710f1acdd864a7c87d1ce622e887791663143e8d",
					"status": "content"
				},
				"test/text-replace-error-tests.js": {
					"diff": "--- published/test/text-replace-error-tests.js\n+++ rebuilt/test/text-replace-error-tests.js\n@@ -25,28 +25,6 @@\n       done();\n     },\n \n-    'Test no source files': function (test) {\n-      var warnCountBefore = grunt.fail.warncount;\n-      replace({\n-        dest: 'test/temp/',\n-        replacements: [{ from: 'Hello', to: 'Good bye' }]\n-      });\n-      test.equal(grunt.fail.warncount - warnCountBefore, 1);\n-      replace({\n-        src: 'test/noSuchFile.txt',\n-        dest: 'test/temp/',\n-        replacements: [{ from: 'Hello', to: 'Good bye' }]\n-      });\n-      test.equal(grunt.fail.warncount - warnCountBefore, 2);\n-      replace({\n-        src: 'test/temp/testA.txt',\n-        dest: 'test/temp/',\n-        replacements: [{ from: 'Hello', to: 'Good bye' }]\n-      });\n-      test.equal(grunt.fail.warncount - warnCountBefore, 2);\n-      test.done();\n-    },\n-\n     'Test no destination found': function (test) {\n       var warnCountBefore = grunt.fail.warncount;\n       replace({\n",
					"match": false,
					"packageHash": "05c1a463148f4f40ca00f602c34c8a575519d181ea2a83782ab1966573b804d5",
					"size": 4079,
					"sourceHash": "d30a10a01a46cea84096390dba4484e90db573a431bafe5ce43470dd574b1dcf",
					"status": "content"
				},
				"test/text-replace-unit-tests.js": {
					"diff": "--- published/test/text-replace-unit-tests.js\n+++ rebuilt/test/text-replace-unit-tests.js\n@@ -1,7 +1,7 @@\n var grunt = require('grunt');\n var fs = require('fs');\n var gruntTextReplace = require('../lib/grunt-text-replace');\n-\n+var sinon = require('sinon');\n \n var replaceText = function (text, from, to) {\n   return gruntTextReplace.replaceText({\n@@ -95,6 +95,18 @@\n       test.done();\n     },\n \n+    'Test non string or function \"to\" replacements': function (test) {\n+      test.equal(replaceText('Hello 0 true 1 false 2345', 'true', false), 'Hello 0 false 1 false 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', 'false', true), 'Hello 0 true 1 true 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', '1', 22), 'Hello 0 true 22 false 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', '0', 1), 'Hello 1 true 1 false 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', /true|false/g, 0), 'Hello 0 0 1 0 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', 'Hello', 1e5), '100000 0 true 1 false 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', 'Hello', null), ' 0 true 1 false 2345');\n+      test.equal(replaceText('Hello 0 true 1 false 2345', 'true', undefined), 'Hello 0  1 false 2345');\n+      test.done();\n+    },\n+\n     'Test multiple replacements': function (test) {\n       test.equal(replaceTextMultiple('Hello world',\n         [{\n@@ -112,6 +124,7 @@\n     setUp: function (done) {\n       grunt.file.copy('test/text_files/test.txt', 'test/temp/testA.txt');\n       grunt.file.copy('test/text_files/test.txt', 'test/temp/testB.txt');\n+      sinon.spy(grunt.file, \"copy\");\n       done();\n     },\n \n@@ -119,6 +132,7 @@\n       fs.unlinkSync('test/temp/testA.txt');\n       fs.unlinkSync('test/temp/testB.txt');\n       fs.rmdirSync('test/temp');\n+      grunt.file.copy.restore();\n       done();\n     },\n \n@@ -132,6 +146,22 @@\n       test.done();\n     },\n \n+    'Test files do not get changed if there are no matches and paths are the same': function (test) {\n+      replaceFile('test/temp/testA.txt', 'test/temp/testA.txt', [{from: 'world', to: 'planet'}]);\n+      test.equal(grunt.file.copy.callCount, 1);\n+      replaceFile('test/temp/testA.txt', 'test/temp/testA.txt', [{from: 'planet', to: 'planet'}]);\n+      test.equal(grunt.file.copy.callCount, 1);\n+      test.done();\n+    },\n+\n+    'Test files get changed if there are no matches and paths are the different': function (test) {\n+      replaceFile('test/temp/testA.txt', 'test/temp/testB.txt', [{from: 'world', to: 'planet'}]);\n+      test.equal(grunt.file.copy.callCount, 1);\n+      replaceFile('test/temp/testA.txt', 'test/temp/testB.txt', [{from: 'world', to: 'world'}]);\n+      test.equal(grunt.file.copy.callCount, 2);\n+      test.done();\n+    },\n+\n     'Test change to file specifying destination directory': function (test) {\n       var originalText, replacedText;\n       originalText = grunt.file.read('test/temp/testA.txt');\n",
					"match": false,
					"packageHash": "d80cb868710abf15a19d0e4d9161ff13021df69892ef98c05941c461bd671a45",
					"size": 6422,
					"sourceHash": "db2eb90e3f57f431a18ff234da8fccd41a28d8ed5b47afe3cafdb89c8c57cfdf",
					"status": "content"
				},
				".editorconfig": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 6,
				"matchingFiles": 10,
				"missingInPackage": 1,
				"missingInSource": 1,
				"score": 0.5555555555555556,
				"totalFiles": 18
			}
		},
		"prodDependencies": []
	}
]
