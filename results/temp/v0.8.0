[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-03T19:28:37.379Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "temp@0.8.0",
			"name": "temp",
			"version": "0.8.0",
			"location": "https://registry.npmjs.org/temp/-/temp-0.8.0.tgz",
			"integrity": "sha512-fC0hbH8lLooudwb7FBrM3zohohnpO82tFNtUBr8u/LFiBEd6GedGy0iTN4+nmFqLvVj8HCHpFWiShxJNkKuknA==",
			"publishedAt": "2014-06-02T04:56:15.496Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.11"
			}
		},
		"source": {
			"integrity": "sha512-AIbpi2rg3iicF4F3bsSk0Yz0aJxLz6vLTAErgkc2VixoVA8ps8vNUjkJI9aQwVKiz6a4cYcaU6GDxe6syoR9uQ==",
			"location": "git://github.com/bruce/node-temp.git",
			"spec": "github:bruce/node-temp#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "571ca7d91f28ec11df4c43e328c269438ffb38d6de8fd850f5926162d8603e3d",
					"size": 66,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"packageHash": "d0eb196aa1c94aa449326189409612ab8a95dfc7125ea45fe16f3ff7c3717a30",
					"size": 48,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,4 +1,4 @@\n-node-temp\n+![Image of node-temp logo](https://raw.githubusercontent.com/bruce/node-temp/master/media/A5.jpg)\n =========\n \n Temporary files, directories, and streams for Node.js.\n@@ -12,7 +12,7 @@\n Node.js Compatibility\n ---------------------\n \n-Supports v0.10.0+.\n+Supports v6.0.0+.\n \n [![Build Status](https://travis-ci.org/bruce/node-temp.png)](https://travis-ci.org/bruce/node-temp)\n \n@@ -36,10 +36,12 @@\n directories with `mkdir` and `mkdirSync`, or you can get a unique name\n in the system temporary directory with `path`.\n \n+See the [API section](https://github.com/bruce/node-temp#API) for more details on the API of `temp`.\n+\n Working copies of the following examples can be found under the\n `examples` directory.\n \n-### Temporary Files\n+### Temporary Files (`open` and `openSync`)\n \n To create a temporary file use `open` or `openSync`, passing\n them an optional prefix, suffix, or both (see below for details on\n@@ -72,7 +74,9 @@\n // Process the data (note: error handling omitted)\n temp.open('myprefix', function(err, info) {\n   if (!err) {\n-    fs.write(info.fd, myData);\n+    fs.write(info.fd, myData, (err) => {\n+\t\tconsole.log(err);\n+\t});\n     fs.close(info.fd, function(err) {\n       exec(\"grep foo '\" + info.path + \"' | wc -l\", function(err, stdout) {\n         util.puts(stdout.trim());\n@@ -82,7 +86,7 @@\n });\n ```\n \n-### Want Cleanup? Make sure you ask for it.\n+### Want Cleanup? Make sure you ask for it. (`track`)\n \n As noted in the example above, if you want temp to track the files and\n directories it creates and handle removing those files and directories\n@@ -101,7 +105,7 @@\n \n But it's easy.\n \n-#### Cleanup anytime\n+#### Cleanup anytime (`cleanup`, `cleanupSync`)\n \n When tracking, you can run `cleanup()` and `cleanupSync()` anytime\n (`cleanupSync()` will be run for you on process exit). An object will\n@@ -125,7 +129,7 @@\n Note: If you're not tracking, an error (\"not tracking\") will be passed\n to the callback.\n \n-### Temporary Directories\n+### Temporary Directories (`mkdir`, `mkdirSync`)\n \n To create a temporary directory, use `mkdir` or `mkdirSync`, passing\n it an optional prefix, suffix, or both (see below for details on affixes).\n@@ -165,11 +169,12 @@\n });\n ```\n \n-### Temporary Streams\n+### Temporary Streams (`createWriteStream`)\n \n To create a temporary WriteStream, use 'createWriteStream', which sits\n on top of `fs.createWriteStream`. The return value is a\n-`fs.WriteStream` whose `path` is registered for removal when\n+`fs.WriteStream` with a `path` property containing the temporary file\n+path for the stream. The `path` is registered for removal when\n `temp.cleanup` is called (because `temp.track()` is called).\n \n ```javascript\n@@ -179,12 +184,13 @@\n temp.track();\n \n var stream = temp.createWriteStream();\n+// stream.path contains the temporary file path for the stream\n stream.write(\"Some data\");\n // Maybe do some other things\n stream.end();\n ```\n \n-### Affixes\n+### Affixes (options)\n \n You can provide custom prefixes and suffixes when creating temporary\n files and directories. If you provide a string, it is used as the prefix\n@@ -200,7 +206,7 @@\n",
					"match": false,
					"packageHash": "8439be52554385c73d2752c3bc3fcb61b2ce83f87a2497ac983ba4bde5e28bf4",
					"size": 8136,
					"sourceHash": "42af0846275aaece3a7669ef5725afa5015235b1eeea4b7cd21f925c535f135d",
					"status": "content"
				},
				"examples/grepcount.js": {
					"match": false,
					"packageHash": "9a1cb7e8044bd4fbd891589e8019beb74e86093c2df8d805460a412fa5ef4292",
					"size": 472,
					"status": "missing-in-source"
				},
				"examples/pdfcreator.js": {
					"match": false,
					"packageHash": "6feba8676bd597fa5e7f8eb532032d9319ce32b56bde3aedc462dbae935284cb",
					"size": 653,
					"status": "missing-in-source"
				},
				"lib/temp.js": {
					"diff": "--- published/lib/temp.js\n+++ rebuilt/lib/temp.js\n@@ -1,26 +1,57 @@\n-var fs   = require('fs'),\n-    os   = require('os'),\n-    path = require('path'),\n-    cnst = require('constants');\n-\n-var rimraf     = require('rimraf'),\n-    rimrafSync = rimraf.sync;\n-\n-/* HELPERS */\n+let fs   = require('fs');\n+let path = require('path');\n+let cnst = require('constants');\n+\n+let os         = require('os');\n+let rimraf     = require('rimraf');\n+let mkdirp     = require('mkdirp');\n+let osTmpdir   = require('os').tmpdir();\n+\n+const rimrafSync = rimraf.sync;\n+\n+//== helpers\n+//\n+let dir = path.resolve(os.tmpdir());\n+\n+let RDWR_EXCL = cnst.O_CREAT | cnst.O_TRUNC | cnst.O_RDWR | cnst.O_EXCL;\n+\n+let promisify = function(callback) {\n+  if (typeof callback === 'function') {\n+    return [undefined, callback];\n+  }\n+\n+  var promiseCallback;\n+  var promise = new Promise(function(resolve, reject) {\n+    promiseCallback = function() {\n+      var args = Array.from(arguments);\n+      var err = args.shift();\n+\n+      process.nextTick(function() {\n+        if (err) {\n+          reject(err);\n+        } else if (args.length === 1) {\n+          resolve(args[0]);\n+        } else {\n+          resolve(args);\n+        }\n+      });\n+    };\n+  });\n \n-var RDWR_EXCL = cnst.O_CREAT | cnst.O_TRUNC | cnst.O_RDWR | cnst.O_EXCL;\n+  return [promise, promiseCallback];\n+};\n \n var generateName = function(rawAffixes, defaultPrefix) {\n   var affixes = parseAffixes(rawAffixes, defaultPrefix);\n   var now = new Date();\n   var name = [affixes.prefix,\n-              now.getYear(), now.getMonth(), now.getDate(),\n+              now.getFullYear(), now.getMonth(), now.getDate(),\n               '-',\n               process.pid,\n               '-',\n               (Math.random() * 0x100000000 + 1).toString(36),\n               affixes.suffix].join('');\n-  return path.join(affixes.dir || exports.dir, name);\n+  return path.join(affixes.dir || dir, name);\n };\n \n var parseAffixes = function(rawAffixes, defaultPrefix) {\n@@ -34,7 +65,7 @@\n       affixes = rawAffixes;\n       break;\n     default:\n-      throw(\"Unknown affix declaration: \" + affixes);\n+      throw new Error(\"Unknown affix declaration: \" + affixes);\n     }\n   } else {\n     affixes.prefix = defaultPrefix;\n@@ -73,7 +104,14 @@\n function attachExitListener() {\n   if (!tracking) return false;\n   if (!exitListenerAttached) {\n-    process.addListener('exit', cleanupSync);\n+    process.addListener('exit', function() {\n+        try {\n+            cleanupSync();\n+        } catch(err) {\n+            console.warn(\"Fail to clean temporary files on exit : \", err);\n+            throw err;\n+        }\n+    });\n     exitListenerAttached = true;\n   }\n }\n@@ -85,26 +123,26 @@\n   var count = 0;\n   var toDelete;\n",
					"match": false,
					"packageHash": "0add84090be4a800d56d01b682f9ea9c4f061d23457b0edd878bbf91e3c48da2",
					"size": 6535,
					"sourceHash": "ab00e9972ccbd639a4558519f40ad6839cb2c616b3da6cb9c12dea2828c6c9c9",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -10,17 +10,19 @@\n     \"tmpdir\",\n     \"security\"\n   ],\n-  \"version\": \"0.8.0\",\n-  \"author\": \"Bruce Williams <bruce@codefluency.com>\",\n+  \"version\": \"0.9.4\",\n+  \"author\": \"Bruce Williams <brwcodes@gmail.com>\",\n+  \"license\": \"MIT\",\n   \"directories\": {\n     \"lib\": \"lib\"\n   },\n-  \"engines\": [\n-    \"node >=0.8.0\"\n-  ],\n+  \"engines\": {\n+    \"node\": \">=6.0.0\"\n+  },\n   \"main\": \"./lib/temp\",\n   \"dependencies\": {\n-    \"rimraf\": \"~2.2.6\"\n+    \"rimraf\": \"~2.6.2\",\n+    \"mkdirp\": \"^0.5.1\"\n   },\n   \"keywords\": [\n     \"temporary\",\n@@ -31,12 +33,17 @@\n     \"tmpdir\",\n     \"tmpfile\"\n   ],\n-  \"devDependencies\": {},\n+  \"files\": [\n+    \"lib\"\n+  ],\n+  \"devDependencies\": {\n+    \"mocha\": \"6.2.3\"\n+  },\n   \"repository\": {\n     \"type\": \"git\",\n     \"url\": \"git://github.com/bruce/node-temp.git\"\n   },\n   \"scripts\": {\n-    \"test\": \"node test/temp-test.js\"\n+    \"test\": \"mocha test/temp-test.js\"\n   }\n }\n",
					"match": false,
					"packageHash": "f51af14f90e1ca0cfc18f18e60d85c9efa64f4e06b12ec99570eb36cfcfc77a4",
					"size": 716,
					"sourceHash": "d26998b8c650d2917e65bcd5397b53b30a22c5a96e44d75e5a2fbf254680def0",
					"status": "content"
				},
				"test/temp-test.js": {
					"match": false,
					"packageHash": "e4cbded83913e117270d5158170a7b1457aa00b9cd859037f68dca28c1f0ab79",
					"size": 3326,
					"status": "missing-in-source"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 1,
				"missingInPackage": 0,
				"missingInSource": 5,
				"score": 0.1111111111111111,
				"totalFiles": 9
			}
		}
	}
]
