[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-03T11:07:01.422Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "localforage@0.0.1",
			"name": "localforage",
			"version": "0.0.1",
			"location": "https://registry.npmjs.org/localforage/-/localforage-0.0.1.tgz",
			"integrity": "sha512-AhpV59y3YEemSJ8j5mDskj7df4OP4vPvqwVuAUSg0U7I6aRmod9GBezeztI703RirzsMdGrsbYBAZjJ4YgF2hA==",
			"publishedAt": "2014-02-13T15:17:06.891Z",
			"publishedWith": {
				"node": null,
				"npm": "1.3.14"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/mozilla/localForage.git",
			"spec": "github:mozilla/localForage#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".gitmodules": {
					"match": false,
					"packageHash": "dad35abdd860ff8498de6e0fa60681f6ecc6ff080e0f7ea43fa2edc714741325",
					"size": 98,
					"status": "missing-in-source"
				},
				".npmignore": {
					"match": false,
					"packageHash": "abf07b042f15b1af158eaf02fb3eeb81698d6c74ea3926a2f935f85c1bafa1b4",
					"size": 23,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"packageHash": "32222e3a4978bc210da2a009fc3ff5b34b5f143b15a7a124dac6a99040514a73",
					"size": 373,
					"status": "missing-in-source"
				},
				"CONTRIBUTING.md": {
					"diff": "--- published/CONTRIBUTING.md\n+++ rebuilt/CONTRIBUTING.md\n@@ -1,4 +1,20 @@\n-# Contributing to localForage #\n+# Filing issues\n+\n+Please\n+[check the existing issues](https://github.com/mozilla/localForage/issues) to\n+make sure your issue hasn't already been filed.\n+\n+If you have a bug to report, please file it.\n+You are also encouraged to create an example (or [edit an existing one](http://codepen.io/thgreasi/pen/ojYKeE)) to showcase your issue.\n+\n+If you'd like to see a feature\n+implemented, you can file an issue, but know that pull requests for small\n+things like adding a line in a config file will get more attention than an\n+issue asking someone else to do it.\n+\n+See below for [issues that have been discussed and will be rejected](#features-localforage-will-reject).\n+\n+# Contributing to localForage\n \n First off: thanks! Open source software (and thus all software) exists because\n of people like you. <3\n@@ -7,11 +23,37 @@\n request on GitHub. After that someone will code review your work and either\n ask you to fix any errors or merge the code into master. Here are a few tips:\n \n+* **all drivers must have the same public API**: refer to [the API tests](https://github.com/mozilla/localForage/blob/master/test/test.api.coffee) for how we ensure this, but simply put: all drivers should share the _exact same_ outward-facing API\n * **do your work on a feature branch**: this keeps things clean and easy\n * **try to rebase master into your branch**: this keeps the commit history clean and avoids merge commits inside feature branches\n * **write tests**: if you're adding new features, _please_ write tests; likewise, if you're fixing a bug that wasn't previously caught by a test, please add one\n-* **run `make` before you commit**: this will build out the files in the `dist/` folder and ensure your tests pass\n+* **run `grunt build` before you commit**: this will build out the files in the `dist/` folder and ensure your tests pass\n+\n+Please commit changes at the top-level folder along with your changes in the\n+`src/` folder--**do not make these changes separate commits**. These are the\n+built versions of `localforage.js` and `localforage.min.js`, which are\n+used by bower.\n \n If you have any questions, need some help, or anything else, don't feel shy!\n The team behind this library is often available on IRC\n ([irc.mozilla.org](https://wiki.mozilla.org/IRC) on the `#apps` channel).\n+\n+## Coding Style\n+\n+All code can be tested for style by running the unit tests (`npm test`). This will make sure your code conforms to our styleguide. (You can read the rules in `.jshint` and `.jscsrc`.)\n+\n+## Features localForage will reject\n+\n+### node.js support\n+\n+localForage is a browser library with a specific focus on client-side,\n+offline storage. It is not a general-purpose storage library and is not meant\n+to allow for the same API on the client and the server. Implementing the\n+localForage API wouldn't be hard (it's just localStorage with callbacks and\n+ES6 promises), but it's a job for another library.\n+\n+### Legacy browser support\n+\n+Basically this means anything before IE 8. I know there are hacky ways to\n+support storage with cookies or IE Userdata or whatever, but anything worse\n+than localStorage isn't worth investing into.\n",
					"match": false,
					"packageHash": "de0cb457725aaef7aa979e3c92ebe448c462e7724977ad04121e23e8ec470720",
					"size": 1054,
					"sourceHash": "f108175e10e69f34932194544c4198b5ec6438d6d4531555733bf902222800af",
					"status": "content"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -1,188 +1,198 @@\n-Apache License\n-Version 2.0, January 2004\n-http://www.apache.org/licenses/\n-\n-TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n-\n-1. Definitions.\n-\n-\"License\" shall mean the terms and conditions for use, reproduction, and\n-distribution as defined by Sections 1 through 9 of this document.\n-\n-\"Licensor\" shall mean the copyright owner or entity authorized by the copyright\n-owner that is granting the License.\n-\n-\"Legal Entity\" shall mean the union of the acting entity and all other entities\n-that control, are controlled by, or are under common control with that entity.\n-For the purposes of this definition, \"control\" means (i) the power, direct or\n-indirect, to cause the direction or management of such entity, whether by\n-contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the\n-outstanding shares, or (iii) beneficial ownership of such entity.\n-\n-\"You\" (or \"Your\") shall mean an individual or Legal Entity exercising\n-permissions granted by this License.\n-\n-\"Source\" form shall mean the preferred form for making modifications, including\n-but not limited to software source code, documentation source, and configuration\n-files.\n-\n-\"Object\" form shall mean any form resulting from mechanical transformation or\n-translation of a Source form, including but not limited to compiled object code,\n-generated documentation, and conversions to other media types.\n-\n-\"Work\" shall mean the work of authorship, whether in Source or Object form, made\n-available under the License, as indicated by a copyright notice that is included\n-in or attached to the work (an example is provided in the Appendix below).\n-\n-\"Derivative Works\" shall mean any work, whether in Source or Object form, that\n-is based on (or derived from) the Work and for which the editorial revisions,\n-annotations, elaborations, or other modifications represent, as a whole, an\n-original work of authorship. For the purposes of this License, Derivative Works\n-shall not include works that remain separable from, or merely link (or bind by\n-name) to the interfaces of, the Work and Derivative Works thereof.\n-\n-\"Contribution\" shall mean any work of authorship, including the original version\n-of the Work and any modifications or additions to that Work or Derivative Works\n-thereof, that is intentionally submitted to Licensor for inclusion in the Work\n-by the copyright owner or by an individual or Legal Entity authorized to submit\n-on behalf of the copyright owner. For the purposes of this definition,\n-\"submitted\" means any form of electronic, verbal, or written communication sent\n-to the Licensor or its representatives, including but not limited to\n-communication on electronic mailing lists, source code control systems, and\n-issue tracking systems that are managed by, or on behalf of, the Licensor for\n-the purpose of discussing and improving the Work, but excluding communication\n-that is conspicuously marked or otherwise designated in writing by the copyright\n-owner as \"Not a Contribution.\"\n-\n-\"Contributor\" shall mean Licensor and any individual or Legal Entity on behalf\n-of whom a Contribution has been received by Licensor and subsequently\n-incorporated within the Work.\n-\n-2. Grant of Copyright License.\n-\n-Subject to the terms and conditions of this License, each Contributor hereby\n-grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free,\n-irrevocable copyright license to reproduce, prepare Derivative Works of,\n-publicly display, publicly perform, sublicense, and distribute the Work and such\n-Derivative Works in Source or Object form.\n-\n-3. Grant of Patent License.\n-\n-Subject to the terms and conditions of this License, each Contributor hereby\n-grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free,\n-irrevocable (except as stated in this section) patent license to make, have\n-made, use, offer to sell, sell, import, and otherwise transfer the Work, where\n-such license applies only to those patent claims licensable by such Contributor\n-that are necessarily infringed by their Contribution(s) alone or by combination\n-of their Contribution(s) with the Work to which such Contribution(s) was\n-submitted. If You institute patent litigation against any entity (including a\n-cross-claim or counterclaim in a lawsuit) alleging that the Work or a\n-Contribution incorporated within the Work constitutes direct or contributory\n-patent infringement, then any patent licenses granted to You under this License\n-for that Work shall terminate as of the date such litigation is filed.\n-\n-4. Redistribution.\n-\n-You may reproduce and distribute copies of the Work or Derivative Works thereof\n-in any medium, with or without modifications, and in Source or Object form,\n-provided that You meet the following conditions:\n-\n-You must give any other recipients of the Work or Derivative Works a copy of\n-this License; and\n-You must cause any modified files to carry prominent notices stating that You\n-changed the files; and\n-You must retain, in the Source form of any Derivative Works that You distribute,\n-all copyright, patent, trademark, and attribution notices from the Source form\n-of the Work, excluding those notices that do not pertain to any part of the\n-Derivative Works; and\n",
					"match": false,
					"packageHash": "73ba74dfaa520b49a401b5d21459a8523a146f3b7518a833eea5efa85130bf68",
					"size": 10273,
					"sourceHash": "8c3c0576866d6c22f56cbe65b8ef20e63c8aa75ec58f8cd139a242edb42bf8f1",
					"status": "content"
				},
				"Makefile": {
					"match": false,
					"packageHash": "456a4e9195b8eb9b2fa504070b8a015ee563bda22cf162d627a6ea840ba2c8df",
					"size": 49,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,168 +1,256 @@\n-# localForage [![Build Status](https://secure.travis-ci.org/mozilla/localForage.png?branch=master)](http://travis-ci.org/mozilla/localForage)\n+# localForage\n+[![NPM version](https://badge.fury.io/js/localforage.svg)](http://badge.fury.io/js/localforage)\n+[![npm](https://img.shields.io/npm/dm/localforage.svg?maxAge=2592000)](https://npmcharts.com/compare/localforage?minimal=true)\n+[![jsDelivr Hits](https://data.jsdelivr.com/v1/package/npm/localforage/badge?style=rounded)](https://www.jsdelivr.com/package/npm/localforage)\n+[![minzipped size](https://badgen.net/bundlephobia/minzip/localforage)](https://bundlephobia.com/result?p=localforage@1.10.0)\n+\n+localForage is a fast and simple storage library for JavaScript. localForage\n+improves the offline experience of your web app by using asynchronous storage\n+(IndexedDB or WebSQL) with a simple, `localStorage`-like API.\n+\n+localForage uses localStorage in browsers with no IndexedDB or\n+WebSQL support. See [the wiki for detailed compatibility info][supported browsers].\n+\n+To use localForage, just drop a single JavaScript file into your page:\n+\n+```html\n+<script src=\"localforage/dist/localforage.js\"></script>\n+<script>localforage.getItem('something', myCallback);</script>\n+```\n+Try the [live example](http://codepen.io/thgreasi/pen/ojYKeE).\n+\n+Download the [latest localForage from GitHub](https://github.com/localForage/localForage/releases/latest), or install with\n+[npm](https://www.npmjs.com/):\n \n-localForage is a handy library that improves the offline experience of your web\n-app by using asynchronous storage (via IndexedDB or WebSQL where available) but\n-with a simple, `localStorage`-like API.\n-\n-localForage includes a localStorage-backed fallback store for browsers with no\n-IndexedDB or WebSQL support. This means that asynchronous storage is available\n-in Chrome, Firefox, and Safari (including Safari Mobile).\n-\n-## Browser Support\n-\n-All of 'em. Worst-case localStorage fallback will be used, but asynchronous\n-storage will be used for:\n-\n-* Android Browser (2.1+)\n-* Blackberry (7+)\n-* Chrome (23+)\n-* Chrome for Android (32+)\n-* Firefox (10+)\n-* Firefox for Android (25+)\n-* IE (10+)\n-* IE Mobile (10+)\n-* Opera (15+)\n-* Opera Mobile (11+)\n-* Phonegap/Apache Cordova (1.2.0+)\n-* Safari (3.1+)\n+```bash\n+npm install localforage\n+```\n \n-Note that, because of WebSQL support, apps packaged with Phonegap will also\n-use asynchronous storage. Pretty slick!\n+[supported browsers]: https://github.com/localForage/localForage/wiki/Supported-Browsers-Platforms\n \n ## Support\n \n-Lost? Need help? This README has some simple guides and the code has decent\n-documentation, but I'm working on a real API guide. In the meantime, if you're\n-stuck using the library, running the tests, or want to contribute, you can\n-visit [irc.mozilla.org](https://wiki.mozilla.org/IRC) and head to the `#apps`\n-channel to ask questions about localForage.\n+Lost? Need help? Try the\n+[localForage API documentation](https://localforage.github.io/localForage). [localForage API文档也有中文版。](https://localforage.docschina.org)\n+\n+If you're having trouble using the library, running the tests, or want to contribute to localForage, please look through the [existing issues](https://github.com/localForage/localForage/issues) for your problem first before creating a new one. If you still need help, [feel free to file an issue](https://github.com/localForage/localForage/issues/new).\n \n # How to use localForage\n \n-## Callbacks\n+## Callbacks vs Promises\n \n-Because localForage uses async storage, it has an async API. It's otherwise\n-exactly the same as the\n+Because localForage uses async storage, it has an async API.\n+It's otherwise exactly the same as the\n [localStorage API](https://hacks.mozilla.org/2009/06/localstorage/).\n \n-```javascript\n-// In localStorage, we would do:\n-localStorage.setItem('key', JSON.stringify('value'));\n-doSomethingElse();\n+localForage has a dual API that allows you to either use Node-style callbacks\n+or [Promises](https://www.promisejs.org/). If you are unsure which one is right for you, it's recommended to use Promises.\n+\n+Here's an example of the Node-style callback form:\n \n-// With localForage, we use callbacks:\n-localforage.setItem('key', 'value', doSomethingElse);\n+```js\n+localforage.setItem('key', 'value', function (err) {\n+  // if err is non-null, we got an error\n+  localforage.getItem('key', function (err, value) {\n+    // if err is non-null, we got an error. otherwise, value is the value\n",
					"match": false,
					"packageHash": "8bf3306c064e1c386aa8d05dc216df66e53b8e1f10edf381acd6cc418e7274dd",
					"size": 5707,
					"sourceHash": "f8bac2dc94d14089423d6dce9226ffd603929f00a357ec47e851ca7f604b61f6",
					"status": "content"
				},
				"bower.json": {
					"diff": "--- published/bower.json\n+++ rebuilt/bower.json\n@@ -1,19 +1,27 @@\n {\n     \"name\": \"localforage\",\n-    \"version\": \"0.0.1\",\n-    \"main\": [\n-        \"dist/localforage.min.js\",\n-        \"dist/backbone.localforage.min.js\"\n-    ],\n+    \"main\": [\"dist/localforage.js\"],\n     \"ignore\": [\n         \".travis.yml\",\n-        \"build.sh\",\n         \"CONTRIBUTING.md\",\n+        \"config.rb\",\n+        \"Gemfile\",\n+        \"Gemfile.lock\",\n+        \"Rakefile\",\n         \"LICENSE\",\n-        \"Makefile\",\n+        \"docs*\",\n+        \"examples*\",\n         \"test*\",\n-        \"vendor/*\"\n+        \"site*\"\n     ],\n     \"dependencies\": {},\n-    \"devDependencies\": {}\n+    \"devDependencies\": {\n+        \"es6-promise\": \"~1.0.0\",\n+        \"requirejs\": \"~2.1.10\",\n+        \"mocha\": \"~3.4.2\",\n+        \"expect\": \"~0.3.1\",\n+        \"assert\": \"~0.1.0\",\n+        \"modernizr\": \"~2.8.1\"\n+    },\n+    \"version\": \"1.10.0\"\n }\n",
					"match": false,
					"packageHash": "6abe316d41394dee0c21def3b123a16c1415488c38f14857faabc29c54ac36e2",
					"size": 372,
					"sourceHash": "ae74f765869c326d393384db66996f323813648e5499cc466cfc91d4051924db",
					"status": "content"
				},
				"build.sh": {
					"match": false,
					"packageHash": "244348983bfc5684f187ae9a75f9ea0265f3a6defc6c151af73aeb037ff01aba",
					"size": 509,
					"status": "missing-in-source"
				},
				"dist/backbone.localforage.js": {
					"match": false,
					"packageHash": "d96435a7e2bb4e69c63f2b39b589a96583f4ed9ada387ae8c68d8ceecf710df5",
					"size": 6959,
					"status": "missing-in-source"
				},
				"dist/backbone.localforage.min.js": {
					"match": false,
					"packageHash": "2aaa91ed72fc9a0bcc7de042031fc4aac2b57fe215acdb3575489ef78abc8364",
					"size": 3047,
					"status": "missing-in-source"
				},
				"dist/localforage.js": {
					"diff": "--- published/dist/localforage.js\n+++ rebuilt/dist/localforage.js\n@@ -1,1254 +1,1831 @@\n /*!\n-  localForage -- Offline Storage, Improved\n-  http://mozilla.github.io/localForage\n-  (c) 2013-2014 Mozilla, Apache License 2.0\n+    localForage -- Offline Storage, Improved\n+    Version 1.10.0\n+    https://localforage.github.io/localForage\n+    (c) 2013-2017 Mozilla, Apache License 2.0\n */\n+(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n+(function (global){\n+'use strict';\n+var Mutation = global.MutationObserver || global.WebKitMutationObserver;\n+\n+var scheduleDrain;\n+\n+{\n+  if (Mutation) {\n+    var called = 0;\n+    var observer = new Mutation(nextTick);\n+    var element = global.document.createTextNode('');\n+    observer.observe(element, {\n+      characterData: true\n+    });\n+    scheduleDrain = function () {\n+      element.data = (called = ++called % 2);\n+    };\n+  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n+    var channel = new global.MessageChannel();\n+    channel.port1.onmessage = nextTick;\n+    scheduleDrain = function () {\n+      channel.port2.postMessage(0);\n+    };\n+  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n+    scheduleDrain = function () {\n \n-// ES6 Promises Polyfill\n-// https://github.com/jakearchibald/ES6-Promises\n-// MIT license\n-// (https://github.com/jakearchibald/ES6-Promises/blob/master/LICENSE)\n-(function() {\n-var define, requireModule, require, requirejs;\n-\n-(function() {\n-  var registry = {}, seen = {};\n-\n-  define = function(name, deps, callback) {\n-    registry[name] = { deps: deps, callback: callback };\n-  };\n-\n-  requirejs = require = requireModule = function(name) {\n-  requirejs._eak_seen = registry;\n-\n-    if (seen[name]) { return seen[name]; }\n-    seen[name] = {};\n-\n-    if (!registry[name]) {\n-      throw new Error(\"Could not find module \" + name);\n-    }\n-\n-    var mod = registry[name],\n-        deps = mod.deps,\n-        callback = mod.callback,\n-        reified = [],\n-        exports;\n-\n-    for (var i=0, l=deps.length; i<l; i++) {\n-      if (deps[i] === 'exports') {\n-        reified.push(exports = {});\n-      } else {\n-        reified.push(requireModule(resolve(deps[i])));\n-      }\n+      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n+      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n+      var scriptEl = global.document.createElement('script');\n+      scriptEl.onreadystatechange = function () {\n+        nextTick();\n+\n+        scriptEl.onreadystatechange = null;\n+        scriptEl.parentNode.removeChild(scriptEl);\n+        scriptEl = null;\n+      };\n+      global.document.documentElement.appendChild(scriptEl);\n+    };\n+  } else {\n+    scheduleDrain = function () {\n+      setTimeout(nextTick, 0);\n+    };\n+  }\n+}\n+\n+var draining;\n+var queue = [];\n+//named nextTick for less confusing stack traces\n+function nextTick() {\n+  draining = true;\n+  var i, oldQueue;\n",
					"match": false,
					"packageHash": "ddcd9dc31918cf31b726496d12d99aa3f68f1d8c1d175c00cf7e1ede95f1ec98",
					"size": 46772,
					"sourceHash": "e9f100dee1745c2b62b08705672e474d3e7c5e871763b2d7ec951f1222ba5b96",
					"status": "content"
				},
				"dist/localforage.min.js": {
					"diff": "--- published/dist/localforage.min.js\n+++ rebuilt/dist/localforage.min.js\n@@ -1 +1,7 @@\n-!function(){var define,requireModule,require,requirejs;!function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}};requirejs=require=requireModule=function(name){requirejs._eak_seen=registry;if(seen[name]){return seen[name]}seen[name]={};if(!registry[name]){throw new Error(\"Could not find module \"+name)}var mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],exports;for(var i=0,l=deps.length;i<l;i++){if(deps[i]===\"exports\"){reified.push(exports={})}else{reified.push(requireModule(resolve(deps[i])))}}var value=callback.apply(this,reified);return seen[name]=exports||value;function resolve(child){if(child.charAt(0)!==\".\"){return child}var parts=child.split(\"/\");var parentBase=name.split(\"/\").slice(0,-1);for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===\"..\"){parentBase.pop()}else if(part===\".\"){continue}else{parentBase.push(part)}}return parentBase.join(\"/\")}}}();define(\"promise/all\",[\"./utils\",\"exports\"],function(__dependency1__,__exports__){\"use strict\";var isArray=__dependency1__.isArray;var isFunction=__dependency1__.isFunction;function all(promises){var Promise=this;if(!isArray(promises)){throw new TypeError(\"You must pass an array to all.\")}return new Promise(function(resolve,reject){var results=[],remaining=promises.length,promise;if(remaining===0){resolve([])}function resolver(index){return function(value){resolveAll(index,value)}}function resolveAll(index,value){results[index]=value;if(--remaining===0){resolve(results)}}for(var i=0;i<promises.length;i++){promise=promises[i];if(promise&&isFunction(promise.then)){promise.then(resolver(i),reject)}else{resolveAll(i,promise)}}})}__exports__.all=all});define(\"promise/asap\",[\"exports\"],function(__exports__){\"use strict\";var browserGlobal=typeof window!==\"undefined\"?window:{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var local=typeof global!==\"undefined\"?global:this;function useNextTick(){return function(){process.nextTick(flush)}}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode(\"\");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useSetTimeout(){return function(){local.setTimeout(flush,1)}}var queue=[];function flush(){for(var i=0;i<queue.length;i++){var tuple=queue[i];var callback=tuple[0],arg=tuple[1];callback(arg)}queue=[]}var scheduleFlush;if(typeof process!==\"undefined\"&&{}.toString.call(process)===\"[object process]\"){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else{scheduleFlush=useSetTimeout()}function asap(callback,arg){var length=queue.push([callback,arg]);if(length===1){scheduleFlush()}}__exports__.asap=asap});define(\"promise/cast\",[\"exports\"],function(__exports__){\"use strict\";function cast(object){if(object&&typeof object===\"object\"&&object.constructor===this){return object}var Promise=this;return new Promise(function(resolve){resolve(object)})}__exports__.cast=cast});define(\"promise/config\",[\"exports\"],function(__exports__){\"use strict\";var config={instrument:false};function configure(name,value){if(arguments.length===2){config[name]=value}else{return config[name]}}__exports__.config=config;__exports__.configure=configure});define(\"promise/polyfill\",[\"./promise\",\"./utils\",\"exports\"],function(__dependency1__,__dependency2__,__exports__){\"use strict\";var RSVPPromise=__dependency1__.Promise;var isFunction=__dependency2__.isFunction;function polyfill(){var es6PromiseSupport=\"Promise\"in window&&\"cast\"in window.Promise&&\"resolve\"in window.Promise&&\"reject\"in window.Promise&&\"all\"in window.Promise&&\"race\"in window.Promise&&function(){var resolve;new window.Promise(function(r){resolve=r});return isFunction(resolve)}();if(!es6PromiseSupport){window.Promise=RSVPPromise}}__exports__.polyfill=polyfill});define(\"promise/promise\",[\"./config\",\"./utils\",\"./cast\",\"./all\",\"./race\",\"./resolve\",\"./reject\",\"./asap\",\"exports\"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){\"use strict\";var config=__dependency1__.config;var configure=__dependency1__.configure;var objectOrFunction=__dependency2__.objectOrFunction;var isFunction=__dependency2__.isFunction;var now=__dependency2__.now;var cast=__dependency3__.cast;var all=__dependency4__.all;var race=__dependency5__.race;var staticResolve=__dependency6__.resolve;var staticReject=__dependency7__.reject;var asap=__dependency8__.asap;var counter=0;config.async=asap;function Promise(resolver){if(!isFunction(resolver)){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}if(!(this instanceof Promise)){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}this._subscribers=[];invokeResolver(resolver,this)}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value,error,succeeded,failed;if(hasCallback){try{value=callback(detail);succeeded=true}catch(e){failed=true;error=e}}else{value=detail;succeeded=true}if(handleThenable(promise,value)){return}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){resolve(promise,value)}else if(settled===REJECTED){reject(promise,value)}}var PENDING=void 0;var SEALED=0;var FULFILLED=1;var REJECTED=2;function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;subscribers[length]=child;subscribers[length+FULFILLED]=onFulfillment;subscribers[length+REJECTED]=onRejection}function publish(promise,settled){var child,callback,subscribers=promise._subscribers,detail=promise._detail;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];invokeCallback(settled,child,callback,detail)}promise._subscribers=null}Promise.prototype={constructor:Promise,_state:undefined,_detail:undefined,_subscribers:undefined,then:function(onFulfillment,onRejection){var promise=this;var thenPromise=new this.constructor(function(){});if(this._state){var callbacks=arguments;config.async(function invokePromiseCallback(){invokeCallback(promise._state,thenPromise,callbacks[promise._state-1],promise._detail)})}else{subscribe(this,thenPromise,onFulfillment,onRejection)}return thenPromise},\"catch\":function(onRejection){return this.then(null,onRejection)}};Promise.all=all;Promise.cast=cast;Promise.race=race;Promise.resolve=staticResolve;Promise.reject=staticReject;function handleThenable(promise,value){var then=null,resolved;try{if(promise===value){throw new TypeError(\"A promises callback cannot return that same promise.\")}if(objectOrFunction(value)){then=value.then;if(isFunction(then)){then.call(value,function(val){if(resolved){return true}resolved=true;if(value!==val){resolve(promise,val)}else{fulfill(promise,val)}},function(val){if(resolved){return true}resolved=true;reject(promise,val)});return true}}}catch(error){if(resolved){return true}reject(promise,error);return true}return false}function resolve(promise,value){if(promise===value){fulfill(promise,value)}else if(!handleThenable(promise,value)){fulfill(promise,value)}}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._state=SEALED;promise._detail=value;config.async(publishFulfillment,promise)}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=SEALED;promise._detail=reason;config.async(publishRejection,promise)}function publishFulfillment(promise){publish(promise,promise._state=FULFILLED)}function publishRejection(promise){publish(promise,promise._state=REJECTED)}__exports__.Promise=Promise});define(\"promise/race\",[\"./utils\",\"exports\"],function(__dependency1__,__exports__){\"use strict\";var isArray=__dependency1__.isArray;function race(promises){var Promise=this;if(!isArray(promises)){throw new TypeError(\"You must pass an array to race.\")}return new Promise(function(resolve,reject){var results=[],promise;for(var i=0;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then===\"function\"){promise.then(resolve,reject)}else{resolve(promise)}}})}__exports__.race=race});define(\"promise/reject\",[\"exports\"],function(__exports__){\"use strict\";function reject(reason){var Promise=this;return new Promise(function(resolve,reject){reject(reason)})}__exports__.reject=reject});define(\"promise/resolve\",[\"exports\"],function(__exports__){\"use strict\";function resolve(value){var Promise=this;return new Promise(function(resolve,reject){resolve(value)})}__exports__.resolve=resolve});define(\"promise/utils\",[\"exports\"],function(__exports__){\"use strict\";function objectOrFunction(x){return isFunction(x)||typeof x===\"object\"&&x!==null}function isFunction(x){return typeof x===\"function\"}function isArray(x){return Object.prototype.toString.call(x)===\"[object Array]\"}var now=Date.now||function(){return(new Date).getTime()};__exports__.objectOrFunction=objectOrFunction;__exports__.isFunction=isFunction;__exports__.isArray=isArray;__exports__.now=now});requireModule(\"promise/polyfill\").polyfill()}();!function(){\"use strict\";var DBNAME=\"asyncStorage\";var DBVERSION=1;var STORENAME=\"keyvaluepairs\";var Promise=window.Promise;var db=null;var indexedDB=indexedDB||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;if(!indexedDB){return}function withStore(type,f){if(db){f(db.transaction(STORENAME,type).objectStore(STORENAME))}else{var openreq=indexedDB.open(DBNAME,DBVERSION);openreq.onerror=function withStoreOnError(){console.error(\"asyncStorage: can't open database:\",openreq.error.name)};openreq.onupgradeneeded=function withStoreOnUpgradeNeeded(){openreq.result.createObjectStore(STORENAME)};openreq.onsuccess=function withStoreOnSuccess(){db=openreq.result;f(db.transaction(STORENAME,type).objectStore(STORENAME))}}}function getItem(key,callback){return new Promise(function(resolve,reject){withStore(\"readonly\",function getItemBody(store){var req=store.get(key);req.onsuccess=function getItemOnSuccess(){var value=req.result;if(value===undefined){value=null}if(callback){callback(value)}resolve(value)};req.onerror=function getItemOnError(){console.error(\"Error in asyncStorage.getItem(): \",req.error.name)}})})}function setItem(key,value,callback){return new Promise(function(resolve,reject){withStore(\"readwrite\",function setItemBody(store){if(value===undefined){value=null}var req=store.put(value,key);req.onsuccess=function setItemOnSuccess(){if(callback){callback(value)}resolve(value)};req.onerror=function setItemOnError(){console.error(\"Error in asyncStorage.setItem(): \",req.error.name)}})})}function removeItem(key,callback){return new Promise(function(resolve,reject){withStore(\"readwrite\",function removeItemBody(store){var req=store.delete(key);req.onsuccess=function removeItemOnSuccess(){if(callback){callback()}resolve()};req.onerror=function removeItemOnError(){console.error(\"Error in asyncStorage.removeItem(): \",req.error.name)}})})}function clear(callback){return new Promise(function(resolve,reject){withStore(\"readwrite\",function clearBody(store){var req=store.clear();req.onsuccess=function clearOnSuccess(){if(callback){callback()}resolve()};req.onerror=function clearOnError(){console.error(\"Error in asyncStorage.clear(): \",req.error.name)}})})}function length(callback){return new Promise(function(resolve,reject){withStore(\"readonly\",function lengthBody(store){var req=store.count();req.onsuccess=function lengthOnSuccess(){if(callback){callback(req.result)}resolve(req.result)};req.onerror=function lengthOnError(){console.error(\"Error in asyncStorage.length(): \",req.error.name)}})})}function key(n,callback){return new Promise(function(resolve,reject){if(n<0){if(callback){callback(null)}resolve(null);return}withStore(\"readonly\",function keyBody(store){var advanced=false;var req=store.openCursor();req.onsuccess=function keyOnSuccess(){var cursor=req.result;if(!cursor){if(callback){callback(null)}resolve(null);return}if(n===0){if(callback){callback(cursor.key)}resolve(cursor.key)}else{if(!advanced){advanced=true;cursor.advance(n)}else{if(callback){callback(cursor.key)}resolve(cursor.key)}}};req.onerror=function keyOnError(){console.error(\"Error in asyncStorage.key(): \",req.error.name)}})})}var asyncStorage={driver:\"asyncStorage\",getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key};if(typeof define===\"function\"&&define.amd){define(\"asyncStorage\",function(){return asyncStorage})}else if(typeof module!==\"undefined\"&&module.exports){module.exports=asyncStorage}else{this.asyncStorage=asyncStorage}}.call(this);!function(){\"use strict\";var Promise=window.Promise;if(window.chrome&&window.chrome.runtime){return}var localStorage=window.localStorage;function clear(callback){return new Promise(function(resolve,reject){localStorage.clear();if(callback){callback()}resolve()})}function getItem(key,callback){return new Promise(function(resolve,reject){try{var result=localStorage.getItem(key);if(result){result=JSON.parse(result)}if(callback){callback(result)}resolve(result)}catch(e){reject(e)}})}function key(n,callback){return new Promise(function(resolve,reject){var result=localStorage.key(n);if(callback){callback(result)}resolve(result)})}function length(callback){return new Promise(function(resolve,reject){var result=localStorage.length;if(callback){callback(result)}resolve(result)})}function removeItem(key,callback){return new Promise(function(resolve,reject){localStorage.removeItem(key);if(callback){callback()}resolve()})}function setItem(key,value,callback){return new Promise(function(resolve,reject){if(value===undefined){value=null}var originalValue=value;try{value=JSON.stringify(value)}catch(e){console.error(\"Couldn't convert value into a JSON string: \",value);reject(e)}localStorage.setItem(key,value);if(callback){callback(originalValue)}resolve(originalValue)})}var localStorageWrapper={driver:\"localStorageWrapper\",getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key};if(typeof define===\"function\"&&define.amd){define(\"localStorageWrapper\",function(){return localStorageWrapper})}else if(typeof module!==\"undefined\"&&module.exports){module.exports=localStorageWrapper}else{this.localStorageWrapper=localStorageWrapper}}.call(this);!function(){\"use strict\";var DB_NAME=\"localforage\";var DB_SIZE=5*1024*1024;var DB_VERSION=\"1.0\";var SERIALIZED_MARKER=\"__lfsc__:\";var SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length;var STORE_NAME=\"keyvaluepairs\";var Promise=window.Promise;if(!window.openDatabase){return}var db=window.openDatabase(DB_NAME,DB_VERSION,STORE_NAME,DB_SIZE);db.transaction(function(t){t.executeSql(\"CREATE TABLE IF NOT EXISTS localforage (id INTEGER PRIMARY KEY, key unique, value)\")});function getItem(key,callback){return new Promise(function(resolve,reject){db.transaction(function(t){t.executeSql(\"SELECT * FROM localforage WHERE key = ? LIMIT 1\",[key],function(t,results){var result=results.rows.length?results.rows.item(0).value:null;if(result&&result.substr(0,SERIALIZED_MARKER_LENGTH)===SERIALIZED_MARKER){try{result=JSON.parse(result.slice(SERIALIZED_MARKER_LENGTH))}catch(e){reject(e)}}if(callback){callback(result)}resolve(result)},null)})})}function setItem(key,value,callback){return new Promise(function(resolve,reject){if(value===undefined){value=null}var valueToSave;if(typeof value===\"boolean\"||typeof value===\"number\"||typeof value===\"object\"){valueToSave=SERIALIZED_MARKER+JSON.stringify(value)}else{valueToSave=value}db.transaction(function(t){t.executeSql(\"INSERT OR REPLACE INTO localforage (key, value) VALUES (?, ?)\",[key,valueToSave],function(){if(callback){callback(value)}resolve(value)},null)})})}function removeItem(key,callback){return new Promise(function(resolve,reject){db.transaction(function(t){t.executeSql(\"DELETE FROM localforage WHERE key = ? LIMIT 1\",[key],function(){if(callback){callback()}resolve()},null)})})}function clear(callback){return new Promise(function(resolve,reject){db.transaction(function(t){t.executeSql(\"DELETE FROM localforage\",[],function(t,results){if(callback){callback()}resolve()},null)})})}function length(callback){return new Promise(function(resolve,reject){db.transaction(function(t){t.executeSql(\"SELECT COUNT(key) as c FROM localforage\",[],function(t,results){var result=results.rows.item(0).c;if(callback){callback(result)}resolve(result)},null)})})}function key(n,callback){return new Promise(function(resolve,reject){db.transaction(function(t){t.executeSql(\"SELECT key FROM localforage WHERE id = ? LIMIT 1\",[n+1],function(t,results){var result=results.rows.length?results.rows.item(0).key:null;if(callback){callback(result)}resolve(result)},null)})})}var webSQLStorage={driver:\"webSQLStorage\",getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key};if(typeof define===\"function\"&&define.amd){define(\"webSQLStorage\",function(){return webSQLStorage})}else if(typeof module!==\"undefined\"&&module.exports){module.exports=webSQLStorage}else{this.webSQLStorage=webSQLStorage}}.call(this);!function(){\"use strict\";var Promise=window.Promise;var MODULE_TYPE_DEFINE=1;var MODULE_TYPE_EXPORT=2;var MODULE_TYPE_WINDOW=3;var moduleType=MODULE_TYPE_WINDOW;if(typeof define===\"function\"&&define.amd){moduleType=MODULE_TYPE_DEFINE}else if(typeof module!==\"undefined\"&&module.exports){moduleType=MODULE_TYPE_EXPORT}var indexedDB=indexedDB||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;var _this=this;var localForage={INDEXEDDB:\"asyncStorage\",LOCALSTORAGE:\"localStorageWrapper\",WEBSQL:\"webSQLStorage\",setDriver:function(driverName,callback){return new Promise(function(resolve,reject){if(!indexedDB&&driverName===localForage.INDEXEDDB||!window.openDatabase&&driverName===localForage.WEBSQL){if(callback){callback(localForage)}reject(localForage);return}if(moduleType===MODULE_TYPE_DEFINE){require([driverName],function(lib){localForage._extend(lib);if(callback){callback(localForage)}resolve(localForage)})}else if(moduleType===MODULE_TYPE_EXPORT){localForage._extend(require(\"./\"+driverName));if(callback){callback(localForage)}resolve(localForage)}else{localForage._extend(_this[driverName]);if(callback){callback(localForage)}resolve(localForage)}})},_extend:function(libraryMethodsAndProperties){for(var i in libraryMethodsAndProperties){if(libraryMethodsAndProperties.hasOwnProperty(i)){this[i]=libraryMethodsAndProperties[i]}}}};var storageLibrary;if(indexedDB){storageLibrary=localForage.INDEXEDDB}else if(window.openDatabase){storageLibrary=localForage.WEBSQL}else{storageLibrary=localForage.LOCALSTORAGE}localForage.setDriver(storageLibrary);if(moduleType===MODULE_TYPE_DEFINE){define(\"localforage\",function(){return localForage})}else if(moduleType===MODULE_TYPE_EXPORT){module.exports=localForage}else{this.localforage=localForage}}.call(this);\n\\ No newline at end of file\n+/*!\n+    localForage -- Offline Storage, Improved\n+    Version 1.10.0\n+    https://localforage.github.io/localForage\n+    (c) 2013-2017 Mozilla, Apache License 2.0\n+*/\n+!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.localforage=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){\"use strict\";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode(\"\");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||void 0===a.MessageChannel)e=\"document\"in a&&\"onreadystatechange\"in a.document.createElement(\"script\")?function(){var b=a.document.createElement(\"script\");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],2:[function(a,b,c){\"use strict\";function d(){}function e(a){if(\"function\"!=typeof a)throw new TypeError(\"resolver must be a function\");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,\"function\"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(b){return p.reject(a,b)}d===a?p.reject(a,new TypeError(\"Cannot resolve promise with itself\")):p.resolve(a,d)})}function h(a){var b=a&&a.then;if(a&&(\"object\"==typeof a||\"function\"==typeof a)&&\"function\"==typeof b)return function(){b.apply(a,arguments)}}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);\"error\"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status=\"success\"}catch(a){c.status=\"error\",c.value=a}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if(\"[object Array]\"!==Object.prototype.toString.call(a))return this.reject(new TypeError(\"must be an array\"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if(\"[object Array]\"!==Object.prototype.toString.call(a))return this.reject(new TypeError(\"must be an array\"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a(1),p={},q=[\"REJECTED\"],r=[\"FULFILLED\"],s=[\"PENDING\"];b.exports=e,e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if(\"function\"!=typeof a&&this.state===r||\"function\"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){g(c,this.state===r?a:b,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if(\"error\"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},e.resolve=k,e.reject=l,e.all=m,e.race=n},{1:1}],3:[function(a,b,c){(function(b){\"use strict\";\"function\"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{2:2}],4:[function(a,b,c){\"use strict\";function d(a,b){if(!(a instanceof b))throw new TypeError(\"Cannot call a class as a function\")}function e(){try{if(\"undefined\"!=typeof indexedDB)return indexedDB;if(\"undefined\"!=typeof webkitIndexedDB)return webkitIndexedDB;if(\"undefined\"!=typeof mozIndexedDB)return mozIndexedDB;if(\"undefined\"!=typeof OIndexedDB)return OIndexedDB;if(\"undefined\"!=typeof msIndexedDB)return msIndexedDB}catch(a){return}}function f(){try{if(!ua||!ua.open)return!1;var a=\"undefined\"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b=\"function\"==typeof fetch&&-1!==fetch.toString().indexOf(\"[native code\");return(!a||b)&&\"undefined\"!=typeof indexedDB&&\"undefined\"!=typeof IDBKeyRange}catch(a){return!1}}function g(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(f){if(\"TypeError\"!==f.name)throw f;for(var c=\"undefined\"!=typeof BlobBuilder?BlobBuilder:\"undefined\"!=typeof MSBlobBuilder?MSBlobBuilder:\"undefined\"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,d=new c,e=0;e<a.length;e+=1)d.append(a[e]);return d.getBlob(b.type)}}function h(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function i(a,b,c){\"function\"==typeof b&&a.then(b),\"function\"==typeof c&&a.catch(c)}function j(a){return\"string\"!=typeof a&&(console.warn(a+\" used as a key, but it is not a string.\"),a=String(a)),a}function k(){if(arguments.length&&\"function\"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function l(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}function m(a){return new va(function(b){var c=a.transaction(wa,Ba),d=g([\"\"]);c.objectStore(wa).put(d,\"key\"),c.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},c.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\\/(\\d+)/),c=navigator.userAgent.match(/Edge\\//);b(c||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function n(a){return\"boolean\"==typeof xa?va.resolve(xa):m(a).then(function(a){return xa=a})}function o(a){var b=ya[a.name],c={};c.promise=new va(function(a,b){c.resolve=a,c.reject=b}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function p(a){var b=ya[a.name],c=b.deferredOperations.pop();if(c)return c.resolve(),c.promise}function q(a,b){var c=ya[a.name],d=c.deferredOperations.pop();if(d)return d.reject(b),d.promise}function r(a,b){return new va(function(c,d){if(ya[a.name]=ya[a.name]||B(),a.db){if(!b)return c(a.db);o(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=ua.open.apply(ua,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(wa)}catch(c){if(\"ConstraintError\"!==c.name)throw c;console.warn('The database \"'+a.name+'\" has been upgraded from version '+b.oldVersion+\" to version \"+b.newVersion+', but the storage \"'+a.storeName+'\" already exists.')}}),f.onerror=function(a){a.preventDefault(),d(f.error)},f.onsuccess=function(){var b=f.result;b.onversionchange=function(a){a.target.close()},c(b),p(a)}})}function s(a){return r(a,!1)}function t(a){return r(a,!0)}function u(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database \"'+a.name+\"\\\" can't be downgraded from version \"+a.db.version+\" to version \"+a.version+\".\"),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function v(a){return new va(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||\"\");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function w(a){return g([l(atob(a.data))],{type:a.type})}function x(a){return a&&a.__local_forage_encoded_blob}function y(a){var b=this,c=b._initReady().then(function(){var a=ya[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return i(c,a,a),c}function z(a){o(a);for(var b=ya[a.name],c=b.forages,d=0;d<c.length;d++){var e=c[d];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return a.db=null,s(a).then(function(b){return a.db=b,u(a)?t(a):b}).then(function(d){a.db=b.db=d;for(var e=0;e<c.length;e++)c[e]._dbInfo.db=d}).catch(function(b){throw q(a,b),b})}function A(a,b,c,d){void 0===d&&(d=1);try{var e=a.db.transaction(a.storeName,b);c(null,e)}catch(e){if(d>0&&(!a.db||\"InvalidStateError\"===e.name||\"NotFoundError\"===e.name))return va.resolve().then(function(){if(!a.db||\"NotFoundError\"===e.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),t(a)}).then(function(){return z(a).then(function(){A(a,b,c,d-1)})}).catch(c);c(e)}}function B(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function C(a){function b(){return va.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];var f=ya[d.name];f||(f=B(),ya[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=y);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady().catch(b))}var j=f.forages.slice(0);return va.all(g).then(function(){return d.db=f.db,s(d)}).then(function(a){return d.db=a,u(d,c._defaultConfig.version)?t(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function D(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.get(a);h.onsuccess=function(){var a=h.result;void 0===a&&(a=null),x(a)&&(a=w(a)),b(a)},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function E(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.openCursor(),i=1;h.onsuccess=function(){var c=h.result;if(c){var d=c.value;x(d)&&(d=w(d));var e=a(d,c.key,i++);void 0!==e?b(e):c.continue()}else b()},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function F(a,b,c){var d=this;a=j(a);var e=new va(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,\"[object Blob]\"===za.call(b)?n(f.db).then(function(a){return a?b:v(b)}):b}).then(function(b){A(d._dbInfo,Ba,function(f,g){if(f)return e(f);try{var h=g.objectStore(d._dbInfo.storeName);null===b&&(b=void 0);var i=h.put(b,a);g.oncomplete=function(){void 0===b&&(b=null),c(b)},g.onabort=g.onerror=function(){var a=i.error?i.error:i.transaction.error;e(a)}}catch(a){e(a)}})}).catch(e)});return h(e,c),e}function G(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Ba,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.delete(a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function H(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Ba,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function I(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Aa,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.count();g.onsuccess=function(){a(g.result)},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function J(a,b){var c=this,d=new va(function(b,d){if(a<0)return void b(null);c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=!1,i=g.openKeyCursor();i.onsuccess=function(){var c=i.result;if(!c)return void b(null);0===a?b(c.key):h?b(c.key):(h=!0,c.advance(a))},i.onerror=function(){d(i.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function K(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Aa,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.openKeyCursor(),h=[];g.onsuccess=function(){var b=g.result;if(!b)return void a(h);h.push(b.key),b.continue()},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function L(a,b){b=k.apply(this,arguments);var c=this.config();a=\"function\"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;if(a.name){var f=a.name===c.name&&e._dbInfo.db,g=f?va.resolve(e._dbInfo.db):s(a).then(function(b){var c=ya[a.name],d=c.forages;c.db=b;for(var e=0;e<d.length;e++)d[e]._dbInfo.db=b;return b});d=a.storeName?g.then(function(b){if(b.objectStoreNames.contains(a.storeName)){var c=b.version+1;o(a);var d=ya[a.name],e=d.forages;b.close();for(var f=0;f<e.length;f++){var g=e[f];g._dbInfo.db=null,g._dbInfo.version=c}return new va(function(b,d){var e=ua.open(a.name,c);e.onerror=function(a){e.result.close(),d(a)},e.onupgradeneeded=function(){e.result.deleteObjectStore(a.storeName)},e.onsuccess=function(){var a=e.result;a.close(),b(a)}}).then(function(a){d.db=a;for(var b=0;b<e.length;b++){var c=e[b];c._dbInfo.db=a,p(c._dbInfo)}}).catch(function(b){throw(q(a,b)||va.resolve()).catch(function(){}),b})}}):g.then(function(b){o(a);var c=ya[a.name],d=c.forages;b.close();for(var e=0;e<d.length;e++){d[e]._dbInfo.db=null}return new va(function(b,c){var d=ua.deleteDatabase(a.name);d.onerror=function(){var a=d.result;a&&a.close(),c(d.error)},d.onblocked=function(){console.warn('dropInstance blocked for database \"'+a.name+'\" until all open connections are closed')},d.onsuccess=function(){var a=d.result;a&&a.close(),b(a)}}).then(function(a){c.db=a;for(var b=0;b<d.length;b++)p(d[b]._dbInfo)}).catch(function(b){throw(q(a,b)||va.resolve()).catch(function(){}),b})})}else d=va.reject(\"Invalid arguments\");return h(d,b),d}function M(){return\"function\"==typeof openDatabase}function N(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;\"=\"===a[a.length-1]&&(g--,\"=\"===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;b<h;b+=4)c=Da.indexOf(a[b]),d=Da.indexOf(a[b+1]),e=Da.indexOf(a[b+2]),f=Da.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function O(a){var b,c=new Uint8Array(a),d=\"\";for(b=0;b<c.length;b+=3)d+=Da[c[b]>>2],d+=Da[(3&c[b])<<4|c[b+1]>>4],d+=Da[(15&c[b+1])<<2|c[b+2]>>6],d+=Da[63&c[b+2]];return c.length%3==2?d=d.substring(0,d.length-1)+\"=\":c.length%3==1&&(d=d.substring(0,d.length-2)+\"==\"),d}function P(a,b){var c=\"\";if(a&&(c=Ua.call(a)),a&&(\"[object ArrayBuffer]\"===c||a.buffer&&\"[object ArrayBuffer]\"===Ua.call(a.buffer))){var d,e=Ga;a instanceof ArrayBuffer?(d=a,e+=Ia):(d=a.buffer,\"[object Int8Array]\"===c?e+=Ka:\"[object Uint8Array]\"===c?e+=La:\"[object Uint8ClampedArray]\"===c?e+=Ma:\"[object Int16Array]\"===c?e+=Na:\"[object Uint16Array]\"===c?e+=Pa:\"[object Int32Array]\"===c?e+=Oa:\"[object Uint32Array]\"===c?e+=Qa:\"[object Float32Array]\"===c?e+=Ra:\"[object Float64Array]\"===c?e+=Sa:b(new Error(\"Failed to get type for BinaryArray\"))),b(e+O(d))}else if(\"[object Blob]\"===c){var f=new FileReader;f.onload=function(){var c=Ea+a.type+\"~\"+O(this.result);b(Ga+Ja+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(c){console.error(\"Couldn't convert value into a JSON string: \",a),b(null,c)}}function Q(a){if(a.substring(0,Ha)!==Ga)return JSON.parse(a);var b,c=a.substring(Ta),d=a.substring(Ha,Ta);if(d===Ja&&Fa.test(c)){var e=c.match(Fa);b=e[1],c=c.substring(e[0].length)}var f=N(c);switch(d){case Ia:return f;case Ja:return g([f],{type:b});case Ka:return new Int8Array(f);case La:return new Uint8Array(f);case Ma:return new Uint8ClampedArray(f);case Na:return new Int16Array(f);case Pa:return new Uint16Array(f);case Oa:return new Int32Array(f);case Qa:return new Uint32Array(f);case Ra:return new Float32Array(f);case Sa:return new Float64Array(f);default:throw new Error(\"Unkown type: \"+d)}}function R(a,b,c,d){a.executeSql(\"CREATE TABLE IF NOT EXISTS \"+b.storeName+\" (id INTEGER PRIMARY KEY, key unique, value)\",[],c,d)}function S(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=\"string\"!=typeof a[d]?a[d].toString():a[d];var e=new va(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(a){return d(a)}c.db.transaction(function(e){R(e,c,function(){b._dbInfo=c,a()},function(a,b){d(b)})},d)});return c.serializer=Va,e}function T(a,b,c,d,e,f){a.executeSql(c,d,e,function(a,g){g.code===g.SYNTAX_ERR?a.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name = ?\",[b.storeName],function(a,h){h.rows.length?f(a,g):R(a,b,function(){a.executeSql(c,d,e,f)},f)},f):f(a,g)},f)}function U(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT * FROM \"+e.storeName+\" WHERE key = ? LIMIT 1\",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function V(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT * FROM \"+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;h<g;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),void 0!==(j=a(j,i.key,h+1)))return void b(j)}b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function W(a,b,c,d){var e=this;a=j(a);var f=new va(function(f,g){e.ready().then(function(){void 0===b&&(b=null);var h=b,i=e._dbInfo;i.serializer.serialize(b,function(b,j){j?g(j):i.db.transaction(function(c){T(c,i,\"INSERT OR REPLACE INTO \"+i.storeName+\" (key, value) VALUES (?, ?)\",[a,b],function(){f(h)},function(a,b){g(b)})},function(b){if(b.code===b.QUOTA_ERR){if(d>0)return void f(W.apply(e,[a,h,c,d-1]));g(b)}})})}).catch(g)});return h(f,c),f}function X(a,b,c){return W.apply(this,[a,b,c,1])}function Y(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"DELETE FROM \"+e.storeName+\" WHERE key = ?\",[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function Z(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"DELETE FROM \"+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function $(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"SELECT COUNT(key) as c FROM \"+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function _(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT key FROM \"+e.storeName+\" WHERE id = ? LIMIT 1\",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function aa(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"SELECT key FROM \"+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function ba(a){return new va(function(b,c){a.transaction(function(d){d.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\",[],function(c,d){for(var e=[],f=0;f<d.rows.length;f++)e.push(d.rows.item(f).name);b({db:a,storeNames:e})},function(a,b){c(b)})},function(a){c(a)})})}function ca(a,b){b=k.apply(this,arguments);var c=this.config();a=\"function\"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;return d=a.name?new va(function(b){var d;d=a.name===c.name?e._dbInfo.db:openDatabase(a.name,\"\",\"\",0),b(a.storeName?{db:d,storeNames:[a.storeName]}:ba(d))}).then(function(a){return new va(function(b,c){a.db.transaction(function(d){function e(a){return new va(function(b,c){d.executeSql(\"DROP TABLE IF EXISTS \"+a,[],function(){b()},function(a,b){c(b)})})}for(var f=[],g=0,h=a.storeNames.length;g<h;g++)f.push(e(a.storeNames[g]));va.all(f).then(function(){b()}).catch(function(a){c(a)})},function(a){c(a)})})}):va.reject(\"Invalid arguments\"),h(d,b),d}function da(){try{return\"undefined\"!=typeof localStorage&&\"setItem\"in localStorage&&!!localStorage.setItem}catch(a){return!1}}function ea(a,b){var c=a.name+\"/\";return a.storeName!==b.storeName&&(c+=a.storeName+\"/\"),c}function fa(){var a=\"_localforage_support_test\";try{return localStorage.setItem(a,!0),localStorage.removeItem(a),!1}catch(a){return!0}}function ga(){return!fa()||localStorage.length>0}function ha(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=ea(a,b._defaultConfig),ga()?(b._dbInfo=c,c.serializer=Va,va.resolve()):va.reject()}function ia(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return h(c,a),c}function ja(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return h(d,b),d}function ka(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;h<f;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),void 0!==(j=a(j,i.substring(e),g++)))return j}}});return h(d,b),d}function la(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(a){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return h(d,b),d}function ma(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;e<c;e++){var f=localStorage.key(e);0===f.indexOf(a.keyPrefix)&&d.push(f.substring(a.keyPrefix.length))}return d});return h(c,a),c}function na(a){var b=this,c=b.keys().then(function(a){return a.length});return h(c,a),c}function oa(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return h(d,b),d}function pa(a,b,c){var d=this;a=j(a);var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new va(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(a){\"QuotaExceededError\"!==a.name&&\"NS_ERROR_DOM_QUOTA_REACHED\"!==a.name||f(a),f(a)}})})});return h(e,c),e}function qa(a,b){if(b=k.apply(this,arguments),a=\"function\"!=typeof a&&a||{},!a.name){var c=this.config();a.name=a.name||c.name,a.storeName=a.storeName||c.storeName}var d,e=this;return d=a.name?new va(function(b){b(a.storeName?ea(a,e._defaultConfig):a.name+\"/\")}).then(function(a){for(var b=localStorage.length-1;b>=0;b--){var c=localStorage.key(b);0===c.indexOf(a)&&localStorage.removeItem(c)}}):va.reject(\"Invalid arguments\"),h(d,b),d}function ra(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function sa(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&($a(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}var ta=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&\"function\"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?\"symbol\":typeof a},ua=e();\"undefined\"==typeof Promise&&a(3);var va=Promise,wa=\"local-forage-detect-blob-support\",xa=void 0,ya={},za=Object.prototype.toString,Aa=\"readonly\",Ba=\"readwrite\",Ca={_driver:\"asyncStorage\",_initStorage:C,_support:f(),iterate:E,getItem:D,setItem:F,removeItem:G,clear:H,length:I,key:J,keys:K,dropInstance:L},Da=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Ea=\"~~local_forage_type~\",Fa=/^~~local_forage_type~([^~]+)~/,Ga=\"__lfsc__:\",Ha=Ga.length,Ia=\"arbf\",Ja=\"blob\",Ka=\"si08\",La=\"ui08\",Ma=\"uic8\",Na=\"si16\",Oa=\"si32\",Pa=\"ur16\",Qa=\"ui32\",Ra=\"fl32\",Sa=\"fl64\",Ta=Ha+Ia.length,Ua=Object.prototype.toString,Va={serialize:P,deserialize:Q,stringToBuffer:N,bufferToString:O},Wa={_driver:\"webSQLStorage\",_initStorage:S,_support:M(),iterate:V,getItem:U,setItem:X,removeItem:Y,clear:Z,length:$,key:_,keys:aa,dropInstance:ca},Xa={_driver:\"localStorageWrapper\",_initStorage:ha,_support:da(),iterate:ka,getItem:ja,setItem:pa,removeItem:oa,clear:ia,length:na,key:la,keys:ma,dropInstance:qa},Ya=function(a,b){return a===b||\"number\"==typeof a&&\"number\"==typeof b&&isNaN(a)&&isNaN(b)},Za=function(a,b){for(var c=a.length,d=0;d<c;){if(Ya(a[d],b))return!0;d++}return!1},$a=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)},_a={},ab={},bb={INDEXEDDB:Ca,WEBSQL:Wa,LOCALSTORAGE:Xa},cb=[bb.INDEXEDDB._driver,bb.WEBSQL._driver,bb.LOCALSTORAGE._driver],db=[\"dropInstance\"],eb=[\"clear\",\"getItem\",\"iterate\",\"key\",\"keys\",\"length\",\"removeItem\",\"setItem\"].concat(db),fb={description:\"\",driver:cb.slice(),name:\"localforage\",size:4980736,storeName:\"keyvaluepairs\",version:1},gb=function(){function a(b){d(this,a);for(var c in bb)if(bb.hasOwnProperty(c)){var e=bb[c],f=e._driver;this[c]=f,_a[f]||this.defineDriver(e)}this._defaultConfig=sa({},fb),this._config=sa({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if(\"object\"===(void 0===a?\"undefined\":ta(a))){if(this._ready)return new Error(\"Can't call config() after localforage has been used.\");for(var b in a){if(\"storeName\"===b&&(a[b]=a[b].replace(/\\W/g,\"_\")),\"version\"===b&&\"number\"!=typeof a[b])return new Error(\"Database version must be a number.\");this._config[b]=a[b]}return!(\"driver\"in a&&a.driver)||this.setDriver(this._config.driver)}return\"string\"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new va(function(b,c){try{var d=a._driver,e=new Error(\"Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver\");if(!a._driver)return void c(e);for(var f=eb.concat(\"_initStorage\"),g=0,i=f.length;g<i;g++){var j=f[g];if((!Za(db,j)||a[j])&&\"function\"!=typeof a[j])return void c(e)}(function(){for(var b=function(a){return function(){var b=new Error(\"Method \"+a+\" is not implemented by the current driver\"),c=va.reject(b);return h(c,arguments[arguments.length-1]),c}},c=0,d=db.length;c<d;c++){var e=db[c];a[e]||(a[e]=b(e))}})();var k=function(c){_a[d]&&console.info(\"Redefining LocalForage driver: \"+d),_a[d]=a,ab[d]=c,b()};\"_support\"in a?a._support&&\"function\"==typeof a._support?a._support().then(k,c):k(!!a._support):k(!0)}catch(a){c(a)}});return i(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=_a[a]?va.resolve(_a[a]):va.reject(new Error(\"Driver not found.\"));return i(d,b,c),d},a.prototype.getSerializer=function(a){var b=va.resolve(Va);return i(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return i(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){g._config.driver=g.driver()}function e(a){return g._extend(a),d(),g._ready=g._initStorage(g._config),g._ready}function f(a){return function(){function b(){for(;c<a.length;){var f=a[c];return c++,g._dbInfo=null,g._ready=null,g.getDriver(f).then(e).catch(b)}d();var h=new Error(\"No available storage method found.\");return g._driverSet=va.reject(h),g._driverSet}var c=0;return b()}}var g=this;$a(a)||(a=[a]);var h=this._getSupportedDrivers(a),j=null!==this._driverSet?this._driverSet.catch(function(){return va.resolve()}):va.resolve();return this._driverSet=j.then(function(){var a=h[0];return g._dbInfo=null,g._ready=null,g.getDriver(a).then(function(a){g._driver=a._driver,d(),g._wrapLibraryMethodsWithReady(),g._initDriver=f(h)})}).catch(function(){d();var a=new Error(\"No available storage method found.\");return g._driverSet=va.reject(a),g._driverSet}),i(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!ab[a]},a.prototype._extend=function(a){sa(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,b=eb.length;a<b;a++)ra(this,eb[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),hb=new gb;b.exports=hb},{3:3}]},{},[4])(4)});\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "77fb5af5ad6535c195c8e5864f0c04055a92d2884900b85d6c5cd73cf61ccd78",
					"size": 19346,
					"sourceHash": "cc168d95fb927d46b1043726cfe13998e08902ff63f24330e2bb2290109ed145",
					"status": "content"
				},
				"examples/index.html": {
					"match": false,
					"packageHash": "640ddb7978db4b9158b8c5c1bd33fc416bb768c49e4a10583df09f75454c8960",
					"size": 753,
					"status": "missing-in-source"
				},
				"examples/main.js": {
					"match": false,
					"packageHash": "c6814086301bf7ee44c47002d48ab019d51cee5041b0dab25039dea74642e34a",
					"size": 716,
					"status": "missing-in-source"
				},
				"examples/require.html": {
					"match": false,
					"packageHash": "c29c4a8d5b531765d46e08a0dd4459aa2b7d0781bc2e7e3072a29414eddf63c4",
					"size": 208,
					"status": "missing-in-source"
				},
				"examples/require.js": {
					"match": false,
					"packageHash": "cc807cf70480498f4fcd719bab10923dbcbd222e3805b5996caa895920e7bd8f",
					"size": 81126,
					"status": "missing-in-source"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,20 +1,73 @@\n {\n-  \"name\": \"localforage\",\n-  \"author\": \"Mozilla\",\n-  \"description\": \"Offline storage, improved.\",\n-  \"version\": \"0.0.1\",\n-  \"homepage\": \"https://github.com/mozilla/localForage\",\n-  \"repository\": {\n-    \"type\": \"git\",\n-    \"url\": \"git://github.com/mozilla/localForage.git\"\n-  },\n-  \"scripts\": {\n-    \"test\": \"make test\"\n-  },\n-  \"dependencies\": {\n-    \"coffee-script\": \"1.7.1\",\n-    \"express\": \"3.4.8\",\n-    \"uglify-js\": \"2.3.x\"\n-  },\n-  \"browser\": \"dist/localforage.js\"\n+    \"name\": \"localforage\",\n+    \"author\": \"Mozilla\",\n+    \"license\": \"Apache-2.0\",\n+    \"description\": \"Offline storage, improved.\",\n+    \"keywords\": [\n+        \"indexeddb\",\n+        \"localstorage\",\n+        \"storage\",\n+        \"websql\"\n+    ],\n+    \"version\": \"1.10.0\",\n+    \"homepage\": \"https://github.com/localForage/localForage\",\n+    \"repository\": {\n+        \"type\": \"git\",\n+        \"url\": \"git://github.com/localForage/localForage.git\"\n+    },\n+    \"scripts\": {\n+        \"build\": \"node -e \\\"require('grunt').cli()\\\" null build\",\n+        \"prettify\": \"prettier --write \\\"src/**/*.js\\\" \\\"test/**/*.js\\\"\",\n+        \"publish-docs\": \"node -e \\\"require('grunt').cli()\\\" null copy build-rules-html publish-rules\",\n+        \"serve\": \"node -e \\\"require('grunt').cli()\\\" null serve\",\n+        \"test\": \"node -e \\\"require('grunt').cli()\\\" null test\"\n+    },\n+    \"devDependencies\": {\n+        \"babel-core\": \"^6.5.1\",\n+        \"babel-eslint\": \"^7.2.3\",\n+        \"babel-loader\": \"^6.2.2\",\n+        \"babel-plugin-add-module-exports\": \"^0.1.2\",\n+        \"babel-plugin-transform-es2015-modules-umd\": \"^6.5.0\",\n+        \"babel-preset-es2015\": \"^6.6.0\",\n+        \"babel-preset-es2015-loose\": \"^7.0.0\",\n+        \"babelify\": \"^7.2.0\",\n+        \"browserify-derequire\": \"^0.9.4\",\n+        \"bundle-collapser\": \"^1.2.1\",\n+        \"cors\": \"^2.3.1\",\n+        \"eslint-config-prettier\": \"^2.9.0\",\n+        \"grunt\": \"^0.4.2\",\n+        \"grunt-babel\": \"^6.0.0\",\n+        \"grunt-browserify\": \"^3.8.0\",\n+        \"grunt-contrib-concat\": \"^0.3.0\",\n+        \"grunt-contrib-connect\": \"^0.8.0\",\n+        \"grunt-contrib-uglify\": \"^0.4.0\",\n+        \"grunt-contrib-watch\": \"^0.5.0\",\n+        \"grunt-es3-safe-recast\": \"^0.1.0\",\n+        \"grunt-eslint\": \"^20.0.0\",\n+        \"mocha-headless-chrome\": \"3.1.0\",\n+        \"grunt-rollup\": \"^0.6.2\",\n+        \"grunt-run\": \"^0.5.2\",\n+        \"grunt-saucelabs\": \"^5.1.2\",\n+        \"grunt-ts\": \"^6.0.0-beta.11\",\n+        \"grunt-webpack\": \"^1.0.11\",\n+        \"husky\": \"^2.3.0\",\n+        \"lint-staged\": \"^8.1.7\",\n+        \"load-grunt-tasks\": \"^0.4.0\",\n+        \"mocha\": \"^3.4.2\",\n+        \"prettier\": \"~1.12.0\",\n+        \"rollupify\": \"^0.1.0\",\n+        \"script-loader\": \"^0.6.1\",\n+        \"typescript\": \"^2.0.3\",\n+        \"uglify-js\": \"^2.3.x\",\n+        \"webpack\": \"^1.12.13\",\n+        \"webpack-dev-server\": \"^1.10.1\"\n+    },\n+    \"main\": \"dist/localforage.js\",\n+    \"typings\": \"typings/localforage.d.ts\",\n+    \"bugs\": {\n+        \"url\": \"http://github.com/localForage/localForage/issues\"\n+    },\n+    \"dependencies\": {\n+        \"lie\": \"3.1.1\"\n+    }\n }\n",
					"match": false,
					"packageHash": "9e3a45d0a9e98bb03dee73fc163a950dad1753e16d91b65e84abe947453effba",
					"size": 456,
					"sourceHash": "e5a426e722f3f0102707e265921ff82e41a850136659e21faba48f1dba27026a",
					"status": "content"
				},
				"src/adapters/backbone.js": {
					"match": false,
					"packageHash": "d96435a7e2bb4e69c63f2b39b589a96583f4ed9ada387ae8c68d8ceecf710df5",
					"size": 6959,
					"status": "missing-in-source"
				},
				"src/drivers/indexeddb.js": {
					"diff": "--- published/src/drivers/indexeddb.js\n+++ rebuilt/src/drivers/indexeddb.js\n@@ -1,258 +1,1116 @@\n-(function() {\n-    'use strict';\n+import isIndexedDBValid from '../utils/isIndexedDBValid';\n+import createBlob from '../utils/createBlob';\n+import idb from '../utils/idb';\n+import Promise from '../utils/promise';\n+import executeCallback from '../utils/executeCallback';\n+import executeTwoCallbacks from '../utils/executeTwoCallbacks';\n+import normalizeKey from '../utils/normalizeKey';\n+import getCallback from '../utils/getCallback';\n+\n+// Some code originally from async_storage.js in\n+// [Gaia](https://github.com/mozilla-b2g/gaia).\n+\n+const DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\n+let supportsBlobs;\n+const dbContexts = {};\n+const toString = Object.prototype.toString;\n+\n+// Transaction Modes\n+const READ_ONLY = 'readonly';\n+const READ_WRITE = 'readwrite';\n+\n+// Transform a binary string to an array buffer, because otherwise\n+// weird stuff happens when you try to work with the binary string directly.\n+// It is known.\n+// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n+// encode-decode-image-with-base64-breaks-image (2013-04-21)\n+function _binStringToArrayBuffer(bin) {\n+    var length = bin.length;\n+    var buf = new ArrayBuffer(length);\n+    var arr = new Uint8Array(buf);\n+    for (var i = 0; i < length; i++) {\n+        arr[i] = bin.charCodeAt(i);\n+    }\n+    return buf;\n+}\n \n-    /**\n-     * This file defines an asynchronous version of the localStorage API, backed by\n-     * an IndexedDB database. It creates a global asyncStorage object that has\n-     * methods like the localStorage object.\n-     *\n-     * To store a value use setItem:\n-     *\n-     *     asyncStorage.setItem('key', 'value');\n-     *\n-     * If you want confirmation that the value has been stored, pass a callback\n-     * function as the third argument:\n-     *\n-     *    asyncStorage.setItem('key', 'newvalue', function() {\n-     *        console.log('new value stored');\n-     *    });\n-     *\n-     * To read a value, call getItem(), but note that you must supply a callback\n-     * function that the value will be passed to asynchronously:\n-     *\n-     *    asyncStorage.getItem('key', function(value) {\n-     *        console.log('The value of key is:', value);\n-     *    });\n-     *\n-     * Note that unlike localStorage, asyncStorage does not allow you to store and\n-     * retrieve values by setting and querying properties directly. You cannot just\n-     * write asyncStorage.key; you have to explicitly call setItem() or getItem().\n-     *\n-     * removeItem(), clear(), length(), and key() are like the same-named methods of\n-     * localStorage, but, like getItem() and setItem() they take a callback\n-     * argument.\n-     *\n-     * The asynchronous nature of getItem() makes it tricky to retrieve multiple\n-     * values. But unlike localStorage, asyncStorage does not require the values you\n-     * store to be strings.    So if you need to save multiple values and want to\n-     * retrieve them together, in a single asynchronous operation, just group the\n-     * values into a single object. The properties of this object may not include\n-     * DOM elements, but they may include things like Blobs and typed arrays.\n-     */\n-\n-    var DBNAME = 'asyncStorage';\n-    var DBVERSION = 1;\n-    var STORENAME = 'keyvaluepairs';\n-    var Promise = window.Promise;\n-    var db = null;\n-\n-    // Initialize IndexedDB; fall back to vendor-prefixed versions if needed.\n-    var indexedDB = indexedDB || window.indexedDB || window.webkitIndexedDB ||\n-                    window.mozIndexedDB || window.OIndexedDB ||\n-                    window.msIndexedDB;\n-\n-    // If IndexedDB isn't available, we get outta here!\n-    if (!indexedDB) {\n-        return;\n-    }\n-\n-    function withStore(type, f) {\n-        if (db) {\n-            f(db.transaction(STORENAME, type).objectStore(STORENAME));\n-        } else {\n",
					"match": false,
					"packageHash": "b6f700b69c1d126971361670baf339ca6d9a44db8e5662a5659ec96446b5afb6",
					"size": 9258,
					"sourceHash": "d7399dfef69905e99594dd4465c2fd5ca9151051f6871b0a0f4c3c66ba7567a4",
					"status": "content"
				},
				"src/drivers/localstorage.js": {
					"diff": "--- published/src/drivers/localstorage.js\n+++ rebuilt/src/drivers/localstorage.js\n@@ -2,150 +2,331 @@\n // Note that this will have considerable performance and storage\n // side-effects (all data will be serialized on save and only data that\n // can be converted to a string via `JSON.stringify()` will be saved).\n-(function() {\n-    'use strict';\n \n-    var Promise = window.Promise;\n+import isLocalStorageValid from '../utils/isLocalStorageValid';\n+import serializer from '../utils/serializer';\n+import Promise from '../utils/promise';\n+import executeCallback from '../utils/executeCallback';\n+import normalizeKey from '../utils/normalizeKey';\n+import getCallback from '../utils/getCallback';\n \n-    // If the app is running inside a Google Chrome packaged webapp, we don't\n-    // use localStorage.\n-    if (window.chrome && window.chrome.runtime) {\n-        return;\n+function _getKeyPrefix(options, defaultConfig) {\n+    var keyPrefix = options.name + '/';\n+\n+    if (options.storeName !== defaultConfig.storeName) {\n+        keyPrefix += options.storeName + '/';\n     }\n+    return keyPrefix;\n+}\n \n-    // Initialize localStorage and create a variable to use throughout the code.\n-    var localStorage = window.localStorage;\n+// Check if localStorage throws when saving an item\n+function checkIfLocalStorageThrows() {\n+    var localStorageTestKey = '_localforage_support_test';\n+\n+    try {\n+        localStorage.setItem(localStorageTestKey, true);\n+        localStorage.removeItem(localStorageTestKey);\n+\n+        return false;\n+    } catch (e) {\n+        return true;\n+    }\n+}\n \n-    // Remove all keys from the datastore, effectively destroying all data in\n-    // the app's key/value store!\n-    function clear(callback) {\n-        return new Promise(function(resolve, reject) {\n-            localStorage.clear();\n+// Check if localStorage is usable and allows to save an item\n+// This method checks if localStorage is usable in Safari Private Browsing\n+// mode, or in any other case where the available quota for localStorage\n+// is 0 and there wasn't any saved items yet.\n+function _isLocalStorageUsable() {\n+    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n+}\n+\n+// Config the localStorage backend, using options set in the config.\n+function _initStorage(options) {\n+    var self = this;\n+    var dbInfo = {};\n+    if (options) {\n+        for (var i in options) {\n+            dbInfo[i] = options[i];\n+        }\n+    }\n \n-            if (callback) {\n-                callback();\n-            }\n+    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n \n-            resolve();\n-        });\n+    if (!_isLocalStorageUsable()) {\n+        return Promise.reject();\n     }\n \n-    // Retrieve an item from the store. Unlike the original async_storage\n-    // library in Gaia, we don't modify return values at all. If a key's value\n-    // is `undefined`, we pass that value to the callback function.\n-    function getItem(key, callback) {\n-        return new Promise(function(resolve, reject) {\n-            try {\n-                var result = localStorage.getItem(key);\n+    self._dbInfo = dbInfo;\n+    dbInfo.serializer = serializer;\n \n-                // If a result was found, parse it from serialized JSON into a\n-                // JS object. If result isn't truthy, the key is likely\n-                // undefined and we'll pass it straight to the callback.\n-                if (result) {\n-                    result = JSON.parse(result);\n-                }\n+    return Promise.resolve();\n+}\n \n-                if (callback) {\n",
					"match": false,
					"packageHash": "898857a1f803552fb87db040d856d078100b0e495b03b135d293f147e5e29f93",
					"size": 4615,
					"sourceHash": "db599139d74c0157e09c266930712263fbef048691038413891034daf71a8088",
					"status": "content"
				},
				"src/drivers/websql.js": {
					"diff": "--- published/src/drivers/websql.js\n+++ rebuilt/src/drivers/websql.js\n@@ -1,182 +1,610 @@\n-(function() {\n-    'use strict';\n+import isWebSQLValid from '../utils/isWebSQLValid';\n+import serializer from '../utils/serializer';\n+import Promise from '../utils/promise';\n+import executeCallback from '../utils/executeCallback';\n+import normalizeKey from '../utils/normalizeKey';\n+import getCallback from '../utils/getCallback';\n+\n+/*\n+ * Includes code from:\n+ *\n+ * base64-arraybuffer\n+ * https://github.com/niklasvh/base64-arraybuffer\n+ *\n+ * Copyright (c) 2012 Niklas von Hertzen\n+ * Licensed under the MIT license.\n+ */\n+\n+function createDbTable(t, dbInfo, callback, errorCallback) {\n+    t.executeSql(\n+        `CREATE TABLE IF NOT EXISTS ${dbInfo.storeName} ` +\n+            '(id INTEGER PRIMARY KEY, key unique, value)',\n+        [],\n+        callback,\n+        errorCallback\n+    );\n+}\n+\n+// Open the WebSQL database (automatically creates one if one didn't\n+// previously exist), using any options set in the config.\n+function _initStorage(options) {\n+    var self = this;\n+    var dbInfo = {\n+        db: null\n+    };\n \n-    var DB_NAME = 'localforage';\n-    // Default DB size is 5MB, as it's the highest size we can use without\n-    // a prompt.\n-    var DB_SIZE = 5 * 1024 * 1024;\n-    var DB_VERSION = '1.0';\n-    var SERIALIZED_MARKER = '__lfsc__:';\n-    var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n-    var STORE_NAME = 'keyvaluepairs';\n-    var Promise = window.Promise;\n-\n-    // If WebSQL methods aren't available, we can stop now.\n-    if (!window.openDatabase) {\n-        return;\n+    if (options) {\n+        for (var i in options) {\n+            dbInfo[i] =\n+                typeof options[i] !== 'string'\n+                    ? options[i].toString()\n+                    : options[i];\n+        }\n     }\n \n-    // Open the database; the openDatabase API will automatically create it for\n-    // us if it doesn't exist.\n-    var db = window.openDatabase(DB_NAME, DB_VERSION, STORE_NAME, DB_SIZE);\n-\n-    // Create our key/value table if it doesn't exist.\n-    // TODO: Technically I can imagine this being as race condition, as I'm not\n-    // positive on the WebSQL API enough to be sure that other transactions\n-    // won't be run before this? But I assume not.\n-    db.transaction(function (t) {\n-        t.executeSql('CREATE TABLE IF NOT EXISTS localforage (id INTEGER PRIMARY KEY, key unique, value)');\n-    });\n-\n-    function getItem(key, callback) {\n-        return new Promise(function(resolve, reject) {\n-            db.transaction(function (t) {\n-                t.executeSql('SELECT * FROM localforage WHERE key = ? LIMIT 1', [key], function (t, results) {\n-                    var result = results.rows.length ? results.rows.item(0).value : null;\n-\n-                    // Check to see if this is serialized content we need to\n-                    // unpack.\n-                    if (result && result.substr(0, SERIALIZED_MARKER_LENGTH) === SERIALIZED_MARKER) {\n-                        try {\n-                            result = JSON.parse(result.slice(SERIALIZED_MARKER_LENGTH));\n-                        } catch (e) {\n-                            reject(e);\n+    var dbInfoPromise = new Promise(function(resolve, reject) {\n+        // Open the database; the openDatabase API will automatically\n+        // create it for us if it doesn't exist.\n+        try {\n+            dbInfo.db = openDatabase(\n+                dbInfo.name,\n+                String(dbInfo.version),\n+                dbInfo.description,\n+                dbInfo.size\n+            );\n+        } catch (e) {\n+            return reject(e);\n+        }\n",
					"match": false,
					"packageHash": "e60a9a7c7766afd19bb007299761cb65d08d3e22b5c983a62f0541118a24879c",
					"size": 6696,
					"sourceHash": "3c327b1656ebd5b72d594c0f5c5277ea0f991f0e3759f044444aab4b32507ae8",
					"status": "content"
				},
				"src/localforage.js": {
					"diff": "--- published/src/localforage.js\n+++ rebuilt/src/localforage.js\n@@ -1,116 +1,414 @@\n-(function() {\n-    'use strict';\n-\n-    // Promises!\n-    var Promise = window.Promise;\n+import idbDriver from './drivers/indexeddb';\n+import websqlDriver from './drivers/websql';\n+import localstorageDriver from './drivers/localstorage';\n+import serializer from './utils/serializer';\n+import Promise from './utils/promise';\n+import executeCallback from './utils/executeCallback';\n+import executeTwoCallbacks from './utils/executeTwoCallbacks';\n+import includes from './utils/includes';\n+import isArray from './utils/isArray';\n+\n+// Drivers are stored here when `defineDriver()` is called.\n+// They are shared across all instances of localForage.\n+const DefinedDrivers = {};\n+\n+const DriverSupport = {};\n+\n+const DefaultDrivers = {\n+    INDEXEDDB: idbDriver,\n+    WEBSQL: websqlDriver,\n+    LOCALSTORAGE: localstorageDriver\n+};\n+\n+const DefaultDriverOrder = [\n+    DefaultDrivers.INDEXEDDB._driver,\n+    DefaultDrivers.WEBSQL._driver,\n+    DefaultDrivers.LOCALSTORAGE._driver\n+];\n+\n+const OptionalDriverMethods = ['dropInstance'];\n+\n+const LibraryMethods = [\n+    'clear',\n+    'getItem',\n+    'iterate',\n+    'key',\n+    'keys',\n+    'length',\n+    'removeItem',\n+    'setItem'\n+].concat(OptionalDriverMethods);\n+\n+const DefaultConfig = {\n+    description: '',\n+    driver: DefaultDriverOrder.slice(),\n+    name: 'localforage',\n+    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n+    // we can use without a prompt.\n+    size: 4980736,\n+    storeName: 'keyvaluepairs',\n+    version: 1.0\n+};\n+\n+function callWhenReady(localForageInstance, libraryMethod) {\n+    localForageInstance[libraryMethod] = function() {\n+        const _args = arguments;\n+        return localForageInstance.ready().then(function() {\n+            return localForageInstance[libraryMethod].apply(\n+                localForageInstance,\n+                _args\n+            );\n+        });\n+    };\n+}\n \n-    // Avoid those magic constants!\n-    var MODULE_TYPE_DEFINE = 1;\n-    var MODULE_TYPE_EXPORT = 2;\n-    var MODULE_TYPE_WINDOW = 3;\n-\n-    // Attaching to window (i.e. no module loader) is the assumed,\n-    // simple default.\n-    var moduleType = MODULE_TYPE_WINDOW;\n-\n-    // Find out what kind of module setup we have; if none, we'll just attach\n-    // localForage to the main window.\n-    if (typeof define === 'function' && define.amd) {\n-        moduleType = MODULE_TYPE_DEFINE;\n-    } else if (typeof module !== 'undefined' && module.exports) {\n-        moduleType = MODULE_TYPE_EXPORT;\n-    }\n-\n-    // Initialize IndexedDB; fall back to vendor-prefixed versions if needed.\n-    var indexedDB = indexedDB || window.indexedDB || window.webkitIndexedDB ||\n-                    window.mozIndexedDB || window.OIndexedDB ||\n-                    window.msIndexedDB;\n-\n-    // The actual localForage object that we expose as a module or via a global.\n-    // It's extended by pulling in one of our other libraries.\n-    var _this = this;\n-    var localForage = {\n-        INDEXEDDB: 'asyncStorage',\n-        LOCALSTORAGE: 'localStorageWrapper',\n",
					"match": false,
					"packageHash": "139c792cdac9ebd4905d20386532d3f06b0323f7590565030897e4ccb8e5dd1c",
					"size": 3973,
					"sourceHash": "0a10ab25cbac7f92c4ecad2158c1e444960923f4e82c0502763ed27e31363ec9",
					"status": "content"
				},
				"test/indexeddb.html": {
					"match": false,
					"packageHash": "c42187aa3bf721d968ea1ed9fdb665aa8783b7a7f4af3c069b737418bc154143",
					"size": 227,
					"status": "missing-in-source"
				},
				"test/init.coffee": {
					"match": false,
					"packageHash": "0d007308f03112d346aeb578bca6710a9b62363a6cc0e3e7a2821511e5659931",
					"size": 902,
					"status": "missing-in-source"
				},
				"test/localstorage.html": {
					"match": false,
					"packageHash": "069757d2ce089f7955750e2c7dc7765f27b869b47c63bdd4f4c7142590f25c37",
					"size": 304,
					"status": "missing-in-source"
				},
				"test/server.coffee": {
					"match": false,
					"packageHash": "ef3cf05ad1902db1045317c171ac6b052b1953c64a4de1eb78d3e736da667f4e",
					"size": 893,
					"status": "missing-in-source"
				},
				"test/test.api.coffee": {
					"match": false,
					"packageHash": "4130870f104563ac8a47ee1f7e4c87cddd6092196f0dc134966dee196aaafc71",
					"size": 11837,
					"status": "missing-in-source"
				},
				"test/test.backbone.coffee": {
					"match": false,
					"packageHash": "5714dd45bced535d8d7c4eb7e58eabdae8bee6a22fc69be992d6184e052c84f3",
					"size": 1176,
					"status": "missing-in-source"
				},
				"test/test.backbone.html": {
					"match": false,
					"packageHash": "c76f49b5e0d6fd03011a28c634c765e6dbdfa9664b97f78c34f023c320d0cda9",
					"size": 850,
					"status": "missing-in-source"
				},
				"test/test.drivers.coffee": {
					"match": false,
					"packageHash": "0f3c9816a569e034e8b6656fd80ba523c4b1741544a5b531486047ed066aa2d1",
					"size": 2266,
					"status": "missing-in-source"
				},
				"test/test.html": {
					"match": false,
					"packageHash": "432de6cc3b88d1b94e20f90cdf531f381a9d4cf3e6cdf9eb35873429211b934a",
					"size": 209,
					"status": "missing-in-source"
				},
				"test/test.min.html": {
					"match": false,
					"packageHash": "dbf384aee6463540c6985d348ddb123aee1b1c121174e0d40cb0eba20931c565",
					"size": 221,
					"status": "missing-in-source"
				},
				"test/test.require.html": {
					"match": false,
					"packageHash": "006443d095f08d518438cc17938ebdf475c32f54ebb2aea6625c1dd1b4c260dd",
					"size": 233,
					"status": "missing-in-source"
				},
				"test/websql.html": {
					"match": false,
					"packageHash": "00386eedf0fe3a9b3555523afdc857c5f50060f6ac60b62d6c9f760f405a5960",
					"size": 224,
					"status": "missing-in-source"
				},
				"test.sh": {
					"match": false,
					"packageHash": "bca3216d64dc6735ff1488272b37182be7f29e63c568c0d4b7fc6e3d85eaee39",
					"size": 1144,
					"status": "missing-in-source"
				},
				"vendor/backbone.js": {
					"match": false,
					"packageHash": "5a36cd2b29bc952610f3d8689348056a9a0658014552d77eb47b23bc0f3350a8",
					"size": 60127,
					"status": "missing-in-source"
				},
				"vendor/promise.js": {
					"match": false,
					"packageHash": "7308ecd2221ecb569a45862b6541f9e3d7b2345343e760fd6e76ff8e33cb2326",
					"size": 22096,
					"status": "missing-in-source"
				},
				"vendor/require.js": {
					"match": false,
					"packageHash": "6ab54217426018a4bf31629f3fc12514f165bd240c284af9144af06eeea8850f",
					"size": 82678,
					"status": "missing-in-source"
				},
				"vendor/underscore.js": {
					"match": false,
					"packageHash": "6f3dee6d1ff67ae1b9d8b07e46d9002767d7c97b78f5c2189c4e14a4dc041bf2",
					"size": 43573,
					"status": "missing-in-source"
				},
				".huskyrc": {
					"match": false,
					"status": "missing-in-package"
				},
				".lintstagedrc": {
					"match": false,
					"status": "missing-in-package"
				},
				"CHANGELOG.md": {
					"match": false,
					"status": "missing-in-package"
				},
				"component.json": {
					"match": false,
					"status": "missing-in-package"
				},
				"contribute.json": {
					"match": false,
					"status": "missing-in-package"
				},
				"dist/localforage.nopromises.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"dist/localforage.nopromises.min.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/createBlob.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/executeCallback.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/executeTwoCallbacks.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/getCallback.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/idb.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/includes.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/isArray.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/isIndexedDBValid.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/isLocalStorageValid.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/isWebSQLValid.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/normalizeKey.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/promise.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/utils/serializer.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"typings/localforage.d.ts": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 11,
				"matchingFiles": 0,
				"missingInPackage": 21,
				"missingInSource": 29,
				"score": 0,
				"totalFiles": 61
			}
		}
	}
]
