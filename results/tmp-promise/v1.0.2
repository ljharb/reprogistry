[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-08T16:19:13.809Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "tmp-promise@1.0.2",
			"name": "tmp-promise",
			"version": "1.0.2",
			"location": "https://registry.npmjs.org/tmp-promise/-/tmp-promise-1.0.2.tgz",
			"integrity": "sha512-7rTm1VJt/hU5K02s8GfeMahT9qkrXe2SF4wdUk5zM6drpMd+izsi9iHzfmh8z3T2dDh9lYMBeUulX33NdQqRag==",
			"publishedAt": "2016-03-02T09:37:32.904Z",
			"publishedWith": {
				"node": "5.1.0",
				"npm": "3.3.12"
			},
			"dependencies": {
				"bluebird": "^3.3.3",
				"tmp": "0.0.28"
			}
		},
		"source": {
			"integrity": "sha512-yLK/Tw4L9Dm/nX8E0WRmiHFVQFeEXIhKYdoRerjajSk6MiEFCnnOLXiFeIwwp0byGOdS+jCbp+yXdMxIvGlttQ==",
			"location": "git://github.com/benjamingr/tmp-promise.git",
			"spec": "github:benjamingr/tmp-promise#9364a283e1c4a64a9aa610a778085207a7084ab2"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "2ce10463c299de730b0554ec1d613e7b6a9e607bccafa312bf1d42cb0afdd952",
					"size": 579,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,281 +1,316 @@\n-# tmp-promise\r\n-\r\n-A simple utility for creating temporary files or directories.\r\n-\r\n-The [tmp](https://github.com/raszi/node-tmp) package with promises support.\r\n-\r\n-This documentation is mostly copied from that package's - but with promise usage instead of callback usage adapted.\r\n-\r\n-## Installation\r\n-\r\n-    npm i tmp-promise\r\n-\r\n-## About\r\n-\r\n-This adds promises support to a [widely used library][2]. This package is used to create temporary files and directories in a [Node.js][1] environment.\r\n-\r\n-tmp-promise offers both an asynchronous and a synchronous API. For all API calls, all\r\n-the parameters are optional.\r\n-\r\n-Internally, tmp uses crypto for determining random file names, or, when using templates, a six letter random identifier. And just in case that you do not have that much entropy left on your system, tmp will fall back to pseudo random numbers.\r\n-\r\n-You can set whether you want to remove the temporary file on process exit or not, and the destination directory can also be set.\r\n-\r\n-tmp-promise also uses promise disposers to provide a nice way to perform cleanup when you're done working with the files.\r\n-\r\n-## Usage (API Reference)\r\n-\r\n-### Asynchronous file creation\r\n-\r\n-Simple temporary file creation, the file will be closed and unlinked on process exit.\r\n-\r\n-```javascript\r\n-var tmp = require('tmp-promise');\r\n-\r\n-tmp.file().then(o => {  \r\n-  console.log(\"File: \", o.path);\r\n-  console.log(\"Filedescriptor: \", o.fd);\r\n-  \r\n-  // If we don't need the file anymore we could manually call cleanup\r\n-  // But that is not necessary if we didn't pass the keep option because the library\r\n-  // will clean after itself.\r\n-  o.cleanup();\r\n-});\r\n-```\r\n-\r\n-Simple temporary file creation with a disposer:\r\n-\r\n-```js\r\n-tmp.withFile(o => {\r\n-  console.log(\"File: \", o.path);\r\n-  console.log(\"Filedescriptor: \", o.fd);\r\n-  // the file remains opens until the below promise resolves\r\n-  return somePromiseReturningFn();\r\n-}).then(v => {\r\n-  // file is closed here automatically, v is the value of somePromiseReturningFn\r\n-});\r\n-```\r\n-\r\n-\r\n-### Synchronous file creation\r\n-\r\n-A synchronous version of the above.\r\n-\r\n-```javascript\r\n-var tmp = require('tmp-promise');\r\n-\r\n-var tmpobj = tmp.fileSync();\r\n-console.log(\"File: \", tmpobj.name);\r\n-console.log(\"Filedescriptor: \", tmpobj.fd);\r\n-  \r\n-// If we don't need the file anymore we could manually call the removeCallback\r\n-// But that is not necessary if we didn't pass the keep option because the library\r\n-// will clean after itself.\r\n-tmpobj.removeCallback();\r\n-```\r\n-\r\n-Note that this might throw an exception if either the maximum limit of retries\r\n-for creating a temporary name fails, or, in case that you do not have the permission\r\n-to write to the directory where the temporary file should be created in.\r\n-\r\n-### Asynchronous directory creation\r\n-\r\n-Simple temporary directory creation, it will be removed on process exit.\r\n-\r\n-If the directory still contains items on process exit, then it won't be removed.\r\n-\r\n-```javascript\r\n-var tmp = require('tmp-promise');\r\n-\r\n-tmp.dir().then(o => {\r\n-  console.log(\"Dir: \", o.path);\r\n-  \r\n-  // Manual cleanup\r\n-  o.cleanup();\r\n-});\r\n-```\r\n-\r\n",
					"match": false,
					"packageHash": "e5852ad1f8fea001ef9a225c6d95eea74681a198d322a9348a8526cf3d7e9d2f",
					"size": 8161,
					"sourceHash": "da5cd09cb45bbb787040401ff3b729a255b7d8c00f0500cabf48a0a112501ce9",
					"status": "content"
				},
				"example-usage.js": {
					"match": false,
					"packageHash": "58ba661677e28f6757d67f47d2a8b6983805ebe130bf47c49c2e9f3c47eb042e",
					"size": 296,
					"status": "missing-in-source"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,49 +1,50 @@\n-var tmp = require(\"tmp\");\r\n-var Promise = require(\"bluebird\");\r\n-\r\n-\r\n-// file \r\n-module.exports.fileSync = tmp.fileSync;\r\n-var file = Promise.promisify(tmp.file, {multiArgs: true});\r\n-module.exports.file = function file$promise() {\r\n-  return file.apply(tmp, arguments).spread(function (path, fd, cleanup) {\r\n-    return {path: path, fd: fd, cleanup : cleanup };\r\n-  });\r\n-};\r\n-\r\n-module.exports.withFile = function withFile(fn) {\r\n-  var cleanup;\r\n-  return module.exports.file.apply(tmp, arguments).then(function context(o) { \r\n-    cleanup = o.cleanup;\r\n-    delete o.cleanup;\r\n-    return fn(o);\r\n-  }).finally(cleanup);\r\n-};\r\n-\r\n-// directory \r\n-module.exports.dirSync = tmp.dirSync;\r\n-var dir = Promise.promisify(tmp.dir, {multiArgs: true});\r\n-module.exports.dir = function dir$promise() {\r\n-  return dir.apply(tmp, arguments).spread(function (path, cleanup) {\r\n-    return {path: path, cleanup: cleanup};\r\n-  });\r\n-};\r\n-\r\n-module.exports.withDir = function withDir(fn) {\r\n-  var cleanup;\r\n-  return module.exports.dir.apply(tmp, arguments).then(function context(o) { \r\n-    cleanup = o.cleanup;\r\n-    delete o.cleanup;\r\n-    return fn(o);\r\n-  }).finally(cleanup);\r\n-};\r\n-\r\n-// name generation\r\n-module.exports.tmpNameSync = tmp.tmpNameSync;\r\n-module.exports.tmpName = Promise.promisify(tmp.tmpName);\r\n-\r\n-\r\n-module.exports.tmpdir = tmp.tmpdir;\r\n-\r\n-\r\n-module.exports.setGracefulCleanup = tmp.setGracefulCleanup;\r\n+'use strict';\n+\n+const { promisify } = require(\"util\");\n+const tmp = require(\"tmp\");\n+\n+// file\n+module.exports.fileSync = tmp.fileSync;\n+const fileWithOptions = promisify((options, cb) =>\n+  tmp.file(options, (err, path, fd, cleanup) =>\n+    err ? cb(err) : cb(undefined, { path, fd, cleanup: promisify(cleanup) })\n+  )\n+);\n+module.exports.file = async (options) => fileWithOptions(options);\n+\n+module.exports.withFile = async function withFile(fn, options) {\n+  const { path, fd, cleanup } = await module.exports.file(options);\n+  try {\n+    return await fn({ path, fd });\n+  } finally {\n+    await cleanup();\n+  }\n+};\n+\n+\n+// directory\n+module.exports.dirSync = tmp.dirSync;\n+const dirWithOptions = promisify((options, cb) =>\n+  tmp.dir(options, (err, path, cleanup) =>\n+    err ? cb(err) : cb(undefined, { path, cleanup: promisify(cleanup) })\n+  )\n+);\n+module.exports.dir = async (options) => dirWithOptions(options);\n+\n+module.exports.withDir = async function withDir(fn, options) {\n+  const { path, cleanup } = await module.exports.dir(options);\n+  try {\n+    return await fn({ path });\n+  } finally {\n+    await cleanup();\n+  }\n+};\n+\n+\n+// name generation\n+module.exports.tmpNameSync = tmp.tmpNameSync;\n+module.exports.tmpName = promisify(tmp.tmpName);\n+\n+module.exports.tmpdir = tmp.tmpdir;\n",
					"match": false,
					"packageHash": "82fc1d9569a51338f1296516879a8513e7926066a1bf1a37915af15d55f5ac3f",
					"size": 1373,
					"sourceHash": "7336313d571faf16328d33ca73eadd4d698df9f523d340368f3ee96231b51edf",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,26 +1,38 @@\n-{\r\n-  \"name\": \"tmp-promise\",\r\n-  \"version\": \"1.0.2\",\r\n-  \"description\": \"The tmp package with promises support and disposers.\",\r\n-  \"main\": \"index.js\",\r\n-  \"scripts\": {\r\n-    \"test\": \"\"\r\n-  },\r\n-  \"keywords\": [\r\n-    \"tmp\",\r\n-    \"promise\",\r\n-    \"tempfile\",\r\n-    \"mkdtemp\",\r\n-    \"mktemp\"\r\n-  ],\r\n-  \"author\": \"Benjamin Gruenbaum\",\r\n-  \"license\": \"MIT\",\r\n-  \"repository\": {\r\n-    \"type\": \"git\",\r\n-    \"url\": \"git://github.com/benjamingr/tmp-promise.git\"\r\n-  },\r\n-  \"dependencies\": {\r\n-    \"bluebird\": \"^3.3.3\",\r\n-    \"tmp\": \"0.0.28\"\r\n-  }\r\n-}\r\n+{\n+  \"name\": \"tmp-promise\",\n+  \"version\": \"3.0.3\",\n+  \"description\": \"The tmp package with promises support and disposers.\",\n+  \"main\": \"index.js\",\n+  \"types\": \"index.d.ts\",\n+  \"files\": [\n+    \"index.js\",\n+    \"index.d.ts\"\n+  ],\n+  \"scripts\": {\n+    \"mocha\": \"mocha\",\n+    \"check-types\": \"tsd\",\n+    \"test\": \"npm run mocha && npm run check-types\",\n+    \"publish\": \"node publish\"\n+  },\n+  \"keywords\": [\n+    \"tmp\",\n+    \"promise\",\n+    \"tempfile\",\n+    \"mkdtemp\",\n+    \"mktemp\"\n+  ],\n+  \"author\": \"Benjamin Gruenbaum and Collaborators.\",\n+  \"license\": \"MIT\",\n+  \"repository\": {\n+    \"type\": \"git\",\n+    \"url\": \"git://github.com/benjamingr/tmp-promise.git\"\n+  },\n+  \"dependencies\": {\n+    \"tmp\": \"^0.2.0\"\n+  },\n+  \"devDependencies\": {\n+    \"@types/tmp\": \"^0.2.0\",\n+    \"mocha\": \"7.1.2\",\n+    \"tsd\": \"0.25.0\"\n+  }\n+}\n",
					"match": false,
					"packageHash": "108e57cf49a23ab0897747d785e050fbd13629cfcda7f039920f689e4ed4aa10",
					"size": 521,
					"sourceHash": "2764cfc59afd639b3f471a7e5e3d6584e4ba7b529a1cc7a2ddd81b66beaf7983",
					"status": "content"
				},
				"index.d.ts": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 3,
				"matchingFiles": 0,
				"missingInPackage": 1,
				"missingInSource": 2,
				"score": 0,
				"totalFiles": 6
			}
		},
		"prodDependencies": [
			{
				"name": "balanced-match",
				"version": "1.0.0"
			},
			{
				"name": "brace-expansion",
				"version": "1.1.11"
			},
			{
				"name": "concat-map",
				"version": "0.0.1"
			},
			{
				"name": "fs.realpath",
				"version": "1.0.0"
			},
			{
				"name": "glob",
				"version": "7.1.4"
			},
			{
				"name": "inflight",
				"version": "1.0.6"
			},
			{
				"name": "inherits",
				"version": "2.0.3"
			},
			{
				"name": "minimatch",
				"version": "3.0.4"
			},
			{
				"name": "once",
				"version": "1.4.0"
			},
			{
				"name": "path-is-absolute",
				"version": "1.0.1"
			},
			{
				"name": "rimraf",
				"version": "3.0.2"
			},
			{
				"name": "tmp",
				"version": "0.2.0"
			},
			{
				"name": "wrappy",
				"version": "1.0.2"
			}
		]
	}
]
