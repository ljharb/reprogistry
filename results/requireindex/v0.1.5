[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-03T16:09:20.322Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:2.15.11",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "requireindex@0.1.5",
			"name": "requireindex",
			"version": "0.1.5",
			"location": "https://registry.npmjs.org/requireindex/-/requireindex-0.1.5.tgz",
			"integrity": "sha512-nHlIK0zGeIWupBrMduJUJH0lzWtT+X59sfyXVpT74ed1vekspDMz82BalOZSC5+1701NGxcruN50JEegtAOYGw==",
			"publishedAt": "2012-05-30T20:04:15.834Z",
			"publishedWith": {
				"node": "v0.6.15",
				"npm": "1.1.2"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/stephenhandley/requireindex.git",
			"spec": "github:stephenhandley/requireindex#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -4,20 +4,20 @@\n \n # Latest Version\n \n-0.1.4\n+1.2.0\n \n # Installation\n ```\n npm install requireindex\n ```\n \n-or in package.json \n+or in package.json\n \n ```json\n {\n   ...\n   \"dependencies\": {\n-    \"requireindex\": \"~0.1.4\"\n+    \"requireindex\": \"1.1.x\"\n   }\n }\n ```\n@@ -40,7 +40,7 @@\n       somemore.js\n   bam.js\n   _private.js\n-  \n+\n ```\n \n The index.js files in [test/lib/](https://github.com/stephenhandley/requireindex/tree/master/test/lib/index.js) and [test/lib/bar/](https://github.com/stephenhandley/requireindex/tree/master/test/lib/bar/index.js) contain:\n@@ -66,22 +66,25 @@\n is:\n \n ```js\n-{ \n-  bam: { \n-    m: [Function], \n-    n: [Function] \n+{\n+  bam: {\n+    m: [Function],\n+    n: [Function]\n   },\n-  bar: { \n+  bar: {\n     f: [Function],\n-    fed: { \n-      again: [Function], \n-      somemore: [Function] \n+    fed: {\n+      again: [Function],\n+      somemore: [Function]\n     },\n-    fing: [Function] \n+    fing: [Function]\n   },\n-  Foo: { \n-    l: [Function], \n-    ls: [Function] \n-  } \n+  Foo: {\n+    l: [Function],\n+    ls: [Function]\n+  }\n }\n-```\n\\ No newline at end of file\n+```\n+\n+# Build status\n+[![build status](https://secure.travis-ci.org/stephenhandley/requireindex.png)](http://travis-ci.org/stephenhandley/requireindex)\n",
					"match": false,
					"packageHash": "346edd5d301985a639c96bc2cc06c50054ed4099fd92aed302e9f06a75759bde",
					"size": 2087,
					"sourceHash": "ab3a9a53782dce9cd4a1c92912d52453e3a92dc7f4aa1d74fffd12b9ad23aa5b",
					"status": "content"
				},
				"index.js": {
					"diff": "--- published/index.js\n+++ rebuilt/index.js\n@@ -1,31 +1,60 @@\n-(function() {\n-  var fs   = require('fs'),\n-      path = require('path');\n-\n-  module.exports = function(dir, basenames) {\n-    var requires = {};\n-  \n-    if (arguments.length === 1) {  \n-      var files = fs.readdirSync(dir);\n-      files.sort(function(a,b) { return a.toLowerCase() - b.toLowerCase() });\n-      \n-      files.forEach(function(filename) {\n-  \n-        if ((filename === 'index.js') || (filename[0] === '_')) { return; }\n-    \n-        filename = path.basename(filename, path.extname(filename));\n-        var filepath = path.join(dir, filename);\n-    \n-        requires[filename] = require(filepath);\n-      });\n-  \n-    } else {\n-      basenames.forEach(function(basename) {\n-        var filepath = path.join(dir, basename);\n-        requires[basename] = require(filepath);\n-      });\n-    }\n-  \n-    return requires;\n-  };\n-})();\n\\ No newline at end of file\n+var FS   = require('fs');\n+var Path = require('path');\n+\n+module.exports = function (dir, basenames) {\n+  var requires = {};\n+\n+  if (arguments.length === 2) {\n+    // if basenames argument is passed, explicitly include those files\n+    basenames.forEach(function (basename) {\n+      var filepath = Path.resolve(Path.join(dir, basename));\n+      requires[basename] = require(filepath);\n+    });\n+\n+  } else if (arguments.length === 1) {\n+    // if basenames arguments isn't passed, require all javascript\n+    // files (except for those prefixed with _) and all directories\n+\n+    var files = FS.readdirSync(dir);\n+\n+    // sort files in lowercase alpha for linux\n+    files.sort(function (a,b) {\n+      a = a.toLowerCase();\n+      b = b.toLowerCase();\n+\n+      if (a < b) {\n+        return -1;\n+      } else if (b < a) {\n+        return 1;\n+      } else {\n+        return 0;\n+      }\n+    });\n+\n+    files.forEach(function (filename) {\n+      // ignore index.js and files prefixed with underscore and\n+      if ((filename === 'index.js') || (filename[0] === '_') || (filename[0] === '.')) {\n+        return;\n+      }\n+\n+      var filepath = Path.resolve(Path.join(dir, filename));\n+      var ext      = Path.extname(filename);\n+      var stats    = FS.statSync(filepath);\n+\n+      // don't require non-javascript files (.txt .md etc.)\n+      var exts = ['.js', '.node', '.json'];\n+      if (stats.isFile() && (exts.indexOf(ext) === -1)) {\n+        return;\n+      }\n+\n+      var basename = Path.basename(filename, ext);\n+\n+      requires[basename] = require(filepath);\n+    });\n+\n+  } else {\n+    throw new Error(\"Must pass directory as first argument\");\n+  }\n+\n+  return requires;\n+};\n",
					"match": false,
					"packageHash": "d22cafd0c7663bb1d49ce4ee16bf4e834c4c2a30643ba1fa87deb10970a81c4b",
					"size": 818,
					"sourceHash": "0c647d2fb87b40b6f219af9f8a39fe47381c5fdbaa7e9a38e6e618890dca1220",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,41 +1,33 @@\n {\n   \"name\": \"requireindex\",\n-  \n   \"description\": \"Write minimal node index.js files that require and export siblings by file basename\",\n-  \n-  \"version\": \"0.1.5\",\n-  \n-  \"license\" : \"MIT\",\n-  \n+  \"version\": \"1.2.0\",\n+  \"license\": \"MIT\",\n+  \"main\": \"index.js\",\n   \"repository\": {\n     \"type\": \"git\",\n     \"url\": \"git://github.com/stephenhandley/requireindex.git\"\n   },\n-  \n-  \"main\": \"index.js\",\n-  \n+  \"scripts\": {\n+    \"test\": \"node test/test.js\"\n+  },\n   \"keywords\": [\n-    \"require\", \n-    \"index\", \n+    \"require\",\n+    \"index\",\n     \"index.js\"\n   ],\n-  \n-  \"directories\" : {\n-    \"lib\" : \".\",\n-    \"test\" : \"test\"\n-  },\n-  \n-  \"bugs\": { \n-    \"url\" : \"http://github.com/stephenhandley/requireindex/issues\"\n-  },\n-  \n-  \"engines\" : {\n-    \"node\" : \">=0.4.0\"\n-  },\n-  \n-  \"author\": {\n-    \"name\": \"Stephen Handley\",\n-    \"email\": \"stephen.handley@gmail.com\",\n-    \"url\": \"http://person.sh\"\n-  }\n-}\n\\ No newline at end of file\n+  \"directories\": {\n+    \"test\": \"test\"\n+  },\n+  \"bugs\": {\n+    \"url\": \"http://github.com/stephenhandley/requireindex/issues\"\n+  },\n+  \"engines\": {\n+    \"node\": \">=0.10.5\"\n+  },\n+  \"devDependencies\": {\n+    \"asserts\": \"4.0.x\"\n+  },\n+  \"author\": \"Stephen Handley <stephen.handley@gmail.com> (http://person.sh)\",\n+  \"homepage\": \"https://github.com/stephenhandley/requireindex\"\n+}\n",
					"match": false,
					"packageHash": "5d6a941701a435e014ffe0452bfb7d2f323a63e20ec1a324bfc9a9a37d892a2d",
					"size": 710,
					"sourceHash": "aceca7810702172ab082e1437c95bb4f6a027607e6bb3534bd67c28235d77313",
					"status": "content"
				},
				"test/test.js": {
					"diff": "--- published/test/test.js\n+++ rebuilt/test/test.js\n@@ -1,33 +1,43 @@\n-var assert = require('assert')\n+var Assert = require('assert');\n+var Asserts = require('asserts');\n \n-var lib = require('./lib')\n+Asserts(function () {\n+  var lib = require('./lib');\n \n-try {\n-  var expectations = {\n-    \"ok\": lib.bam.m,\n-    \"yea\": lib.bar.f,\n-    \"definitely\": lib.bar.fing,\n-    \"yes\": lib.Foo.l,\n-    \"yep\": lib.Foo.ls,\n-    \"ack\": lib.bam.n,\n-    \"again\": lib.bar.fed.again,\n-    \"somemore\": lib.bar.fed.somemore\n-  }\n-  \n-  var keys = Object.keys(expectations)\n-  keys.forEach(function(expectation) {\n-    assert.equal(expectations[expectation](), expectation);\n-  })\n-    \n-  assert.equal(('_private' in lib), false);\n-  assert.equal(('ignored' in lib.bar.fed), false);\n-\n-  assert.equal(Object.keys(lib)[0], 'bam');\n-\n-  console.log(\"All tests passed.\");\n-  \n-} catch (error) {\n-  console.log(\"Test Failed.\");\n-  console.log(\"   Expected: \" + error.expected);\n-  console.log(\"     Actual: \" + error.actual); \n-}\n\\ No newline at end of file\n+  return {\n+    \"requireindex should\": {\n+      \"properly include files parallel to index.js and maintain structure\": function () {\n+        Asserts.all.equal([\n+          [lib.bam.m,            [], \"ok\"],\n+          [lib.bar.f,            [], \"yea\"],\n+          [lib.bar.fing,         [], 'definitely'],\n+          [lib.Foo.l,            [], 'yes'],\n+          [lib.Foo.ls,           [], 'yep'],\n+          [lib.bam.n,            [], 'ack'],\n+          [lib.bar.fed.again,    [], 'again'],\n+          [lib.bar.fed.somemore, [], 'somemore']\n+        ]);\n+      },\n+\n+      \"ignore _ prefixed files\": function () {\n+        Assert.equal(('_private' in lib), false);\n+      },\n+\n+      \"not include files not mentioned when second array argument is used\": function () {\n+        Assert.equal(('ignored' in lib.bar.fed), false);\n+      },\n+\n+      \"ignore non javascript files\": function () {\n+        Assert.equal(('not_javascript' in lib), false);\n+      },\n+\n+      \"sort files by lowercase alpha of the filename\": function () {\n+        Assert.equal(Object.keys(lib)[0], 'bam');\n+      },\n+      \n+      \"ignore dot files\": function () {\n+        Assert.equal(('.also_private' in lib), false);\n+      },\n+    }\n+  };\n+});\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "6cd94985d79421ac3b265bc1ca1126eb768b7378cf3d810cfee96099c65ffcd3",
					"size": 782,
					"sourceHash": "44ccf26ddeb60421df7cc04e4c25e7c95ada1691dfab598a5739951f40699848",
					"status": "content"
				},
				".travis.yml": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/lib/.also_private/private.txt": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/lib/not_javascript.txt": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 4,
				"matchingFiles": 11,
				"missingInPackage": 3,
				"missingInSource": 0,
				"score": 0.6111111111111112,
				"totalFiles": 18
			}
		}
	}
]
