[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-04T22:19:57.862Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "matchdep@0.1.0",
			"name": "matchdep",
			"version": "0.1.0",
			"location": "https://registry.npmjs.org/matchdep/-/matchdep-0.1.0.tgz",
			"integrity": "sha512-PzGOn000CaMqMfdFIac7WR6NcXDbcTicCRerFvmrB/Hve3RGJtN1sZ0/bVTlzLCpTeCaNoPG5MpRM8MLKZBniQ==",
			"publishedAt": "2012-11-27T19:15:17.137Z",
			"publishedWith": {
				"node": null,
				"npm": "1.1.65"
			}
		},
		"source": {
			"integrity": null,
			"location": "git://github.com/tkellen/node-matchdep.git",
			"spec": "github:tkellen/node-matchdep#HEAD"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".jshintrc": {
					"diff": "--- published/.jshintrc\n+++ rebuilt/.jshintrc\n@@ -11,6 +11,5 @@\n   \"unused\": true,\n   \"boss\": true,\n   \"eqnull\": true,\n-  \"node\": true,\n-  \"es5\": true\n+  \"node\": true\n }\n",
					"match": false,
					"packageHash": "bc6482bfcecbc7541652d8b7a039831592c35016633011e7b5b5300a8ce9924b",
					"size": 244,
					"sourceHash": "03af649552abd54bd52fef89212641d9e93e3eb07de0485a2529c9abf9d11c22",
					"status": "content"
				},
				".npmignore": {
					"match": false,
					"packageHash": "ca1838cde9e4cfb493f3ea87a08bf973a9d6102aac688fc8828107d5586042aa",
					"size": 15,
					"status": "missing-in-source"
				},
				"Gruntfile.js": {
					"match": false,
					"packageHash": "03275107c497c10269c03f71879acb3d584c94db986792f9722f027195bf5866",
					"size": 495,
					"status": "missing-in-source"
				},
				"LICENSE-MIT": {
					"diff": "--- published/LICENSE-MIT\n+++ rebuilt/LICENSE-MIT\n@@ -1,4 +1,4 @@\n-Copyright (c) 2012 Tyler Kellen\n+Copyright (c) 2013 Tyler Kellen\n \n Permission is hereby granted, free of charge, to any person\n obtaining a copy of this software and associated documentation\n",
					"match": false,
					"packageHash": "22c5c1d76c42c3142bdeab186e9af57ddb0af099319a959d2f3413f53548d685",
					"size": 1056,
					"sourceHash": "995562dbeaa367c0970f473e5fcf122321fca0bf3bfe530afe861977623281c7",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -1,19 +1,59 @@\n-# matchdep\n-> Use minimatch to filter npm module dependencies by name.\n+# matchdep [![Build Status](https://secure.travis-ci.org/tkellen/js-matchdep.svg?branch=master)](http://travis-ci.org/tkellen/js-matchdep)\n+> Use [micromatch] to filter npm module dependencies by name.\n \n-## Usage\n+[![NPM](https://nodei.co/npm/matchdep.png)](https://nodei.co/npm/matchdep/)\n+\n+## Examples\n \n ```js\n var matchdep = require('matchdep');\n \n-// Filter dependencies\n-matchdep.filter(require('./package.json'), 'grunt-contrib*');\n+// Filter dependencies (by autoloading nearest package.json)\n+matchdep.filter('mini*');\n+\n+// Filter devDependencies (with config string indicating file to be required)\n+matchdep.filterDev('grunt-contrib-*', './package.json');\n+\n+// Filter peerDependencies (with config string indicating file to be required)\n+matchdep.filterPeer('foo-{bar,baz}', './some-other.json');\n \n-// Filter devDependencies\n-matchdep.filterDev(require('./package.json'), 'mini*');\n+// Filter all dependencies (with explicit config provided)\n+matchdep.filterAll('*', require('./yet-another.json'));\n+\n+// Filter all dependencies, exclude grunt (multiple matching patterns)\n+matchdep.filterAll(['*','!grunt']);\n+```\n+\n+## Usage\n \n-// Filter all dependencies\n-matchdep.filterAll(require('./package.json'), '*');\n+```js\n+filter(pattern, config)\n+filterDev(pattern, config)\n+filterPeer(pattern, config)\n+filterAll(pattern, config)\n ```\n \n-> Copyright (c) 2012 Tyler Kellen. See LICENSE for further details.\n+### pattern\n+Type: `String|Array`\n+Default: 'none'\n+\n+A [micromatch] compatible match pattern to filter dependencies.\n+\n+### config\n+Type: `String` or `Object`\n+Default: Path to nearest package.json.\n+\n+If config is a string, matchdep will attempt to require it.  If it is an object, it will be used directly.\n+\n+## Release History\n+\n+* 2017-08-18 - v2.0.0 - Upgrade major versions of dependencies, Upgrade devDeps\n+* 2016-02-09 - v1.0.1 - switch to [micromatch], remove [globule]\n+* 2015-09-27 - v1.0.0 - throw when no package.json found, update dependencies, remove node 0.8 support\n+* 2013-10-09 - v0.3.0 - support multiple pattern matches using [globule]\n+* 2013-10-08 - v0.2.0 - refactor and support filtering peerDependencies\n+* 2012-11-27 - v0.1.0 - initial release\n+\n+\n+[globule]: https://github.com/cowboy/node-globule\n+[micromatch]: https://github.com/jonschlinkert/micromatch\n",
					"match": false,
					"packageHash": "1cdc97bc31198e86a4f58723bd4ddd6e2f16f2f469e87022d2474ebd527343f9",
					"size": 445,
					"sourceHash": "7521594a1235e91d94666abc4f91d6804e725dc271ccf38cfcdd826c76e0bb34",
					"status": "content"
				},
				"lib/matchdep.js": {
					"diff": "--- published/lib/matchdep.js\n+++ rebuilt/lib/matchdep.js\n@@ -8,50 +8,69 @@\n \n 'use strict';\n \n-var minimatch = require('minimatch');\n+var micromatch = require('micromatch');\n+var findup = require('findup-sync');\n+var resolve = require('resolve').sync;\n+var stackTrace = require('stack-trace');\n+var path = require('path');\n \n // export object\n var matchdep = module.exports = {};\n \n-// Ensure configuration has devDep and dependencies keys\n-function loadConfig(pkg) {\n-\n-  // if result is not an object, something is amiss\n-  if (typeof pkg !== 'object') {\n-    throw new Error(\"Invalid configuration specified.\");\n+// Ensure configuration has the correct properties.\n+function loadConfig(config, props) {\n+  // The calling module's path. Unfortunately, because modules are cached,\n+  // module.parent is the FIRST calling module parent, not necessarily the\n+  // current one.\n+  var callerPath = path.dirname(stackTrace.get(loadConfig)[1].getFileName());\n+\n+  // If no config defined, resolve to nearest package.json to the calling lib. If not found, throw an error.\n+  if (config == null) {\n+    config = findup('package.json', {cwd: callerPath});\n+    if (config == null) {\n+      throw new Error('No package.json found.');\n+    }\n+  }\n+  // If filename was specified with no path parts, make the path absolute so\n+  // that resolve doesn't look in node_module directories for it.\n+  else if (typeof config === 'string' && !/[\\\\\\/]/.test(config)) {\n+    config = path.join(callerPath, config);\n   }\n \n-  // ensure dependencies key exists\n-  if(pkg.devDependencies === undefined) {\n-    pkg.dependencies = {};\n+  // If package is a string, try to require it.\n+  if (typeof config === 'string') {\n+    config = require(resolve(config, {basedir: callerPath}));\n   }\n \n-  // ensure devDependencies key exists\n-  if(pkg.devDependencies === undefined) {\n-    pkg.devDependencies = {};\n+  // If config is not an object yet, something is amiss.\n+  if (typeof config !== 'object') {\n+    throw new Error('Invalid configuration specified.');\n   }\n \n-  return pkg;\n+  // For all specified props, populate result object.\n+  var result = {};\n+  props.forEach(function(prop) {\n+    result[prop] = config[prop] ? Object.keys(config[prop]) : [];\n+  });\n+  return result;\n }\n \n-// filter dependencies\n-matchdep.filter = function(config, pattern) {\n-  var pkg = loadConfig(config);\n-  var search = Object.keys(pkg.dependencies);\n-  return minimatch.match(search, pattern, {});\n-};\n-\n-// filter devDependencies\n-matchdep.filterDev = function(config, pattern) {\n-  var pkg = loadConfig(config);\n-  var search = Object.keys(pkg.devDependencies);\n-  return minimatch.match(search, pattern, {});\n-};\n-\n-// filter all dependencies\n-matchdep.filterAll = function(config, pattern) {\n-  var pkg = loadConfig(config);\n-  var search = Object.keys(pkg.dependencies).concat(Object.keys(pkg.devDependencies));\n-  return minimatch.match(search, pattern, {});\n+// What config properties should each method search?\n+var methods = {\n+  filter: ['dependencies'],\n+  filterDev: ['devDependencies'],\n+  filterPeer: ['peerDependencies'],\n+  filterAll: ['dependencies', 'devDependencies', 'peerDependencies'],\n };\n \n+// Dynamically generate methods.\n+Object.keys(methods).forEach(function(method) {\n+  var props = methods[method];\n+  matchdep[method] = function(pattern, config) {\n+    config = loadConfig(config, props);\n+    var search = props.reduce(function(result, prop) {\n",
					"match": false,
					"packageHash": "3ae4eb7015653ffe4d318fd563c38b40aa5f2bf8f8c5b5d623af6970a76cf11c",
					"size": 1371,
					"sourceHash": "6d60f23d2cdbbab76ec1d1d6193d26c43fdfe2f510d0208f562216455936d9a3",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,40 +1,42 @@\n {\n   \"name\": \"matchdep\",\n-  \"description\": \"Use minimatch to filter npm module dependencies by name.\",\n-  \"version\": \"0.1.0\",\n-  \"homepage\": \"https://github.com/tkellen/node-matchdep\",\n+  \"description\": \"Use micromatch to filter npm module dependencies by name.\",\n+  \"version\": \"2.0.0\",\n+  \"homepage\": \"https://github.com/tkellen/js-matchdep\",\n   \"author\": {\n     \"name\": \"Tyler Kellen\",\n     \"url\": \"http://goingslowly.com/\"\n   },\n   \"repository\": {\n     \"type\": \"git\",\n-    \"url\": \"git://github.com/tkellen/node-matchdep.git\"\n+    \"url\": \"git://github.com/tkellen/js-matchdep.git\"\n   },\n   \"bugs\": {\n-    \"url\": \"https://github.com/tkellen/node-matchdep/issues\"\n+    \"url\": \"https://github.com/tkellen/js-matchdep/issues\"\n   },\n-  \"licenses\": [\n-    {\n-      \"type\": \"MIT\",\n-      \"url\": \"https://github.com/tkellen/node-matchdep/blob/master/LICENSE-MIT\"\n-    }\n-  ],\n+  \"license\": \"MIT\",\n   \"main\": \"lib/matchdep\",\n   \"engines\": {\n-    \"node\": \">= 0.8.0\"\n+    \"node\": \">= 0.10.0\"\n   },\n   \"scripts\": {\n-    \"test\": \"./node_modules/.bin/grunt test\"\n+    \"test\": \"grunt\"\n   },\n   \"dependencies\": {\n-    \"minimatch\": \"~0.2.9\"\n+    \"findup-sync\": \"^2.0.0\",\n+    \"micromatch\": \"^3.0.4\",\n+    \"resolve\": \"^1.4.0\",\n+    \"stack-trace\": \"0.0.10\"\n   },\n   \"devDependencies\": {\n-    \"grunt-contrib-jshint\": \"~0.1.0\",\n-    \"grunt-contrib-nodeunit\": \"~0.1.0\",\n-    \"grunt\": \"~0.4.0a\",\n-    \"grunt-cli\": \"~0.1.1\"\n-  },\n-  \"keywords\": []\n+    \"grunt\": \"^1.0.1\",\n+    \"grunt-contrib-jshint\": \"^1.1.0\",\n+    \"grunt-contrib-nodeunit\": \"^1.0.0\"\n+  },\n+  \"keywords\": [\n+    \"package.json\",\n+    \"dependencies\",\n+    \"devDependencies\",\n+    \"peerDependencies\"\n+  ]\n }\n",
					"match": false,
					"packageHash": "d73024a9e02fe28e4f217627721b5543c97130d59014e25cb7bd41e37a647fb0",
					"size": 935,
					"sourceHash": "36ef883ca86559a4ade38b1464c01fe6bc3713eb8e40620096dee031980f1e75",
					"status": "content"
				},
				"test/matchdep_test.js": {
					"match": false,
					"packageHash": "be57fc4294f69fe2af8c476ae525375d50a6da60dcaaee800c33ec8fa7dff3c4",
					"size": 1142,
					"status": "missing-in-source"
				},
				".travis.yml": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 5,
				"matchingFiles": 0,
				"missingInPackage": 1,
				"missingInSource": 3,
				"score": 0,
				"totalFiles": 9
			}
		}
	}
]
