[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-03T23:56:13.044Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:5.3.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "@polymer/polymer@3.0.0-pre.1",
			"name": "@polymer/polymer",
			"version": "3.0.0-pre.1",
			"location": "https://registry.npmjs.org/@polymer/polymer/-/polymer-3.0.0-pre.1.tgz",
			"integrity": "sha512-yfVY9yl3hmnbU+RtcOobmmiPCkqIqpjMdo3+KoJ6gpFTUFFClKBqSAe7qussIGoyEUNdacXHF6OUj0Y2bTIDew==",
			"publishedAt": "2017-08-22T07:35:17.677Z",
			"publishedWith": {
				"node": "8.2.1",
				"npm": "5.3.0"
			}
		},
		"source": {
			"integrity": null,
			"location": "git+https://github.com/Polymer/polymer.git",
			"spec": "github:Polymer/polymer#1a32f4dd423116c5d1ee13e452922839d4eebd60"
		},
		"comparisonHash": "8a2a8dcbb729bf3ee9216e490c955701f0ddebe1",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "800d4c7dcb63cfbb311217c535628f60839dd27d46cddc623629873adb65c21e",
					"size": 122,
					"status": "missing-in-source"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -4,46 +4,17 @@\n \n Polymer lets you build encapsulated, reusable elements that work just like standard HTML elements, to use in building web applications.\n \n-## Polymer 3.0 is an Early Preview!\n-\n-This is a preview branch of Polymer 3.0, a very early version of Polymer that uses JavaScript modules instead of HTML Imports. It will only work in browsers with module support, like Safari 10.1 and Chrome 61, or via a compiler like Babel, TypeScript or Closure.\n-\n-The API is mostly the same as Polymer 2.0, but the documentation has not been updated.\n-\n-To try Polymer 3.0-preview, use `yarn` to install from `npm:\n-\n-```sh\n-> yarn add @polymer/polymer@next --flat\n-```\n-\n-Launch the Polymer devserver in npm mode:\n-\n-```sh\n-> polymer serve --npm\n-```\n+```html\n+<!-- Polyfill Web Components for older browsers -->\n+<script src=\"webcomponentsjs/webcomponents-lite.js\"></script>\n \n-Then load Polymer into your element:\n+<!-- Import element -->\n+<link rel=\"import\" href=\"google-map.html\">\n \n-```js\n-import { Element as PolymerElement } from '../@polymer/polymer/polymer-element.js';\n-export class MyElement extends PolymerElement {\n-    static get template() {\n-      return `\n-      <h1>Hello World!</h1>\n-    `;\n-  }\n-}\n-customElements.define('my-element, MyElement);\n+<!-- Use element -->\n+<google-map latitude=\"37.790\" longitude=\"-122.390\"></google-map>\n ```\n \n-And use it in a page:\n-```html\n-<script type=\"module\" src=\"./my-element.js\"></script>\n-<my-element></my-element>\n- ```\n-\n-# Everything below here has not been updated for 3.0-preview\n-\n Check out [polymer-project.org](https://www.polymer-project.org) for all of the library documentation, including getting started guides, tutorials, developer reference, and more.\n \n Or if you'd just like to download the library, check out our [releases page](https://github.com/polymer/polymer/releases).\n",
					"match": false,
					"packageHash": "b73a66b96552612847b1b84c6509245fec591734e124fa774cb6388d83107b87",
					"size": 40385,
					"sourceHash": "778fe648c53bcae3d212b8af14c86dd890b5d9d51c2af003fd38539028e2f179",
					"status": "content"
				},
				"index.html": {
					"diff": "--- published/index.html\n+++ rebuilt/index.html\n@@ -14,7 +14,7 @@\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n \n   <script src=\"../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../iron-component-page/iron-component-page.js\"></script>\n+  <link rel=\"import\" href=\"../iron-component-page/iron-component-page.html\">\n \n </head>\n <body>\n",
					"match": false,
					"packageHash": "a280ca9aecf070a8883ca06f414f43fa366f584f85189ef7bfe976d63d63139a",
					"size": 867,
					"sourceHash": "290394ac2e8f3baf192b2670b5e3627b9b0039e60d460a7690275c0cf4e0ad88",
					"status": "content"
				},
				"lib/elements/array-selector.js": {
					"match": false,
					"packageHash": "d7d196583460c9321e6c804cd691f87def341faa7a1fb75a4c299a70983c64a4",
					"size": 12151,
					"status": "missing-in-source"
				},
				"lib/elements/custom-style.js": {
					"match": false,
					"packageHash": "ecf12c6faf48f88d04b6de8d72d36497870af5bb9536ff94b9e781ba7e2865a8",
					"size": 2840,
					"status": "missing-in-source"
				},
				"lib/elements/dom-bind.js": {
					"match": false,
					"packageHash": "82c0aa6e76ffcdc1a399c7b1ebe5d15fdb143d50e7fed0c9ad95f872b511e075",
					"size": 3290,
					"status": "missing-in-source"
				},
				"lib/elements/dom-if.js": {
					"match": false,
					"packageHash": "cebc70438a8319318d351a501036e34a92c41a95ea8bb7785ad8f284a31c2c4b",
					"size": 8465,
					"status": "missing-in-source"
				},
				"lib/elements/dom-module.js": {
					"match": false,
					"packageHash": "b6ee7e67dbc6024cf31b55949be959ab366ebef066d3d866a870d0c9cc94f8ef",
					"size": 3884,
					"status": "missing-in-source"
				},
				"lib/elements/dom-repeat.js": {
					"match": false,
					"packageHash": "46be0f58216a770564a75a7ef4d8d1c1d35e731e541b101acd4cc57a96cb1fae",
					"size": 23373,
					"status": "missing-in-source"
				},
				"lib/legacy/class.js": {
					"match": false,
					"packageHash": "39ce25be8e040c5f360c7d7ecdd6ac13208f5aca9d7d02972d3dd3bccf4cdd9f",
					"size": 8139,
					"status": "missing-in-source"
				},
				"lib/legacy/legacy-element-mixin.js": {
					"match": false,
					"packageHash": "2575a85c06fac376e7ef15fddc52cfa417c455d8ab53b549ea589cadc98e77ac",
					"size": 31230,
					"status": "missing-in-source"
				},
				"lib/legacy/mutable-data-behavior.js": {
					"match": false,
					"packageHash": "00817b8a75eee81dbac4d32f01357bdf36f4c84bb022c8a2632f5a6033a2cd1a",
					"size": 2378,
					"status": "missing-in-source"
				},
				"lib/legacy/polymer-fn.js": {
					"match": false,
					"packageHash": "f3be0f20752941af4b201d8b1a29514a19dff9b85db58f083dbc4f82cebe9ec0",
					"size": 412,
					"status": "missing-in-source"
				},
				"lib/legacy/polymer.dom.js": {
					"match": false,
					"packageHash": "843ecb51033c3a23274e14d9c10eace7eb7327944ac186e123c912f6a30546f1",
					"size": 7733,
					"status": "missing-in-source"
				},
				"lib/legacy/templatizer-behavior.js": {
					"match": false,
					"packageHash": "d47d1b4477e1d8962ecadf4b734671491ceb6190f563aac0cbd0312325ecc179",
					"size": 5144,
					"status": "missing-in-source"
				},
				"lib/mixins/element-mixin.js": {
					"match": false,
					"packageHash": "d05f97ac330489b12c485909cedafb9464deecfa035bdc9efa2aafd5bc516be9",
					"size": 26708,
					"status": "missing-in-source"
				},
				"lib/mixins/gesture-event-listeners.js": {
					"match": false,
					"packageHash": "ec275ef893b40f5274d01393bd50dca0fe4bf5f5f99761868a2ca66b66ba7825",
					"size": 859,
					"status": "missing-in-source"
				},
				"lib/mixins/mutable-data.js": {
					"match": false,
					"packageHash": "d2b0c5b50015581a720275908a60bac58fb20a3a8aef0772e3f82b8505155007",
					"size": 3683,
					"status": "missing-in-source"
				},
				"lib/mixins/property-accessors.js": {
					"match": false,
					"packageHash": "f3ef921bbb472eb72b355a7eec481181a035780cbc661b2c9fc3cd99b37e37f3",
					"size": 19636,
					"status": "missing-in-source"
				},
				"lib/mixins/property-effects.js": {
					"match": false,
					"packageHash": "42cb167d51aa26f7f4645b5cebb0a614bf7e7a525d21e16db531869906bc0482",
					"size": 96650,
					"status": "missing-in-source"
				},
				"lib/mixins/template-stamp.js": {
					"match": false,
					"packageHash": "1e3cb98fbc0d696a36ae8efb10523b4643587cdc37028416c5725f574eb5715f",
					"size": 18042,
					"status": "missing-in-source"
				},
				"lib/utils/array-splice.js": {
					"match": false,
					"packageHash": "ee56f5fac686b367cf0ca56a859ccbb5f573e095558718340eec41b87ba84ff5",
					"size": 7340,
					"status": "missing-in-source"
				},
				"lib/utils/async.js": {
					"match": false,
					"packageHash": "d5a4021bc0bf58d2cec4b806ec7dba4badeddf2a24ed1d4ed495faf792040e20",
					"size": 3798,
					"status": "missing-in-source"
				},
				"lib/utils/boot.js": {
					"match": false,
					"packageHash": "20e357150c9fecb491e281a2d40e480b6d1c9ed3b7ea91e07239c270443b8951",
					"size": 104,
					"status": "missing-in-source"
				},
				"lib/utils/case-map.js": {
					"match": false,
					"packageHash": "23e016e6edafdb2b0da88a90c1758ca908bdce808d6582033ba05723df6a0008",
					"size": 450,
					"status": "missing-in-source"
				},
				"lib/utils/debounce.js": {
					"match": false,
					"packageHash": "376bdccb34d6f8c0372bb7de9d2505a6c39a1252d5b6a98faa3c13f0866f3c6c",
					"size": 3047,
					"status": "missing-in-source"
				},
				"lib/utils/flattened-nodes-observer.js": {
					"match": false,
					"packageHash": "01306e6f2830ed0107046b5310c6521bc14c91a3a9b026d347c521eb73a1a4b2",
					"size": 7740,
					"status": "missing-in-source"
				},
				"lib/utils/flush.js": {
					"match": false,
					"packageHash": "9abbf058bdb75be12fe50247bd2c52378541656774d12e09c77548f6f5a216c4",
					"size": 705,
					"status": "missing-in-source"
				},
				"lib/utils/gestures.js": {
					"match": false,
					"packageHash": "1bdc95b27ab96b2192c7ecb3d6e1a5ad3eb0f7b56b8dfb4d68392f7731896e3e",
					"size": 21632,
					"status": "missing-in-source"
				},
				"lib/utils/import-href.js": {
					"match": false,
					"packageHash": "8b502841609e00ba95074aabae1e14d13e21326fb386210bf38c2a7cd7f69cd5",
					"size": 2296,
					"status": "missing-in-source"
				},
				"lib/utils/mixin.js": {
					"match": false,
					"packageHash": "9ffa517e21b275f8c9efcc8bc6d7e3aec78df98b28257ddbf85da8bf6ab6b6f4",
					"size": 1474,
					"status": "missing-in-source"
				},
				"lib/utils/path.js": {
					"match": false,
					"packageHash": "0b0401329e19f0a34833e8165b76c89ce77af5fb55053713bba452f0ba3fee64",
					"size": 2049,
					"status": "missing-in-source"
				},
				"lib/utils/render-status.js": {
					"match": false,
					"packageHash": "fdd17a7be2648b30877e9051cf7da789cf272fa4b0157f9630ba2f37458fea91",
					"size": 1293,
					"status": "missing-in-source"
				},
				"lib/utils/resolve-url.js": {
					"match": false,
					"packageHash": "091a79daed4a9e122005c3bd6674152ef6c1a3cb8754f663cd016d5319807f86",
					"size": 2259,
					"status": "missing-in-source"
				},
				"lib/utils/settings.js": {
					"match": false,
					"packageHash": "c42d26575542d8af6a03b9a6e2b76d8ac746a0a961c3208ab785fccbc174faf6",
					"size": 1765,
					"status": "missing-in-source"
				},
				"lib/utils/style-gather.js": {
					"match": false,
					"packageHash": "fd8d0aea902b7a6fc464b2364e368fb975fc101ef47e811a384dc40ecac77c10",
					"size": 2592,
					"status": "missing-in-source"
				},
				"lib/utils/templatize.js": {
					"match": false,
					"packageHash": "193f968c918d1dd80a25018ebdc52aa11d5d98b950dc17187c596ed0cccc15b1",
					"size": 19239,
					"status": "missing-in-source"
				},
				"lib/utils/unresolved.js": {
					"match": false,
					"packageHash": "b84c2bbf4cadfc68bce69c51fab3e953e4e5b375c75433bff9f313b6c9fe0378",
					"size": 234,
					"status": "missing-in-source"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,18 +1,51 @@\n {\n   \"name\": \"@polymer/polymer\",\n-  \"flat\": true,\n-  \"version\": \"3.0.0-pre.1\",\n-  \"contributors\": [\n-    \"The Polymer Authors (http://polymer.github.io/AUTHORS.txt)\"\n-  ],\n+  \"version\": \"2.0.2\",\n+  \"description\": \"The Polymer library makes it easy to create your own web components. Give your element some markup and properties, and then use it on a site. Polymer provides features like dynamic templates and data binding to reduce the amount of boilerplate you need to write\",\n+  \"main\": \"polymer.html\",\n+  \"directories\": {\n+    \"doc\": \"docs\",\n+    \"test\": \"test\"\n+  },\n+  \"devDependencies\": {\n+    \"@polymer/gen-closure-declarations\": \"^0.2.0\",\n+    \"@webcomponents/shadycss\": \"^1.0.4\",\n+    \"@webcomponents/webcomponentsjs\": \"^1.0.7\",\n+    \"babel-preset-babili\": \"^0.1.4\",\n+    \"del\": \"^3.0.0\",\n+    \"dom5\": \"^2.3.0\",\n+    \"eslint-plugin-html\": \"^2.0.1\",\n+    \"google-closure-compiler\": \"^20170806.0.0\",\n+    \"gulp\": \"^3.9.1\",\n+    \"gulp-babel\": \"^6.1.2\",\n+    \"gulp-eslint\": \"^3.0.1\",\n+    \"gulp-if\": \"^2.0.1\",\n+    \"gulp-size\": \"^2.1.0\",\n+    \"gulp-vulcanize\": \"^6.0.1\",\n+    \"lazypipe\": \"^1.0.1\",\n+    \"merge-stream\": \"^1.0.1\",\n+    \"parse5\": \"^3.0.2\",\n+    \"polymer-build\": \"^2.0.0\",\n+    \"run-sequence\": \"^2.1.0\",\n+    \"through2\": \"^2.0.0\",\n+    \"web-component-tester\": \"^6.0.1\"\n+  },\n+  \"scripts\": {\n+    \"build\": \"gulp\",\n+    \"test\": \"npm run lint && wct\",\n+    \"lint\": \"gulp lint lint-closure\"\n+  },\n   \"repository\": {\n     \"type\": \"git\",\n     \"url\": \"https://github.com/Polymer/polymer.git\"\n   },\n-  \"license\": \"http://polymer.github.io/LICENSE.txt\",\n-  \"dependencies\": {\n-    \"@webcomponents/shadycss\": \"^1.0.0\",\n-    \"@webcomponents/webcomponentsjs\": \"^1.0.0\"\n+  \"author\": \"The Polymer Project Authors\",\n+  \"license\": \"BSD-3-Clause\",\n+  \"bugs\": {\n+    \"url\": \"https://github.com/Polymer/polymer/issues\"\n   },\n-  \"devDependencies\": {}\n-}\n\\ No newline at end of file\n+  \"homepage\": \"https://github.com/Polymer/polymer\",\n+  \"publishConfig\": {\n+    \"access\": \"public\"\n+  }\n+}\n",
					"match": false,
					"packageHash": "3a6f2fb965ba056283d7268b12655e4a4ab3cb88e3a55d342db3dfb5c4a6355e",
					"size": 451,
					"sourceHash": "fa0d1aaadc597cfb7f5afcab0b57b888546b2f66d745e441b7faf60393616a7c",
					"status": "content"
				},
				"polymer-element.js": {
					"match": false,
					"packageHash": "dba416e217689eac3105166a6fbedeb83ed43e2ace19eb4715b4f4338b630725",
					"size": 715,
					"status": "missing-in-source"
				},
				"polymer.js": {
					"match": false,
					"packageHash": "53c15a9562e2bf4f8b0b13ae12279b8ca6dce2e445606edf5c89ff3eb1c396dc",
					"size": 465,
					"status": "missing-in-source"
				},
				"test/smoke/alacarte-property-accessors.html": {
					"diff": "--- published/test/smoke/alacarte-property-accessors.html\n+++ rebuilt/test/smoke/alacarte-property-accessors.html\n@@ -13,45 +13,44 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../lib/mixins/property-accessors.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/mixins/property-accessors.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import { PropertyAccessors } from '../../lib/mixins/property-accessors.js';\n+<script>\n \n-// Apply mixins to base class\n-class MyElement extends PropertyAccessors(HTMLElement) {\n+  // Apply mixins to base class\n+  class MyElement extends Polymer.PropertyAccessors(HTMLElement) {\n \n-  // Declare observed attributes\n-  static get observedAttributes() { return ['foo', 'bar']; }\n+    // Declare observed attributes\n+    static get observedAttributes() { return ['foo', 'bar']; }\n \n-  // Enable accessors and flush any queued property changes\n-  connectedCallback() {\n-    this._enableProperties();\n-  }\n+    // Enable accessors and flush any queued property changes\n+    connectedCallback() {\n+      this._enableProperties();\n+    }\n \n-  // React to changes\n-  _propertiesChanged(currentProps, changedProps, oldProps) {\n-    for (let p in changedProps) {\n-      this.innerHTML += `${p}: ${changedProps[p]}<br>`;\n+    // React to changes\n+    _propertiesChanged(currentProps, changedProps, oldProps) {\n+      for (let p in changedProps) {\n+        this.innerHTML += `${p}: ${changedProps[p]}<br>`;\n+      }\n     }\n+\n   }\n \n-}\n+  // Generate property accessors for all observed attributes\n+  MyElement.createPropertiesForAttributes();\n \n-// Generate property accessors for all observed attributes\n-MyElement.createPropertiesForAttributes();\n+  // Register element\n+  customElements.define('my-element', MyElement);\n \n-// Register element\n-customElements.define('my-element', MyElement);\n </script>\n \n <my-element foo=\"5\" bar=\"10\"></my-element>\n \n-<script type=\"module\">\n-import '../../lib/mixins/property-accessors.js';\n-document.querySelector('my-element').foo = 20;\n+<script>\n+  document.querySelector('my-element').foo = 20;\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "238538fda1e5946c5305f23eec5590dc7d9f9691e32915695ba007dd17a63742",
					"size": 1750,
					"sourceHash": "863501d82de72b2d1e607e8bdf334febcdcf3d4a000ccd2675b091c956e47c56",
					"status": "content"
				},
				"test/smoke/alacarte-property-effects-ordering.html": {
					"diff": "--- published/test/smoke/alacarte-property-effects-ordering.html\n+++ rebuilt/test/smoke/alacarte-property-effects-ordering.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer-element.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer-element.html\">\n </head>\n <body>\n \n@@ -34,93 +34,92 @@\n   <x-b></x-b>\n </template>\n \n-<script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import { PropertyEffects } from '../../lib/mixins/property-effects.js';\n-\n-customElements.define('x-a', class extends Element {\n-  static get observers() { return ['propChanged(prop)']; }\n-  constructor() {\n-    super();\n-    this.prop = 99;\n-  }\n-  propChanged(prop) {\n-    console.log(this.localName, 'propChanged', prop);\n-    this.textContent = prop;\n-  }\n-  ready() {\n-    super.ready();\n-    console.log(this.localName, 'ready');\n-  }\n-});\n+<script>\n \n-customElements.define('x-b', class extends Element {\n-  static get observers() { return ['propChanged(prop)']; }\n-  constructor() {\n-    super();\n-    this.prop = 77;\n-  }\n-  propChanged(prop) {\n-    console.log(this.localName, 'propChanged', prop);\n-    this.textContent = prop;\n-  }\n-  ready() {\n-    super.ready();\n-    console.log(this.localName, 'ready');\n-  }\n-});\n+  customElements.define('x-a', class extends Polymer.Element {\n+    static get observers() { return ['propChanged(prop)']; }\n+    constructor() {\n+      super();\n+      this.prop = 99;\n+    }\n+    propChanged(prop) {\n+      console.log(this.localName, 'propChanged', prop);\n+      this.textContent = prop;\n+    }\n+    ready() {\n+      super.ready();\n+      console.log(this.localName, 'ready');\n+    }\n+  });\n \n-let template = document.getElementById('my-element-template');\n+  customElements.define('x-b', class extends Polymer.Element {\n+    static get observers() { return ['propChanged(prop)']; }\n+    constructor() {\n+      super();\n+      this.prop = 77;\n+    }\n+    propChanged(prop) {\n+      console.log(this.localName, 'propChanged', prop);\n+      this.textContent = prop;\n+    }\n+    ready() {\n+      super.ready();\n+      console.log(this.localName, 'ready');\n+    }\n+  });\n \n-// Apply mixins to base class\n-let MyBaseClass = PropertyEffects(HTMLElement);\n+  let template = document.getElementById('my-element-template');\n \n-class MyElement extends MyBaseClass {\n+  // Apply mixins to base class\n+  let MyBaseClass = Polymer.PropertyEffects(HTMLElement);\n \n-  // Declare observed attributes\n-  static get observedAttributes() { return ['counter', 'limit']; }\n+  class MyElement extends MyBaseClass {\n \n-  constructor() {\n-    super();\n-    this.counter = 0;\n-    this.limit = Infinity;\n",
					"match": false,
					"packageHash": "edf57642b97aebdff715386207dbe49714cf8302eebe4becd5179fbe34152da6",
					"size": 3355,
					"sourceHash": "21f243b10c5f5bbc3fcff64a00d159af6985ebb1867f19d52b564a85f44e5360",
					"status": "content"
				},
				"test/smoke/alacarte-property-effects.html": {
					"diff": "--- published/test/smoke/alacarte-property-effects.html\n+++ rebuilt/test/smoke/alacarte-property-effects.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../lib/mixins/property-effects.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/mixins/property-effects.html\">\n </head>\n <body>\n \n@@ -32,51 +32,51 @@\n   <span id=\"counter\">[[limited]]</span>\n </template>\n \n-<script type=\"module\">\n-import { PropertyEffects } from '../../lib/mixins/property-effects.js';\n+<script>\n \n-let template = document.getElementById('my-element-template');\n+  let template = document.getElementById('my-element-template');\n \n-class MyElement extends PropertyEffects(HTMLElement) {\n+  class MyElement extends Polymer.PropertyEffects(HTMLElement) {\n \n-  // Declare observed attributes\n-  static get observedAttributes() { return ['counter', 'limit']; }\n+    // Declare observed attributes\n+    static get observedAttributes() { return ['counter', 'limit']; }\n \n-  constructor() {\n-    super();\n-    this.counter = 0;\n-    this.limit = Infinity;\n-  }\n+    constructor() {\n+      super();\n+      this.counter = 0;\n+      this.limit = Infinity;\n+    }\n \n-  // Enable accessors and flush any queued property changes\n-  connectedCallback() {\n-    this._enableProperties();\n-  }\n+    // Enable accessors and flush any queued property changes\n+    connectedCallback() {\n+      this._enableProperties();\n+    }\n \n-  // Called once by PropertyAccessors during first property flush\n-  // Do one-time work like setting up Shadow DOM\n-  ready() {\n-    this.dom = this._stampTemplate(template);\n-    this.attachShadow({mode: 'open'}).appendChild(this.dom);\n-    super.ready();\n-  }\n+    // Called once by PropertyAccessors during first property flush\n+    // Do one-time work like setting up Shadow DOM\n+    ready() {\n+      this.dom = this._stampTemplate(template);\n+      this.attachShadow({mode: 'open'}).appendChild(this.dom);\n+      super.ready();\n+    }\n \n-  computeLimited(counter, limit) {\n-    return Math.min(counter, limit);\n-  }\n+    computeLimited(counter, limit) {\n+      return Math.min(counter, limit);\n+    }\n+\n+    handleIncrement() {\n+      this.counter++;\n+    }\n \n-  handleIncrement() {\n-    this.counter++;\n   }\n \n-}\n+  // Generate property accessors for all observed attributes\n+  MyElement.createComputedProperty('limited', 'computeLimited(counter, limit)');\n+  MyElement.bindTemplate(template);\n \n-// Generate property accessors for all observed attributes\n-MyElement.createComputedProperty('limited', 'computeLimited(counter, limit)');\n-MyElement.bindTemplate(template);\n+  // Register element\n+  customElements.define('my-element', MyElement);\n \n-// Register element\n-customElements.define('my-element', MyElement);\n </script>\n \n \n",
					"match": false,
					"packageHash": "77d9c2c51e98d7fbe6af5aaf2a15f441c4922efcc7edf91e34025d8a0c55afd2",
					"size": 2341,
					"sourceHash": "bcff2907db461dce91c1884f97eed2201275d9c3f0552c3e670d0f523537ab18",
					"status": "content"
				},
				"test/smoke/alacarte-template-stamp.html": {
					"diff": "--- published/test/smoke/alacarte-template-stamp.html\n+++ rebuilt/test/smoke/alacarte-template-stamp.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../lib/mixins/property-accessors.js\"></script>\n-  <script type=\"module\" src=\"../../lib/mixins/template-stamp.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/mixins/property-accessors.html\">\n+  <link rel=\"import\" href=\"../../lib/mixins/template-stamp.html\">\n </head>\n <body>\n \n@@ -33,59 +33,58 @@\n   <span id=\"counter\"></span>\n </template>\n \n-<script type=\"module\">\n-import { PropertyAccessors } from '../../lib/mixins/property-accessors.js';\n-import { TemplateStamp } from '../../lib/mixins/template-stamp.js';\n-\n-// Apply mixins to base class\n-let MyBaseClass =\n-  TemplateStamp(\n-    PropertyAccessors(\n-      HTMLElement));\n-\n-class MyElement extends MyBaseClass {\n-\n-  // Declare observed attributes\n-  static get observedAttributes() { return ['counter', 'limit']; }\n-\n-  constructor() {\n-    super();\n-    this.counter = 0;\n-    this.limit = Infinity;\n-  }\n+<script>\n \n-  // Enable accessors and flush any queued property changes\n-  connectedCallback() {\n-    this._enableProperties();\n-  }\n+  // Apply mixins to base class\n+  let MyBaseClass =\n+    Polymer.TemplateStamp(\n+      Polymer.PropertyAccessors(\n+        HTMLElement));\n+\n+  class MyElement extends MyBaseClass {\n+\n+    // Declare observed attributes\n+    static get observedAttributes() { return ['counter', 'limit']; }\n+\n+    constructor() {\n+      super();\n+      this.counter = 0;\n+      this.limit = Infinity;\n+    }\n \n-  // Called once by PropertyAccessors during first property flush\n-  // Do one-time work like setting up Shadow DOM\n-  ready() {\n-    let template = document.getElementById('my-element-template');\n-    this.dom = this._stampTemplate(template);\n-    this.attachShadow({mode: 'open'}).appendChild(this.dom);\n-    super.ready();\n-  }\n+    // Enable accessors and flush any queued property changes\n+    connectedCallback() {\n+      this._enableProperties();\n+    }\n \n-  // React to changes\n-  _propertiesChanged(currentProps, changedProps, oldProps) {\n-    // Can use this.$ to access id'ed nodes in template\n-    this.dom.$.counter.textContent =\n-      Math.min(currentProps.counter, currentProps.limit);\n-  }\n+    // Called once by PropertyAccessors during first property flush\n+    // Do one-time work like setting up Shadow DOM\n+    ready() {\n+      let template = document.getElementById('my-element-template');\n+      this.dom = this._stampTemplate(template);\n+      this.attachShadow({mode: 'open'}).appendChild(this.dom);\n+      super.ready();\n+    }\n+\n+    // React to changes\n+    _propertiesChanged(currentProps, changedProps, oldProps) {\n+      // Can use this.$ to access id'ed nodes in template\n+      this.dom.$.counter.textContent =\n+        Math.min(currentProps.counter, currentProps.limit);\n+    }\n+\n+    handleIncrement() {\n+      this.counter++;\n+    }\n \n-  handleIncrement() {\n",
					"match": false,
					"packageHash": "5cad183690f07d977efcabe6c0240cef5ade5fd4422b7c35a32cf608d33496bb",
					"size": 2667,
					"sourceHash": "c2c3ac3778fa70eadd1699be6a5dead005c3a31629fd68d46b0bf2fd14e646b0",
					"status": "content"
				},
				"test/smoke/behavior-mixin.html": {
					"diff": "--- published/test/smoke/behavior-mixin.html\n+++ rebuilt/test/smoke/behavior-mixin.html\n@@ -11,7 +11,7 @@\n <html>\n <head>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -21,72 +21,71 @@\n     <div>element says: {{prop}}</div>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-import { DomModule } from '../../lib/elements/dom-module.js';\n-import { mixinBehaviors } from '../../lib/legacy/class.js';\n-var MyBehavior = {\n-  properties: {\n-    behaviorProp: {\n-      value: 'prop from behavior!',\n-      observer: '_propChanged'\n-    }\n-  },\n-  _propChanged: function(value) {\n-    console.log(this.localName, '_propChanged', value);\n-  },\n-  ready: function() {\n-    console.log(this.localName, 'MyBehavior.ready');\n+<script>\n+  var MyBehavior = {\n+    properties: {\n+      behaviorProp: {\n+        value: 'prop from behavior!',\n+        observer: '_propChanged'\n+      }\n+    },\n+    _propChanged: function(value) {\n+      console.log(this.localName, '_propChanged', value);\n+    },\n+    ready: function() {\n+      console.log(this.localName, 'MyBehavior.ready');\n+    }\n   }\n-}\n \n-var MyBehavior2 = {\n-  ready: function() {\n-    console.log(this.localName, 'MyBehavior2.ready');\n+  var MyBehavior2 = {\n+    ready: function() {\n+      console.log(this.localName, 'MyBehavior2.ready');\n+    }\n   }\n-}\n \n-Polymer({\n-  is: 'x-test',\n-  behaviors: [MyBehavior],\n-  properties: {\n-    prop: {\n-      value: 'prop from x-test'\n-    }\n-  },\n-  ready: function() {\n-    console.log(this.localName, 'x-test.ready');\n-  }\n-});\n+  Polymer({\n+    is: 'x-test',\n+    behaviors: [MyBehavior],\n+    properties: {\n+      prop: {\n+        value: 'prop from x-test'\n+      }\n+    },\n+    ready: function() {\n+      console.log(this.localName, 'x-test.ready');\n+    }\n+  });\n \n-// ***********\n+  // ***********\n \n-var XTest = customElements.get('x-test');\n+  var XTest = customElements.get('x-test');\n \n-class XClass extends mixinBehaviors([MyBehavior, MyBehavior2], XTest) {\n-  static get is() { return 'x-class'}\n+  class XClass extends Polymer.mixinBehaviors([MyBehavior, MyBehavior2], XTest) {\n+    static get is() { return 'x-class'}\n \n-  static get template() {\n-    return DomModule.import('x-test', 'template');\n-  }\n+    static get template() {\n+      return Polymer.DomModule.import('x-test', 'template');\n",
					"match": false,
					"packageHash": "ca0677db06c7b292043a3e80f7fafc6a09384a436946aa7295e0a65cf6b9acf3",
					"size": 2241,
					"sourceHash": "3b5a4ce4ab706340d1d62eebf6ab653108b14a1652486523c2c42b7b988e7a68",
					"status": "content"
				},
				"test/smoke/data-table.html": {
					"diff": "--- published/test/smoke/data-table.html\n+++ rebuilt/test/smoke/data-table.html\n@@ -14,21 +14,20 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-window.emojiByType = {\n-  a: 'üòé',\n-  b: 'üí∞',\n-  c: 'üöî',\n-  d: 'üíï',\n-  e: 'üëç',\n-  f: 'üçå'\n-};\n-</script>\n+  <script>\n+    window.emojiByType = {\n+      a: 'üòé',\n+      b: 'üí∞',\n+      c: 'üöî',\n+      d: 'üíï',\n+      e: 'üëç',\n+      f: 'üçå'\n+    };\n+  </script>\n \n   <dom-module id=\"data-popup\">\n     <template strip-whitespace>\n@@ -46,13 +45,13 @@\n       </style>\n       <slot></slot>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'data-popup'\n-});\n-</script>\n+    <script>\n+      HTMLImports.whenReady(function() {\n+        Polymer({\n+          is: 'data-popup'\n+        });\n+      });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"data-cell\">\n@@ -96,41 +95,41 @@\n       {{toFixed(value)}}\n       <data-popup>{{value}}</data-popup>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'data-cell',\n-  properties: {\n-    type: {\n-      type: String,\n-      notify: true\n-    },\n-    value: {\n-      type: Number,\n-      notify: true\n-    },\n-    change: {\n-      reflectToAttribute: true,\n-      computed: 'computeChange(value)'\n-    }\n-  },\n-  attached: function() {\n-    this.fire('register-cell');\n-  },\n-  computeChange: function(value) {\n-    var prev = this._prev;\n-    this._prev = value;\n-    return value > prev ? 'up' : (value < prev ? 'down' : 'none');\n-  },\n-  computeTypeIcon: function(type) {\n-    return emojiByType[type];\n-  },\n-  toFixed: function(value) {\n-    return Number(value).toFixed(2);\n-  }\n-});\n-</script>\n+    <script>\n+      HTMLImports.whenReady(function() {\n+        Polymer({\n+          is: 'data-cell',\n+          properties: {\n",
					"match": false,
					"packageHash": "e80d07a31b5470d39abec59f46b578372b0f6bbddc4d0b83b6bd589516cf3612",
					"size": 10435,
					"sourceHash": "04335480d2dd37806e06934b0cd92fd9d4dd07a462eb49114319b110388378be",
					"status": "content"
				},
				"test/smoke/dirty-check.html": {
					"diff": "--- published/test/smoke/dirty-check.html\n+++ rebuilt/test/smoke/dirty-check.html\n@@ -11,7 +11,7 @@\n <html>\n <head>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -21,40 +21,37 @@\n     <x-child id=\"child\" foo=\"[[foo]]\" bar=\"{{bar}}\"></x-child>\n   </template>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Element } from '../../polymer-element.js';\n-class XHost extends Element {\n-  static get config() {\n-    return {\n-      properties: {\n-        obj: {\n-          observer: 'objChanged'\n+  <script>\n+    class XHost extends Polymer.Element {\n+      static get config() {\n+        return {\n+          properties: {\n+            obj: {\n+              observer: 'objChanged'\n+            }\n+          }\n+        }\n+      }\n+      objChanged(val, old) {\n+        console.log('new', val, 'old', old);\n+      }\n+      _shouldPropertyChange(prop, val, old) {\n+        if (this.strict) {\n+          return val !== old;\n+        } else if (val instanceof Date) {\n+          return !(old instanceof Date) || val.getTime() !== old.getTime();\n+        } else {\n+          return super._shouldPropertyChange(prop, val, old);\n         }\n       }\n     }\n-  }\n-  objChanged(val, old) {\n-    console.log('new', val, 'old', old);\n-  }\n-  _shouldPropertyChange(prop, val, old) {\n-    if (this.strict) {\n-      return val !== old;\n-    } else if (val instanceof Date) {\n-      return !(old instanceof Date) || val.getTime() !== old.getTime();\n-    } else {\n-      return super._shouldPropertyChange(prop, val, old);\n-    }\n-  }\n-}\n-customElements.define('x-host', XHost);\n-</script>\n+    customElements.define('x-host', XHost);\n+  </script>\n </dom-module>\n \n <x-host id=\"host\"></x-host>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n+<script>\n var obj = {foo: true};\n host.obj = obj;\n host.obj = obj;\n",
					"match": false,
					"packageHash": "11cc51b1285359eaefe5c90b741bb272d9cc10281dbe0a5ea1770ca57b09e7b0",
					"size": 1875,
					"sourceHash": "4b937100c7f4ab12c8bdf7f89a9c5f30ef3944421fb40396f33c67eaa100ff48",
					"status": "content"
				},
				"test/smoke/gestures.html": {
					"diff": "--- published/test/smoke/gestures.html\n+++ rebuilt/test/smoke/gestures.html\n@@ -15,7 +15,7 @@\n <html>\n <head>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n   <link rel=\"import\" href=\"https://cdn.rawgit.com/PolymerElements/iron-selector/2.0-preview/iron-selector.html\">\n </head>\n <body>\n@@ -40,10 +40,9 @@\n \n   <button onclick=\"console.log('This is working after a few clicks')\">Click last</button>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-console.log(\"Using: \" + Polymer.version);\n-console.log(\"Ready to start bug demo\");\n-</script>\n+  <script>\n+    console.log(\"Using: \" + Polymer.version);\n+    console.log(\"Ready to start bug demo\");\n+  </script>\n </body>\n </html>\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "4ee2485deb6374e71e3d6b37074cb53975ea00574f33f0d51d8eed2e966b5a3b",
					"size": 1539,
					"sourceHash": "f0dad253b1f56664e6dc9469a5d0fb48b23db321cebd1a07dc388cecc34eeb89",
					"status": "content"
				},
				"test/smoke/ordering-test.html": {
					"diff": "--- published/test/smoke/ordering-test.html\n+++ rebuilt/test/smoke/ordering-test.html\n@@ -13,125 +13,123 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Element } from '../../polymer-element.js';\n-class XA extends Element {\n-  static get template() {\n-    return `<x-b prop=\"[[prop]]\"></x-b>`;\n+<script>\n+  class XA extends Polymer.Element {\n+    static get template() {\n+      return `<x-b prop=\"[[prop]]\"></x-b>`;\n+    }\n+    static get observers() { return ['propChanged(prop)']}\n+    propChanged() {\n+      console.log(this.localName, 'propChanged', this.shadowRoot);\n+    }\n+    constructor() {\n+      console.log('x-a', 'constructed');\n+      super();\n+      this.childList = [];\n+      this.addEventListener('child-is-here', e => {\n+        let target = e.composedPath()[0];\n+        if (target !== this) {\n+          this.childList.push(target);\n+        }\n+      });\n+      this.prop = 'prop';\n+    }\n+    connectedCallback() {\n+      console.group(this.localName, 'connected');\n+      console.warn(this.localName, 'connected (user)', this.shadowRoot);\n+      super.connectedCallback();\n+      console.groupEnd(this.localName, 'connected');\n+    }\n+    _flushProperties() {\n+      console.log(this.localName, 'flush');\n+      super._flushProperties();\n+    }\n+    ready() {\n+      console.group(this.localName, 'ready');\n+      super.ready();\n+      console.warn(this.localName, 'ready (user)', this.shadowRoot);\n+      console.log(this.localName, 'childList', this.childList);\n+      console.groupEnd(this.localName, 'ready');\n+    }\n   }\n-  static get observers() { return ['propChanged(prop)']}\n-  propChanged() {\n-    console.log(this.localName, 'propChanged', this.shadowRoot);\n-  }\n-  constructor() {\n-    console.log('x-a', 'constructed');\n-    super();\n-    this.childList = [];\n-    this.addEventListener('child-is-here', e => {\n-      let target = e.composedPath()[0];\n-      if (target !== this) {\n-        this.childList.push(target);\n-      }\n-    });\n-    this.prop = 'prop';\n-  }\n-  connectedCallback() {\n-    console.group(this.localName, 'connected');\n-    console.warn(this.localName, 'connected (user)', this.shadowRoot);\n-    super.connectedCallback();\n-    console.groupEnd(this.localName, 'connected');\n-  }\n-  _flushProperties() {\n-    console.log(this.localName, 'flush');\n-    super._flushProperties();\n-  }\n-  ready() {\n-    console.group(this.localName, 'ready');\n-    super.ready();\n-    console.warn(this.localName, 'ready (user)', this.shadowRoot);\n-    console.log(this.localName, 'childList', this.childList);\n-    console.groupEnd(this.localName, 'ready');\n-  }\n-}\n-customElements.define('x-a', XA);\n+  customElements.define('x-a', XA);\n \n-class XB extends Element {\n-  static get template() {\n-    return `<x-c prop=\"[[prop]]\"></x-c>`;\n-  }\n-  static get observers() { return ['propChanged(prop)']}\n-  propChanged() {\n-    console.log(this.localName, 'propChanged', this.shadowRoot);\n",
					"match": false,
					"packageHash": "f43c86bf6668de05e09beb14cbf37ced8f235671d6f2fc87b6e8ef2d002da82e",
					"size": 4266,
					"sourceHash": "c4ca27a1c79d37bd48f7aff461b21a7160ace21d737012a4a835b3ea83868421",
					"status": "content"
				},
				"test/smoke/style-props/src/elements-defaults.js": {
					"match": false,
					"packageHash": "f760bce19ff5433f5aa920240f88a1cf4e517c2d3e7640c15a276a946891a58e",
					"size": 368,
					"status": "missing-in-source"
				},
				"test/smoke/style-props/src/elements.js": {
					"match": false,
					"packageHash": "b48e6af0cd73f381d7938842b4c167e9f1afd115f866327518bc1dcc283b55e9",
					"size": 2253,
					"status": "missing-in-source"
				},
				"test/smoke/style-props/src/scopes.js": {
					"match": false,
					"packageHash": "ea0de22376e9c77b819a6c47d3e92960c4f6b57ad9177200866a536b23a0e030",
					"size": 4399,
					"status": "missing-in-source"
				},
				"test/smoke/style-props/src/settings.js": {
					"match": false,
					"packageHash": "bb368386daf5250bef212f5b7f6b715d53d0fd58df205d857aa3ca272db3d273",
					"size": 1584,
					"status": "missing-in-source"
				},
				"test/smoke/style-props/test.html": {
					"diff": "--- published/test/smoke/style-props/test.html\n+++ rebuilt/test/smoke/style-props/test.html\n@@ -5,23 +5,18 @@\n   <meta charset=\"utf-8\">\n   <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n   <script src=\"../../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\" src=\"../../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./src/scopes.js\"></script>\n+  <link rel=\"import\" href=\"../../../polymer.html\">\n+  <link rel=\"import\" href=\"src/scopes.html\">\n </head>\n <body>\n-  <script type=\"module\">\n-import '../../../polymer.js';\n-import './src/scopes.js';\n-console.time('rendered');\n-</script>\n+  <script>\n+    console.time('rendered');\n+  </script>\n   <x-app></x-app>\n-  <script type=\"module\">\n-import '../../../polymer.js';\n-import './src/scopes.js';\n-import { flush } from '../../../lib/utils/flush.js';\n-flush();\n-document.body.offsetWidth;\n-console.timeEnd('rendered');\n-</script>\n+  <script>\n+    Polymer.flush();\n+    document.body.offsetWidth;\n+    console.timeEnd('rendered');\n+  </script>\n </body>\n </html>\n",
					"match": false,
					"packageHash": "10732c2068ce1c5acd84ba3ee5fb15d3e42b91cabc107be80422d559710b9534",
					"size": 729,
					"sourceHash": "4f255d7cd89da4fbd6459dd4854f4d83574db9303787846fc7d8530948dd977f",
					"status": "content"
				},
				"test/unit/array-selector-elements.js": {
					"match": false,
					"packageHash": "20377330fc8c74c5243fbbdf10adf7d322fa85fabeaedca8e3c0439578a1b49e",
					"size": 249,
					"status": "missing-in-source"
				},
				"test/unit/array-selector.html": {
					"diff": "--- published/test/unit/array-selector.html\n+++ rebuilt/test/unit/array-selector.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./array-selector-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"array-selector-elements.html\">\n <body>\n \n <test-fixture id=\"singleConfigured\">\n@@ -45,9 +45,7 @@\n   </template>\n </test-fixture>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import './array-selector-elements.js';\n+<script>\n suite('single selection', function() {\n \n   test('single selection', function() {\n@@ -588,6 +586,7 @@\n   });\n \n });\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "d607fdadc1152a8d88d0e052dfecaf66ef4089274a07611db82a73f507c6190c",
					"size": 23860,
					"sourceHash": "e053bebd5bcbd7491df6fb994cf237e80958373bfa13a33c11f55f8a75f63256",
					"status": "content"
				},
				"test/unit/async.html": {
					"diff": "--- published/test/unit/async.html\n+++ rebuilt/test/unit/async.html\n@@ -13,466 +13,466 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../lib/utils/async.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/utils/async.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import { microTask, timeOut, animationFrame, idlePeriod } from '../../lib/utils/async.js';\n-var capturedErrors = [];\n-var captureEnabled = false;\n-window.addEventListener('error', function(e) {\n-  if (captureEnabled) {\n-    capturedErrors.push(e);\n-    e.stopImmediatePropagation();\n-    e.preventDefault();\n-    return true;\n-  }\n-});\n-\n-suite('Queueing micro tasks', function() {\n-\n-  test('The queued function runs.', function(done) {\n-    var callCount = 0;\n-    var callback = function() {\n-      callCount++;\n-    };\n-\n-    microTask.run(callback);\n-    setTimeout(function() {\n-      assert.equal(callCount, 1);\n-      done();\n-    });\n+<script>\n+  var capturedErrors = [];\n+  var captureEnabled = false;\n+  window.addEventListener('error', function(e) {\n+    if (captureEnabled) {\n+      capturedErrors.push(e);\n+      e.stopImmediatePropagation();\n+      e.preventDefault();\n+      return true;\n+    }\n   });\n \n-  test('Functions queued multiple times are run multiple times.',\n-    function(done) {\n+  suite('Queueing micro tasks', function() {\n+\n+    test('The queued function runs.', function(done) {\n       var callCount = 0;\n       var callback = function() {\n         callCount++;\n       };\n-      microTask.run(callback);\n-      microTask.run(callback);\n-      microTask.run(callback);\n-      setTimeout(function() {\n-        assert.equal(callCount, 3);\n+\n+      Polymer.Async.microTask.run(callback);\n+      setTimeout(function() {\n+        assert.equal(callCount, 1);\n         done();\n       });\n     });\n \n-  test('All queued functions are run.', function(done) {\n-    var callCount1 = 0;\n-    var callCount2 = 0;\n-    var callCount3 = 0;\n-    var callback1 = function() {\n-      callCount1++;\n-    };\n-    var callback2 = function() {\n-      callCount2++;\n-    };\n-    var callback3 = function() {\n-      callCount3++;\n-    };\n-    microTask.run(callback1);\n-    microTask.run(callback2);\n-    microTask.run(callback3);\n-    setTimeout(function() {\n-      assert.equal(callCount1, 1);\n-      assert.equal(callCount2, 1);\n-      assert.equal(callCount3, 1);\n-      done();\n+    test('Functions queued multiple times are run multiple times.',\n+      function(done) {\n+        var callCount = 0;\n+        var callback = function() {\n+          callCount++;\n+        };\n+        Polymer.Async.microTask.run(callback);\n+        Polymer.Async.microTask.run(callback);\n",
					"match": false,
					"packageHash": "f3275ebf3f5b68ae0ad15f8ae02ddac97d12f7dda42650a42dff677ade371f4d",
					"size": 13238,
					"sourceHash": "8bcfa2616819891ea0e95b1867bd6ff86ebe0d9514a7b44cf1d980be0b9d7093",
					"status": "content"
				},
				"test/unit/attributes-elements.js": {
					"match": false,
					"packageHash": "dc8b9d7df29bd1bc23d471556fd3fa6cd7d72d5d47080a878d7edab290fdb72c",
					"size": 3425,
					"status": "missing-in-source"
				},
				"test/unit/attributes.html": {
					"diff": "--- published/test/unit/attributes.html\n+++ rebuilt/test/unit/attributes.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./attributes-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"attributes-elements.html\">\n <body>\n \n   <test-fixture id=\"basic\">\n@@ -86,260 +86,258 @@\n     </template>\n   </test-fixture>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './attributes-elements.js';\n-suite('create-time deserialization', function() {\n-  function testAttributesMatchDefaults(element) {\n-    assert.deepEqual(element.object, {});\n-    assert.deepEqual(element.array, []);\n-    assert.strictEqual(element.number, 0);\n-    assert.strictEqual(element.string, 'none');\n-    assert.strictEqual(element.bool, true);\n-    assert.strictEqual(element.negBool, false);\n-    assert.strictEqual(element.date.getTime(), 0);\n-    assert.strictEqual(element.dashCase, 'none');\n-    assert.strictEqual(element.UPCASE, 'none');\n-    assert.strictEqual(element.noType, 'none');\n-    assert.strictEqual(element.readOnly, 'default');\n-    assert.strictEqual(element.behaviorNumber, 11);\n-    assert.strictEqual(element.behaviorBool, false);\n-    assert.strictEqual(element.shorthandNumber, undefined);\n-    assert.strictEqual(element.shorthandBool, undefined);\n-    assert.strictEqual(element.behaviorShorthandNumber, undefined);\n-    assert.strictEqual(element.behaviorShorthandBool, undefined);\n-  }\n-\n-  function testAttributesMatchCustomConfiguration(element) {\n-    var configuredObject = {foo: 'bar', nested: {'meaning': 42}, arr: [0, 'foo', true]};\n-    var configuredArray = [0, 'foo', true, {foo: 'bar'}];\n-    var configuredString = \"The quick brown fox\";\n-    var configuredTime = 1425494765000;\n-\n-    assert.deepEqual(element.object, configuredObject);\n-    assert.deepEqual(element.array, configuredArray);\n-    assert.strictEqual(element.number, 42);\n-    assert.strictEqual(element.string, 'The quick brown fox');\n-    assert.strictEqual(element.bool, true);\n-    assert.strictEqual(element.negBool, false);\n-    assert.strictEqual(element.date.getTime(), configuredTime);\n-    assert.strictEqual(element.dashCase, configuredString);\n-    assert.strictEqual(element.UPCASE, configuredString);\n-    assert.strictEqual(element.noType, 'Should be String');\n-    assert.strictEqual(element.readOnly, 'default');\n-    assert.strictEqual(element.class, undefined);\n-    assert.strictEqual(element.nard, undefined);\n-    assert.strictEqual(element.behaviorNumber, 77);\n-    assert.strictEqual(element.behaviorBool, true);\n-    assert.strictEqual(element.shorthandNumber, 88);\n-    assert.strictEqual(element.shorthandBool, true);\n-    assert.strictEqual(element.behaviorShorthandNumber, 99);\n-    assert.strictEqual(element.behaviorShorthandBool, true);\n-  }\n-\n-  test('basic default values', function() {\n-    var element = fixture('basic');\n-    testAttributesMatchDefaults(element);\n-  });\n-\n-  test('basic deserialize attributes', function() {\n-    var element = fixture('basic-with-attributes');\n-    testAttributesMatchCustomConfiguration(element);\n-  });\n-\n-  test('reflected default values', function() {\n-    var element = fixture('reflect-to-attribute');\n-    testAttributesMatchDefaults(element);\n-  });\n-\n-  test('reflected deserialize attributes', function() {\n-    var element = fixture('reflect-to-attribute-and-attributes');\n-    testAttributesMatchCustomConfiguration(element);\n-  });\n-\n-  test('reflected warned about reflection for UPCASE', function() {\n-    var element = fixture('reflect-to-attribute');\n-    assert.isTrue(element.__warnedAboutUPCASE = true);\n-  });\n-});\n-\n-suite('imperative attribute change (no-reflect)', function() {\n-  var element, configuredObject, configuredArray;\n-\n-  setup(function() {\n-    element = fixture('basic');\n-    configuredObject = {foo: 'bar', nested: {'meaning': 42}, arr: [0, 'foo', true]};\n",
					"match": false,
					"packageHash": "6845dd8702b0bb820402a37ca046f649da300486136bc2d40c92a407172fc55f",
					"size": 12413,
					"sourceHash": "5bca6f79090d92e168c3eb8a54565dedf53c35af374431f041695ba081dcd1cc",
					"status": "content"
				},
				"test/unit/behaviors.html": {
					"diff": "--- published/test/unit/behaviors.html\n+++ rebuilt/test/unit/behaviors.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n   <dom-module id=\"behavior-registered\">\n@@ -22,269 +22,269 @@\n     </template>\n   </dom-module>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-window.BehaviorA = {\n-  properties: {\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    window.BehaviorA = {\n+      properties: {\n \n-    label: {\n-      type: String,\n-      observer: '_labelChanged'\n-    },\n+        label: {\n+          type: String,\n+          observer: '_labelChanged'\n+        },\n \n-    hasOptionsA: {\n-      readOnly: true,\n-      notify: true\n-    },\n+        hasOptionsA: {\n+          readOnly: true,\n+          notify: true\n+        },\n \n-    overridableProperty: {\n-      value: false\n-    },\n+        overridableProperty: {\n+          value: false\n+        },\n \n-    overridablePropertyB: {\n-      value: false\n-    },\n+        overridablePropertyB: {\n+          value: false\n+        },\n \n-    hasBehaviorA: {\n-      value: true\n-    },\n+        hasBehaviorA: {\n+          value: true\n+        },\n \n-    computeADependency: {\n-      value: true\n-    },\n+        computeADependency: {\n+          value: true\n+        },\n \n-    computeA: {\n-      computed: '_computeProp(computeADependency)'\n-    }\n-  },\n+        computeA: {\n+          computed: '_computeProp(computeADependency)'\n+        }\n+      },\n \n-  _simpleProperty: 'A',\n+      _simpleProperty: 'A',\n \n-  hostAttributes: {\n-    behavior: 'A',\n-    element: 'A',\n-    user: 'A'\n-  },\n+      hostAttributes: {\n+        behavior: 'A',\n+        element: 'A',\n+        user: 'A'\n+      },\n \n-  listeners: {\n-    change: '_changeHandler'\n-  },\n+      listeners: {\n+        change: '_changeHandler'\n+      },\n",
					"match": false,
					"packageHash": "2954af443b3234405752de986f4d5a5286aff169dd95a653022adfc70a028f99",
					"size": 11712,
					"sourceHash": "44e1f283f4f2cc5b61ba8168c7c3c87edc9cd5bf62b0409a795f19e572addc1d",
					"status": "content"
				},
				"test/unit/case-map.html": {
					"diff": "--- published/test/unit/case-map.html\n+++ rebuilt/test/unit/case-map.html\n@@ -13,32 +13,31 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../lib/utils/case-map.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/utils/case-map.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import * as caseMap$0 from '../../lib/utils/case-map.js';\n-suite('case-map', function() {\n-  var caseMap;\n+<script>\n+  suite('case-map', function() {\n+    var caseMap;\n \n-  setup(function() {\n-    caseMap = caseMap$0;\n-  });\n+    setup(function() {\n+      caseMap = Polymer.CaseMap;\n+    });\n \n-  test('camelToDashCase converts to dashes', function() {\n-    assert.equal(caseMap.camelToDashCase('camelCase'), 'camel-case');\n-    assert.equal(caseMap.camelToDashCase('camelCCase'), 'camel-c-case');\n-  });\n+    test('camelToDashCase converts to dashes', function() {\n+      assert.equal(caseMap.camelToDashCase('camelCase'), 'camel-case');\n+      assert.equal(caseMap.camelToDashCase('camelCCase'), 'camel-c-case');\n+    });\n \n-  test('dashToCamelCase converts to camelCase', function() {\n-    assert.equal(caseMap.dashToCamelCase('camel-case'), 'camelCase');\n-    assert.equal(caseMap.dashToCamelCase('camel-c-case'), 'camelCCase');\n-  });\n+    test('dashToCamelCase converts to camelCase', function() {\n+      assert.equal(caseMap.dashToCamelCase('camel-case'), 'camelCase');\n+      assert.equal(caseMap.dashToCamelCase('camel-c-case'), 'camelCCase');\n+    });\n \n-  test('camelToDashCase and dashToCamelCase reverse the other function', function() {\n-    var camelCase = caseMap.dashToCamelCase('camel-c-case');\n-    assert.equal(caseMap.camelToDashCase(camelCase), 'camel-c-case');\n+    test('camelToDashCase and dashToCamelCase reverse the other function', function() {\n+      var camelCase = caseMap.dashToCamelCase('camel-c-case');\n+      assert.equal(caseMap.camelToDashCase(camelCase), 'camel-c-case');\n+    });\n   });\n-});\n </script>\n",
					"match": false,
					"packageHash": "ca6c57fee4e331b7bd7b763e312ce8a8988e61704e2ea49c7193ec2bf7e6fd9e",
					"size": 1629,
					"sourceHash": "4bd57dff3f69f8757f653fc7c3fc1e77fcc1ffae46864fa0c1b6f80b3eaa1e23",
					"status": "content"
				},
				"test/unit/configure.html": {
					"diff": "--- published/test/unit/configure.html\n+++ rebuilt/test/unit/configure.html\n@@ -13,193 +13,193 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-window.configureBehavior = {\n-\n-  changeHandlerCount: 0,\n-  objectChangeHandlerCount: 0,\n-\n-  contentChanged: function() {\n-    this.changeHandlerCount++;\n-    this.stomp = 10;\n-  },\n-  objectChanged: function() {\n-    this.objectChangeHandlerCount++;\n-  }\n-};\n-</script>\n+  <script>\n+    window.configureBehavior = {\n+\n+      changeHandlerCount: 0,\n+      objectChangeHandlerCount: 0,\n+\n+      contentChanged: function() {\n+        this.changeHandlerCount++;\n+        this.stomp = 10;\n+      },\n+      objectChanged: function() {\n+        this.objectChangeHandlerCount++;\n+      }\n+    };\n+\n+  </script>\n \n   <dom-module id=\"x-configure-value\">\n     <template>\n       <span id=\"content\">{{content}}</span>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-\n-  is: 'x-configure-value',\n-\n-  behaviors: [window.configureBehavior],\n-\n-  properties: {\n-    content: {\n-      type: String,\n-      notify: true,\n-      observer: 'contentChanged',\n-      value: 'default'\n-    },\n-    object: {\n-      type: Object,\n-      notify: true,\n-      value: function() { return {foo: 'obj-default'}; },\n-      observer: 'objectChanged'\n-    },\n-    readOnly: {\n-      readOnly: true,\n-      value: 'default'\n-    },\n-    stomp: {\n-      value: 5\n-    }\n-  }\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+\n+        is: 'x-configure-value',\n+\n+        behaviors: [window.configureBehavior],\n+\n+        properties: {\n+          content: {\n+            type: String,\n+            notify: true,\n+            observer: 'contentChanged',\n+            value: 'default'\n+          },\n+          object: {\n+            type: Object,\n+            notify: true,\n+            value: function() { return {foo: 'obj-default'}; },\n+            observer: 'objectChanged'\n+          },\n+          readOnly: {\n+            readOnly: true,\n",
					"match": false,
					"packageHash": "d2946d5e6d7ea03205cb19aebdf7cdd8cf198fb59094e9d9867b0a8a7510b7f1",
					"size": 14858,
					"sourceHash": "f95edd9b2d361d98cbf3e070c1497aa1b3d393a6c07e0819c11edf397747f1b4",
					"status": "content"
				},
				"test/unit/css-parse.html": {
					"diff": "--- published/test/unit/css-parse.html\n+++ rebuilt/test/unit/css-parse.html\n@@ -18,7 +18,7 @@\n \n   <title>css-parse</title>\n \n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n \n </head>\n <body>\n@@ -98,86 +98,85 @@\n \n     .bar {}\n   </style>\n-<script type=\"module\">\n-import '../../polymer.js';\n+<script>\n \n-function sanitizeCss(text) {\n-  return text.replace(/[\\s]+/g, ' ').trim();\n-}\n-\n-suite('css-parse', function() {\n-  var css, s, tree;\n-\n-  setup(function() {\n-    css = Polymer.CssParse;\n-    s = document.querySelector('style#test');\n-    tree = css.parse(s.textContent);\n-  });\n-\n-  test('css rules parse', function() {\n-    assert.equal(tree.rules.length, 4, 'unexpected number of rules');\n-    assert.equal(tree.rules[2].rules.length, 8, 'unexpected number of rules in keyframes');\n-    assert.equal(tree.rules[3].rules.length, 1, 'unexpected number of rules in @media');\n-  });\n-\n-  test('rule selectors parse', function() {\n-    assert.equal(tree.rules[0].selector, ':host', 'unexpected selector');\n-    assert.equal(tree.rules[2].selector, '@-webkit-keyframes fill-unfill-rotate', 'unexpected selector in keyframes');\n-    assert.equal(tree.rules[3].selector, '@media (max-width: 400px)', 'unexpected selector in @media');\n-  });\n+  function sanitizeCss(text) {\n+    return text.replace(/[\\s]+/g, ' ').trim();\n+  }\n+\n+  suite('css-parse', function() {\n+    var css, s, tree;\n+\n+    setup(function() {\n+      css = Polymer.CssParse;\n+      s = document.querySelector('style#test');\n+      tree = css.parse(s.textContent);\n+    });\n+\n+    test('css rules parse', function() {\n+      assert.equal(tree.rules.length, 4, 'unexpected number of rules');\n+      assert.equal(tree.rules[2].rules.length, 8, 'unexpected number of rules in keyframes');\n+      assert.equal(tree.rules[3].rules.length, 1, 'unexpected number of rules in @media');\n+    });\n+\n+    test('rule selectors parse', function() {\n+      assert.equal(tree.rules[0].selector, ':host', 'unexpected selector');\n+      assert.equal(tree.rules[2].selector, '@-webkit-keyframes fill-unfill-rotate', 'unexpected selector in keyframes');\n+      assert.equal(tree.rules[3].selector, '@media (max-width: 400px)', 'unexpected selector in @media');\n+    });\n+\n+    test('rule cssText parse', function() {\n+      assert.equal(tree.rules[0].cssText, 'background: red;', 'unexpected cssText');\n+      assert.match(tree.rules[2].cssText, /^12.5%/, 'unexpected cssText in keyframes');\n+      assert.equal(tree.rules[2].rules[2].cssText, 'transform: rotate(405deg);', 'unexpected cssText in keyframes');\n+      assert.match(tree.rules[3].cssText, /^div/, 'unexpected cssText in @media');\n+      assert.equal(tree.rules[3].rules[0].cssText, 'margin-left: 0 !important;', 'unexpected cssText in @media');\n+    });\n+\n+    test('rule types', function() {\n+      assert.equal(tree.rules[0].type, css.types.STYLE_RULE);\n+      assert.equal(tree.rules[1].type, css.types.STYLE_RULE);\n+      assert.equal(tree.rules[2].type, css.types.KEYFRAMES_RULE);\n+      assert.equal(tree.rules[3].type, css.types.MEDIA_RULE);\n+      assert.equal(tree.rules[3].rules[0].type, css.types.STYLE_RULE);\n+\n+    });\n+\n+    test('rules stringify', function() {\n+      var orig = sanitizeCss(s.textContent);\n+      var result = sanitizeCss(css.stringify(tree));\n+      assert.equal(result, orig, 'unexpected stringified output');\n+    });\n+\n+    test('parse correctly ignores @import and comments', function() {\n+      var s2 = document.querySelector('#test-ignore');\n+      var t = css.parse(s2.textContent);\n+      assert.equal(t.rules[0].selector, '.stuff', 'unexpected rule selector');\n+      assert.equal(t.rules[0].cssText, 'background: red;', 'unexpected rule cssText');\n+      var result = sanitizeCss(css.stringify(t));\n+      assert.equal(result, '.stuff { background: red; }', 'unexpected stringified output');\n+    });\n+\n",
					"match": false,
					"packageHash": "eb8cde12f2920a5ea4cdb6ebd5a4ba059a81e05fe6b3ba276cef6e953c5c29d5",
					"size": 5646,
					"sourceHash": "8b12d0323d4a7dcd715806c4e1fcc389017fef157bdc98942d15c9c4fef83311",
					"status": "content"
				},
				"test/unit/custom-style-async-import.html": {
					"diff": "--- published/test/unit/custom-style-async-import.html\n+++ rebuilt/test/unit/custom-style-async-import.html\n@@ -27,10 +27,9 @@\n     </style>\n     x-client\n   </template>\n-  <script type=\"module\">\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-client'\n-});\n-</script>\n+  <script>\n+    Polymer({\n+      is: 'x-client'\n+    });\n+  </script>\n </dom-module>\n",
					"match": false,
					"packageHash": "ff74a3626f33dd2e433c51d9528435b380431ce81c4cd97f74f42bfdc2478422",
					"size": 1004,
					"sourceHash": "29426602d8abee30615c98d1685aa042689fa863ff1e05524148cc8f3f1b18a9",
					"status": "content"
				},
				"test/unit/custom-style-async.html": {
					"diff": "--- published/test/unit/custom-style-async.html\n+++ rebuilt/test/unit/custom-style-async.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n \n </head>\n <body>\n@@ -31,40 +31,39 @@\n       <x-client id=\"client\"></x-client>\n     </template>\n   </dom-module>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-host'\n-});\n-</script>\n+  <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-host'\n+      });\n+    });\n+  </script>\n \n   <x-host id=\"host\"></x-host>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { afterNextRender } from '../../lib/utils/render-status.js';\n-/* global host */\n-\n-suite('async global custom-style', function() {\n-\n-  test('async loaded custom-style applies', function(done) {\n-    host.importHref('custom-style-async-import.html', function() {\n-      afterNextRender(null, function() {\n-        assertComputed(host.$.client, '8px');\n-        done();\n+  <script>\n+  /* global host */\n+\n+    suite('async global custom-style', function() {\n+\n+      test('async loaded custom-style applies', function(done) {\n+        host.importHref('custom-style-async-import.html', function() {\n+          Polymer.RenderStatus.afterNextRender(null, function() {\n+            assertComputed(host.$.client, '8px');\n+            done();\n+          });\n+        });\n       });\n+\n     });\n-  });\n \n-});\n+    function assertComputed(element, value, property, pseudo) {\n+      var computed = getComputedStyle(element, pseudo);\n+      property = property || 'border-top-width';\n+      assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n+    }\n \n-function assertComputed(element, value, property, pseudo) {\n-  var computed = getComputedStyle(element, pseudo);\n-  property = property || 'border-top-width';\n-  assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n-}\n-</script>\n+  </script>\n \n </body>\n </html>\n",
					"match": false,
					"packageHash": "f2edf03c017891a9b2628950018298268e088caf4e9b47713b84d063daefa2e8",
					"size": 1993,
					"sourceHash": "e20abb00b5633d2c1a1ecaa9a74aa3931986daacd9b5aec0642afa89b0cf4bb5",
					"status": "content"
				},
				"test/unit/custom-style-import.js": {
					"match": false,
					"packageHash": "5bf1bf037ae607e5870137dd41ab7ac631a76f747ab5ba0617c8ae3bc454bc06",
					"size": 759,
					"status": "missing-in-source"
				},
				"test/unit/custom-style-late.html": {
					"diff": "--- published/test/unit/custom-style-late.html\n+++ rebuilt/test/unit/custom-style-late.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -40,37 +40,35 @@\n \n   <x-input id=\"input\"></x-input>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-import { afterNextRender } from '../../lib/utils/render-status.js';\n-/* global input */\n-\n-suite('custom-style late property definition', function() {\n-\n-  test('late defined properties applied to custom-style', function(done) {\n-    Polymer({\n-      is: 'x-input'\n-    });\n-    var template = document.querySelector('template#late');\n-    document.body.appendChild(document.importNode(template.content, true));\n-    // wait 2 rounds of `afterNextRender` as `<custom-style>` boots asynchronously\n-    afterNextRender(null, function() {\n-      afterNextRender(null, function() {\n-        assertComputed(input, '8px');\n-        done();\n+  <script>\n+  /* global input */\n+\n+    suite('custom-style late property definition', function() {\n+\n+      test('late defined properties applied to custom-style', function(done) {\n+        Polymer({\n+          is: 'x-input'\n+        });\n+        var template = document.querySelector('template#late');\n+        document.body.appendChild(document.importNode(template.content, true));\n+        // wait 2 rounds of `afterNextRender` as `<custom-style>` boots asynchronously\n+        Polymer.RenderStatus.afterNextRender(null, function() {\n+          Polymer.RenderStatus.afterNextRender(null, function() {\n+            assertComputed(input, '8px');\n+            done();\n+          });\n+        });\n       });\n+\n     });\n-  });\n \n-});\n+    function assertComputed(element, value, property, pseudo) {\n+      var computed = getComputedStyle(element, pseudo);\n+      property = property || 'border-top-width';\n+      assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n+    }\n \n-function assertComputed(element, value, property, pseudo) {\n-  var computed = getComputedStyle(element, pseudo);\n-  property = property || 'border-top-width';\n-  assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n-}\n-</script>\n+  </script>\n \n </body>\n </html>\n",
					"match": false,
					"packageHash": "fd606d41224aeba4659cb99250bcec3201299382d087487c824f17a911349766",
					"size": 2210,
					"sourceHash": "96a2a0522c7f2438502d5ee7e5c87c0792dbcdcee877ffdfd04898df08054d66",
					"status": "content"
				},
				"test/unit/custom-style-scope-cache.html": {
					"diff": "--- published/test/unit/custom-style-scope-cache.html\n+++ rebuilt/test/unit/custom-style-scope-cache.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n \n </head>\n <body>\n@@ -34,50 +34,50 @@\n       </style>\n       cache-element\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'cache-element'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'cache-element'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <cache-element id=\"cache1\" class=\"c\"></cache-element>\n   <cache-element id=\"cache2\"></cache-element>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n+  <script>\n \n-suite('custom-style scope cache', function() {\n+    suite('custom-style scope cache', function() {\n \n-  test('elements created declaratively conditionally styled via custom style receive correct properties', function() {\n-    var t1 = document.querySelector('#cache1');\n-    var t2 = document.querySelector('#cache2');\n-    assertComputed(t1, '8px');\n-    assertComputed(t2, '4px');\n-  });\n-\n-\n-  test('elements created imperatively conditionally styled via custom style receive correct properties', function() {\n-    var t1 = document.createElement('cache-element');\n-    t1.classList.add('c');\n-    var t2 = document.createElement('cache-element');\n-    document.body.appendChild(t1);\n-    document.body.appendChild(t2);\n-    assertComputed(t1, '8px');\n-    assertComputed(t2, '4px');\n-  });\n-\n-});\n-\n-\n-function assertComputed(element, value, property, pseudo) {\n-  var computed = getComputedStyle(element, pseudo);\n-  property = property || 'border-top-width';\n-  assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n-}\n-</script>\n+      test('elements created declaratively conditionally styled via custom style receive correct properties', function() {\n+        var t1 = document.querySelector('#cache1');\n+        var t2 = document.querySelector('#cache2');\n+        assertComputed(t1, '8px');\n+        assertComputed(t2, '4px');\n+      });\n+\n+\n+      test('elements created imperatively conditionally styled via custom style receive correct properties', function() {\n+        var t1 = document.createElement('cache-element');\n+        t1.classList.add('c');\n+        var t2 = document.createElement('cache-element');\n+        document.body.appendChild(t1);\n+        document.body.appendChild(t2);\n+        assertComputed(t1, '8px');\n+        assertComputed(t2, '4px');\n+      });\n+\n+    });\n+\n+\n+    function assertComputed(element, value, property, pseudo) {\n+      var computed = getComputedStyle(element, pseudo);\n+      property = property || 'border-top-width';\n+      assert.equal(computed[property], value, 'computed style incorrect for ' + property);\n+    }\n+\n+  </script>\n \n </body>\n </html>\n",
					"match": false,
					"packageHash": "ee08d25c69dae217872df506121be5ac82bd7ce86bdd8fbdca1d3226c96e424b",
					"size": 2492,
					"sourceHash": "7ff5ffb802955bea48ea402460ebfbb1ce191471daf4e5b92f183f6cb7650361",
					"status": "content"
				},
				"test/unit/custom-style.html": {
					"diff": "--- published/test/unit/custom-style.html\n+++ rebuilt/test/unit/custom-style.html\n@@ -13,22 +13,11 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./custom-style-import.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"custom-style-import.html\">\n </head>\n <body>\n-  <!-- FIXME(polymer-modulizer):\n-        These imperative modules that innerHTML your HTML are\n-        a hacky way to be sure that any mixins in included style\n-        modules are ready before any elements that reference them are\n-        instantiated, otherwise the CSS @apply mixin polyfill won't be\n-        able to expand the underlying CSS custom properties.\n-        See: https://github.com/Polymer/polymer-modulizer/issues/154\n-        -->\n-    <script type=\"module\">\n-const $_documentContainer = document.createElement('div');\n-\n-$_documentContainer.innerHTML = `<custom-style>\n+  <custom-style>\n   <style is=\"custom-style\">\n     x-bar {\n       border: 1px solid red;\n@@ -76,14 +65,8 @@\n       --x-foo-more: 6px solid orange;\n     }\n   </style>\n-</custom-style>`;\n-\n-document.body.appendChild($_documentContainer);\n-</script>\n-  <script type=\"module\">\n-const $_documentContainer = document.createElement('div');\n-\n-$_documentContainer.innerHTML = `<custom-style>\n+</custom-style>\n+  <custom-style>\n   <style is=\"custom-style\">\n     .bag {\n       ;@apply --bag;\n@@ -110,15 +93,9 @@\n       border: var(--after);\n     }\n   </style>\n-</custom-style>`;\n+</custom-style>\n \n-document.body.appendChild($_documentContainer);\n-</script>\n-\n-<script type=\"module\">\n-const $_documentContainer = document.createElement('div');\n-\n-$_documentContainer.innerHTML = `<custom-style>\n+<custom-style>\n   <style is=\"custom-style\" include=\"shared-style2\">\n     .zazz {\n       border: 20px solid blue;\n@@ -129,14 +106,8 @@\n       border-top : 3px solid red;\n     }\n   </style>\n-</custom-style>`;\n-\n-document.body.appendChild($_documentContainer);\n-</script>\n-<script type=\"module\">\n-const $_documentContainer = document.createElement('div');\n-\n-$_documentContainer.innerHTML = `<custom-style>\n+</custom-style>\n+<custom-style>\n   <style is=\"custom-style\">\n     @media (min-width: 1px) {\n       .foo--bar {\n@@ -144,104 +115,34 @@\n       }\n     }\n   </style>\n-</custom-style>`;\n+</custom-style>\n+  <div class=\"italic\">italic</div>\n+  <div class=\"bag\">bag</div>\n+  <div class=\"mix\">mix</div>\n+\n+  <div class=\"dynamic\">dynamic</div>\n+\n+  <div class=\"import-mixin\">import-mixin</div>\n+  <div class=\"import-var\">import-var</div>\n+\n+  <x-bar></x-bar>\n+\n+  <x-foo></x-foo>\n+\n+  <x-red-text></x-red-text>\n",
					"match": false,
					"packageHash": "627f01464dde50873abcfcecf42c014f29b9933b1b4ceeeea464d3887241a41a",
					"size": 19800,
					"sourceHash": "f61263b4089c35b2356f0c22522547b1dcead0f669e66db033ea5faf28c9ccf0",
					"status": "content"
				},
				"test/unit/debounce.html": {
					"diff": "--- published/test/unit/debounce.html\n+++ rebuilt/test/unit/debounce.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n   <test-fixture id=\"basic\">\n@@ -28,60 +28,17 @@\n     </template>\n   </test-fixture>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-import { Debouncer } from '../../lib/utils/debounce.js';\n-import { microTask, timeOut, animationFrame, idlePeriod } from '../../lib/utils/async.js';\n-Polymer({is: 'x-basic'});\n+<script>\n \n-suite('debounce', function() {\n-  var element;\n-\n-  setup(function() {\n-    element = fixture('basic');\n-  });\n-\n-  test('debounce (no-wait)', function(done) {\n-    var called = 0;\n-    var callback = function() {\n-      called++;\n-    };\n-\n-    element.debounce('job', callback);\n-    element.debounce('job', callback);\n-    element.debounce('job', callback);\n-\n-    setTimeout(function() {\n-      assert.equal(called, 1, 'debounce should be called exactly once');\n-      done();\n-    }, 50);\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-basic'});\n   });\n \n-  test('debounce (wait)', function(done) {\n-    var called = 0;\n-    var now = Date.now();\n-    var callback = function() {\n-      called++;\n-    };\n-\n-    element.debounce('job', callback);\n-    element.debounce('job', callback, 100);\n-    element.debounce('job', callback, 100);\n-\n-    setTimeout(function() {\n-      assert.equal(called, 1, 'debounce should be called exactly once');\n-      assert(Date.now() - now > 100, 'debounce should be called after at least 100ms');\n-      done();\n-    }, 200);\n-  });\n-\n-  suite('debounce does not carry across multiple elements', function() {\n-    var element1, element2;\n+  suite('debounce', function() {\n+    var element;\n \n     setup(function() {\n-      element1 = fixture('basic');\n-      element2 = fixture('another');\n+      element = fixture('basic');\n     });\n \n     test('debounce (no-wait)', function(done) {\n@@ -90,126 +47,168 @@\n         called++;\n       };\n \n-      element1.debounce('job', callback);\n-      element2.debounce('job', callback);\n-      element1.debounce('job', callback);\n-      element2.debounce('job', callback);\n+      element.debounce('job', callback);\n+      element.debounce('job', callback);\n+      element.debounce('job', callback);\n \n       setTimeout(function() {\n-        assert.equal(called, 2, 'debounce should be called exactly twice');\n+        assert.equal(called, 1, 'debounce should be called exactly once');\n         done();\n       }, 50);\n     });\n-  });\n \n-  suite('Polymer.Debouncer.debounce', function() {\n-    test('same debouncer and multiple micro tasks', function(done) {\n",
					"match": false,
					"packageHash": "4c567c5a643cfb9cc44c9b017a23faa69d6fb0c9acdc7715e15c42d45ea252e8",
					"size": 6830,
					"sourceHash": "7bfceef92a989059e226df4171178dcb2cb6fa8739f51ff644ac2b888580e158",
					"status": "content"
				},
				"test/unit/dom-bind-elements1.js": {
					"match": false,
					"packageHash": "545396ae904764f39da463f203badcc0c6ba387abd8db74ea5bfdd8a43a75cd8",
					"size": 936,
					"status": "missing-in-source"
				},
				"test/unit/dom-bind-elements2.js": {
					"match": false,
					"packageHash": "ca863601d69cd428e76a9a9483e9b391d802b5d0d2b25140ea0531a23fea8b8f",
					"size": 256,
					"status": "missing-in-source"
				},
				"test/unit/dom-bind.html": {
					"diff": "--- published/test/unit/dom-bind.html\n+++ rebuilt/test/unit/dom-bind.html\n@@ -22,16 +22,13 @@\n     </template>\n   </dom-bind>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-bind-elements1.js';\n-import './dom-bind-elements2.js';\n-/* global earlyDomBind earlyBoundChild declaredXBasic1 declaredXBasic2 declarativeDomBind boundTextDiv container needsHost nonUpgrade*/\n-earlyDomBind.value = 'hi!';\n-</script>\n+  <script>\n+    /* global earlyDomBind earlyBoundChild declaredXBasic1 declaredXBasic2 declarativeDomBind boundTextDiv container needsHost nonUpgrade*/\n+    earlyDomBind.value = 'hi!';\n+  </script>\n \n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./dom-bind-elements1.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"dom-bind-elements1.html\">\n \n   <dom-bind id=\"declarativeDomBind\">\n     <template>\n@@ -51,11 +48,7 @@\n     </template>\n   </dom-bind>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-bind-elements1.js';\n-import './dom-bind-elements2.js';\n-</script>\n+  <script> /* force non-upgrade, to test MO-based template finding below */ </script>\n \n   <div id=\"nonUpgrade\">\n     <dom-bind>\n@@ -63,219 +56,216 @@\n     </dom-bind>\n   </div>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-bind-elements1.js';\n-import './dom-bind-elements2.js';\n-import { DomBind } from '../../lib/elements/dom-bind.js';\n-import { flush } from '../../lib/utils/flush.js';\n-\n-suite('Polymer.DomBind class', function() {\n-  test('is available', function() {\n-    assert.isDefined(DomBind);\n-    assert.equal(typeof DomBind, 'function');\n-  });\n-});\n-\n-suite('dom-bind touched before upgrade', function() {\n-  test('value binds top-down', function() {\n-    assert.equal(earlyBoundChild.textContent, 'hi!');\n-  });\n-});\n-\n-suite('declarative dom-bind', function() {\n-\n-  var domBind;\n-  var el1;\n-  var el2;\n-\n-  setup(function() {\n-    domBind = declarativeDomBind;\n-    el1 = declaredXBasic1;\n-    el2 = declaredXBasic2;\n-  });\n-\n-  test('value binds top-down', function() {\n-    domBind.value = 'foo';\n-    assert.equal(el1.value, 'foo');\n-    assert.equal(el2.value, 'foo');\n-  });\n-\n-  test('notifyingvalue binds from child to child', function() {\n-    el1.notifyingvalue = 'bar';\n-    assert.equal(domBind.nvalue, 'bar');\n-    assert.equal(el2.notifyingvalue, 'bar');\n-  });\n-\n-  test('event listener fires', function() {\n-    domBind.handleEvent = sinon.spy();\n-    el1.fire('custom');\n-    assert.equal(domBind.handleEvent.callCount, 1);\n-  });\n-\n-  test('gesture event listener fires', function() {\n-    domBind.handleTap = sinon.spy();\n-    el1.click();\n-    assert.equal(domBind.handleTap.callCount, 1);\n-  });\n-\n-  test('inline function runs', function() {\n-    domBind.compute = function(val) {\n",
					"match": false,
					"packageHash": "4bf1b7353b493aecc1ed015de7ffff0a0df3acd5ce53399885fabd08df9963c8",
					"size": 7851,
					"sourceHash": "24059f11107e03d83d60e2b0d39ac302d2ba5f43096f16035d7d2de229fbbb90",
					"status": "content"
				},
				"test/unit/dom-if-elements.js": {
					"match": false,
					"packageHash": "e3b97eed8dfb53609b6f67abad25a300b116aee32f979cc1336a03315c2121c9",
					"size": 5843,
					"status": "missing-in-source"
				},
				"test/unit/dom-if.html": {
					"diff": "--- published/test/unit/dom-if.html\n+++ rebuilt/test/unit/dom-if.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./dom-if-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"dom-if-elements.html\">\n </head>\n <body>\n \n@@ -81,10 +81,7 @@\n     </dom-if>\n   </div>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-if-elements.js';\n-</script>\n+  <script> /* force non-upgrade, to test MO-based template finding below */ </script>\n \n   <div id=\"nonUpgrade\">\n     <dom-if if>\n@@ -93,771 +90,768 @@\n   </div>\n \n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-if-elements.js';\n-import { Settings } from '../../lib/utils/settings.js';\n-import { flush } from '../../lib/utils/flush.js';\n-/* global configured individual unconfigured1 unconfigured2 inDocumentContainer inDocumentIf structuredContainer structuredDomIf structuredDomBind outerContainer innerContainer shouldBeRemoved toBeRemoved removalContainer nonUpgrade*/\n-suite('nested pre-configured dom-if', function() {\n-\n-  test('parent scope binding', function() {\n-    var stamped = configured.shadowRoot.querySelectorAll('*:not(template):not(dom-if):not(span)');\n-    assert.equal(stamped.length, 3, 'total stamped count incorrect');\n-    assert.equal(stamped[0].prop, 'outer');\n-    assert.equal(stamped[0].itemProp, 'outerItem');\n-    assert.equal(stamped[1].prop, 'outer');\n-    assert.equal(stamped[1].itemProp, 'outerItem');\n-    assert.equal(stamped[2].prop, 'outer');\n-    assert.equal(stamped[2].itemProp, 'outerItem');\n-  });\n-\n-  test('parent scope downward notification', function() {\n-    var stamped = configured.shadowRoot.querySelectorAll('*:not(template):not(dom-if):not(span)');\n-    configured.prop = 'yes';\n-    assert.equal(stamped[0].prop, 'yes');\n-    assert.equal(stamped[1].prop, 'yes');\n-    assert.equal(stamped[2].prop, 'yes');\n-    configured.set('item.prop', 'yay');\n-    assert.equal(stamped[0].itemProp, 'yay');\n-    assert.equal(stamped[1].itemProp, 'yay');\n-    assert.equal(stamped[2].itemProp, 'yay');\n-  });\n-\n-  test('parent upward upward notification', function() {\n-    var stamped = configured.shadowRoot.querySelectorAll('*:not(template):not(dom-if):not(span)');\n-    stamped[2].prop = 'nice';\n-    assert.equal(configured.prop, 'nice');\n-    assert.equal(stamped[0].prop, 'nice');\n-    assert.equal(stamped[1].prop, 'nice');\n-    assert.equal(stamped[2].prop, 'nice');\n-  });\n-\n-  test('dom-change event composed, bubbles outside dom-if scope', function() {\n-    var domChangeFired = 0;\n-    var domIf = configured.$['if-1'];\n-    configured.addEventListener('dom-change', function() {\n-      domChangeFired++;\n-    });\n-    domIf.if = !domIf.if;\n-    domIf.render();\n-    domIf.if = !domIf.if;\n-    domIf.render();\n-    assert.equal(domChangeFired, 2);\n-  });\n-\n-});\n-\n-suite('nested individually-controlled dom-if', function() {\n-\n-  test('nothing stamped', function() {\n-    var stamped = individual.shadowRoot.querySelectorAll('*:not(template):not(dom-if):not(span)');\n-    assert.equal(stamped.length, 0, 'total stamped count incorrect');\n-  });\n-\n-  test('show 1', function() {\n-    individual.shouldStamp1 = true;\n-    individual.render();\n-    var stamped = individual.shadowRoot.querySelectorAll('*:not(template):not(dom-if):not(span)');\n-    assert.equal(stamped.length, 1, 'total stamped count incorrect');\n-    assert.equal(stamped[0].prop, 'prop1');\n-    assert.equal(getComputedStyle(stamped[0]).display, 'inline', 'stamped 1 display wrong');\n-  });\n-\n",
					"match": false,
					"packageHash": "2bda54eac5033581b72d4693bbc831bb3c251a53131ac0ef67fea68fc2a9e4c3",
					"size": 33158,
					"sourceHash": "48ee3ade23c068f5bd93888d5cdccd29f4940dd88521130d5057c1e5e0bfe2a6",
					"status": "content"
				},
				"test/unit/dom-repeat-elements.js": {
					"match": false,
					"packageHash": "4155254ece9b343272ce300826e0e7403a0f270506fb6ff1362c959856f6ad70",
					"size": 11010,
					"status": "missing-in-source"
				},
				"test/unit/dom-repeat.html": {
					"diff": "--- published/test/unit/dom-repeat.html\n+++ rebuilt/test/unit/dom-repeat.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./dom-repeat-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"dom-repeat-elements.html\">\n   <style>\n     /* makes painting faster when testing on IOS simulator */\n     x-repeat-chunked {\n@@ -117,10 +117,7 @@\n   <div id=\"inDocumentContainer\">\n   </div>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-repeat-elements.js';\n-</script>\n+  <script> /* force non-upgrade, to test MO-based template finding below */ </script>\n \n   <div id=\"nonUpgrade\">\n     <dom-repeat items='[{\"prop\": \"stamped\"}]'>\n@@ -128,329 +125,278 @@\n     </dom-repeat>\n   </div>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './dom-repeat-elements.js';\n-import { flush } from '../../lib/utils/flush.js';\n-import { calculateSplices } from '../../lib/utils/array-splice.js';\n-/* global limited inDocumentRepeater inDocumentContainer inDocumentContainerOrig chunked nonUpgrade*/\n-\n-/*\n-  Expected:\n-\n-  stamped[0] ... 1\n-  stamped[1] ... 1-1\n-  stamped[2] ... 1-1-1\n-  stamped[3] ... 1-1-2\n-  stamped[4] ... 1-1-3\n-  stamped[5] ... 1-2\n-  ...\n-  stamped[13] .. 2\n-  ...\n-  stamped[36] .. 3-3-1\n-  stamped[37] .. 3-3-2\n-  stamped[38] .. 3-3-3\n-*/\n-\n-function arrayDelete(el, path, item) {\n-  var array = el.get(path);\n-  var idx = array.indexOf(item);\n-  el.splice(path, idx, 1);\n-}\n-\n-suite('errors', function() {\n-\n-  test('items must be array', function() {\n-    sinon.spy(console, 'warn');\n-    inDocumentRepeater.items = {};\n-    assert.isTrue(console.warn.calledOnce, 'should warn when items is not array');\n-    assert.match(console.warn.firstCall.args[0], /expected array/);\n-    console.warn.restore();\n-  });\n-\n-});\n-\n-suite('nested pre-configured dom-repeat', function() {\n-\n-  let configured;\n-\n-  setup(function() {\n-    configured = fixture('configured');\n-    flush();\n-  });\n-\n-  test('basic rendering, downward item binding', function() {\n-    var stamped = configured.root.querySelectorAll('*:not(template):not(dom-repeat)');\n-    assert.equal(stamped.length, 3 + 3*3 + 3*3*3, 'total stamped count incorrect');\n-    assert.equal(configured.$.repeater.renderedItemCount, 3, 'rendered item count incorrect');\n-    assert.equal(stamped[0].itemaProp, 'prop-1');\n-    assert.equal(stamped[0].computeda, 'prop-1+itemForComputedA');\n-    assert.equal(stamped[0].indexa, 0);\n-    assert.equal(stamped[0].$.bar.itemaProp, 'prop-1');\n-    assert.equal(stamped[1].itembProp, 'prop-1-1');\n-    assert.equal(stamped[1].computedb, 'prop-1-1+itemForComputedB');\n-    assert.equal(stamped[1].indexa, 0);\n-    assert.equal(stamped[1].indexb, 0);\n-    assert.equal(stamped[1].$.bar.itembProp, 'prop-1-1');\n-    assert.equal(stamped[2].itemcProp, 'prop-1-1-1');\n-    assert.equal(stamped[2].computedc, 'prop-1-1-1+itemForComputedC');\n-    assert.equal(stamped[2].indexa, 0);\n-    assert.equal(stamped[2].indexb, 0);\n-    assert.equal(stamped[2].indexc, 0);\n-    assert.equal(stamped[2].$.bar.itemcProp, 'prop-1-1-1');\n-    assert.equal(stamped[3].itemcProp, 'prop-1-1-2');\n",
					"match": false,
					"packageHash": "ea514015d90068182a06bff315cdc7b5f91db5f42dd19f0b3be1c995fd4fbc0b",
					"size": 171426,
					"sourceHash": "f43cc696a1cb6ad3693e18aa8b36e547f3e36105422f7335800aa8c212422592",
					"status": "content"
				},
				"test/unit/dynamic-import.html": {
					"diff": "--- published/test/unit/dynamic-import.html\n+++ rebuilt/test/unit/dynamic-import.html\n@@ -13,124 +13,123 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"./dynamic-imports/dynamic-element.js\"></script>\n+  <link rel=\"import\" href=\"dynamic-imports/dynamic-element.html\">\n </head>\n <body>\n \n <dynamic-element></dynamic-element>\n \n-<script type=\"module\">\n-import './dynamic-imports/dynamic-element.js';\n-import { Base } from '../../polymer.js';\n-\n-suite('dynamic imports', function() {\n-\n-  test('use importHref to load and create an element', function(done) {\n-    var d = document.querySelector('dynamic-element');\n-    d.whenDynamicContentReady(function() {\n-      assert.isTrue(d.isAttached, true, 'dynamic element not readied');\n-      assert.ok(d.$.content, 'dynamic element does not have content');\n-      assert.isTrue(d.$.outer.isAttached, true, 'dynamic sub-element not readied');\n-      assert.ok(d.$.outer.$.content, 'dynamic sub-element does not have content');\n-      assert.isTrue(d.$.outer.$.inner.isAttached, true, 'dynamic sub-element not readied');\n-      assert.ok(d.$.outer.$.inner.$.content, 'dynamic sub-element does not have content');\n-      done();\n-    });\n-  });\n+<script>\n \n-  suite('async/sync loading', function() {\n+  suite('dynamic imports', function() {\n \n-    var url = 'dynamic-imports/dynamic-element.html';\n-\n-    test('importHref does not cache failed results', function(done) {\n-      Base.importHref('does_not_exist.html', function() {\n-        throw new Error('Load handler should not be called.');\n-      }, function() {\n-        var link = document.head\n-            .querySelector('[href=\"does_not_exist.html\"]');\n-        assert.isNotOk(link, 'The link should not exist');\n+    test('use importHref to load and create an element', function(done) {\n+      var d = document.querySelector('dynamic-element');\n+      d.whenDynamicContentReady(function() {\n+        assert.isTrue(d.isAttached, true, 'dynamic element not readied');\n+        assert.ok(d.$.content, 'dynamic element does not have content');\n+        assert.isTrue(d.$.outer.isAttached, true, 'dynamic sub-element not readied');\n+        assert.ok(d.$.outer.$.content, 'dynamic sub-element does not have content');\n+        assert.isTrue(d.$.outer.$.inner.isAttached, true, 'dynamic sub-element not readied');\n+        assert.ok(d.$.outer.$.inner.$.content, 'dynamic sub-element does not have content');\n         done();\n       });\n     });\n \n-    test('importHref caches successful results', function(done) {\n-      var targetUrl = 'dynamic-imports/async-import.html';\n+    suite('async/sync loading', function() {\n+\n+      var url = 'dynamic-imports/dynamic-element.html';\n \n-      Base.importHref(targetUrl, function(event) {\n-        var targetOne = event.target;\n-        Base.importHref(targetUrl, function(event) {\n-          var targetTwo = event.target;\n-\n-          assert.isOk(targetOne, 'Event target should be available');\n-          assert.strictEqual(targetOne, targetTwo,\n-              'Link element references should be identical');\n+      test('importHref does not cache failed results', function(done) {\n+        Polymer.Base.importHref('does_not_exist.html', function() {\n+          throw new Error('Load handler should not be called.');\n+        }, function() {\n+          var link = document.head\n+              .querySelector('[href=\"does_not_exist.html\"]');\n+          assert.isNotOk(link, 'The link should not exist');\n           done();\n-        }, done);\n-      }, done);\n-    });\n+        });\n+      });\n \n-    test('importHref sync loads by default', function(done) {\n-      Base.importHref(url, function(e) {\n-        assert.isFalse(e.target.hasAttribute('async'),\n-                      'sync load is default');\n-        done();\n+      test('importHref caches successful results', function(done) {\n+        var targetUrl = 'dynamic-imports/async-import.html';\n+\n+        Polymer.Base.importHref(targetUrl, function(event) {\n+          var targetOne = event.target;\n+          Polymer.Base.importHref(targetUrl, function(event) {\n+            var targetTwo = event.target;\n+\n+            assert.isOk(targetOne, 'Event target should be available');\n",
					"match": false,
					"packageHash": "b44dbc750b0be16f8e16b2501fa302382e0aebed97efc2c4bcb3b04fa2a4886e",
					"size": 4888,
					"sourceHash": "53b14dd3cb0655feb0da1ab798e79f40270dffc57149dd9a1f3f8d4f63d9bdd1",
					"status": "content"
				},
				"test/unit/dynamic-imports/dynamic-element.js": {
					"match": false,
					"packageHash": "69474f2bfc455b278a91d57bea0999c27d37fba8fccc16b8dfbe2eeadd93f116",
					"size": 796,
					"status": "missing-in-source"
				},
				"test/unit/dynamic-imports/inner-element.js": {
					"match": false,
					"packageHash": "4909489e782db35bd4fb998a4ee655aa4c83824b2a3f175cd20e5ba5c14b2b86",
					"size": 190,
					"status": "missing-in-source"
				},
				"test/unit/dynamic-imports/outer-element.html": {
					"diff": "--- published/test/unit/dynamic-imports/outer-element.html\n+++ rebuilt/test/unit/dynamic-imports/outer-element.html\n@@ -9,8 +9,8 @@\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n -->\n \n-<script type=\"module\" src=\"../../../polymer.js\"></script>\n-<script type=\"module\" src=\"./inner-element.js\"></script>\n+<link rel=\"import\" href=\"../../../polymer.html\">\n+<link rel=\"import\" href=\"inner-element.html\">\n \n <dom-module id=\"outer-element\">\n   <template>\n@@ -20,11 +20,8 @@\n   </template>\n </dom-module>\n \n-<script type=\"module\">\n-import '../../../polymer.js';\n-import './inner-element.js';\n-import { Polymer } from '../../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'outer-element'\n-});\n+<script>\n+  Polymer({\n+    is: 'outer-element'\n+  });\n </script>\n",
					"match": false,
					"packageHash": "02c6ff97696a37fa01246f1b158c8050a92340e0da95ce73b6702e80d6eb20da",
					"size": 1010,
					"sourceHash": "c58e91244b3de3bcaa6de3552722b298eb380c4cd8e3c7552339feba71023746",
					"status": "content"
				},
				"test/unit/events-elements.js": {
					"match": false,
					"packageHash": "7f156356a07de13481943cbc0f07a0836fd622f57e28fdc4d433d90a16348145",
					"size": 1575,
					"status": "missing-in-source"
				},
				"test/unit/events.html": {
					"diff": "--- published/test/unit/events.html\n+++ rebuilt/test/unit/events.html\n@@ -15,147 +15,144 @@\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n \n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./events-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"events-elements.html\">\n </head>\n <body>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './events-elements.js';\n-import { afterNextRender } from '../../lib/utils/render-status.js';\n-suite('Event Listeners', function() {\n-  var el;\n-\n-  suite('listeners block', function() {\n-    suiteSetup(function() {\n-      el = document.createElement('x-listeners');\n-      document.body.appendChild(el);\n-    });\n-\n-    suiteTeardown(function() {\n-      document.body.removeChild(el);\n-    });\n-\n-    test('fire - method exists', function() {\n-      el.fire('foo');\n-      assert.equal(el._handled[el.localName], 'foo');\n-    });\n-\n-    test('fire - method missing', function() {\n-      sinon.spy(console, 'warn');\n-      el.fire('bar');\n-      assert.isTrue(console.warn.calledOnce);\n-      assert.equal(console.warn.getCall(0).args[0], 'listener method `missing` not defined');\n-      console.warn.restore();\n-    });\n-\n-  });\n-\n-  suite('on-*', function() {\n-\n-    var options;\n-    suiteSetup(function() {\n-      el = document.createElement('x-on');\n-      document.body.appendChild(el);\n-      options = {node: el.$.inner};\n-    });\n-\n-    suiteTeardown(function() {\n-      document.body.removeChild(el);\n-    });\n-\n-    test('fire - method exists', function() {\n-      el.fire('foo', {}, options);\n-      assert.equal(el._handled.div, 'foo');\n-      assert(!el._handled[el.localName]);\n-    });\n-\n-    test('fire - method missing', function() {\n-      sinon.spy(console, 'warn');\n-      el.fire('bar', {}, options);\n-      assert.isTrue(console.warn.calledOnce);\n-      assert.equal(console.warn.getCall(0).args[0], 'listener method `missing` not defined');\n-      console.warn.restore();\n-    });\n+  <script>\n+    suite('Event Listeners', function() {\n+      var el;\n+\n+      suite('listeners block', function() {\n+        suiteSetup(function() {\n+          el = document.createElement('x-listeners');\n+          document.body.appendChild(el);\n+        });\n+\n+        suiteTeardown(function() {\n+          document.body.removeChild(el);\n+        });\n+\n+        test('fire - method exists', function() {\n+          el.fire('foo');\n+          assert.equal(el._handled[el.localName], 'foo');\n+        });\n+\n+        test('fire - method missing', function() {\n+          sinon.spy(console, 'warn');\n+          el.fire('bar');\n+          assert.isTrue(console.warn.calledOnce);\n+          assert.equal(console.warn.getCall(0).args[0], 'listener method `missing` not defined');\n+          console.warn.restore();\n+        });\n \n-  });\n-\n",
					"match": false,
					"packageHash": "25d55aced8c75b53c05485ea31b3e5f1cc4303053bcde93dfb8a47bedd097405",
					"size": 4889,
					"sourceHash": "60f859fc98e6bf1e7ccf4fb20c9bbedecd9ae3a9c7cc54b07f0d214e679f991f",
					"status": "content"
				},
				"test/unit/flattened-nodes-observer.html": {
					"diff": "--- published/test/unit/flattened-nodes-observer.html\n+++ rebuilt/test/unit/flattened-nodes-observer.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer-element.js\"></script>\n-  <script type=\"module\" src=\"../../lib/utils/flattened-nodes-observer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer-element.html\">\n+  <link rel=\"import\" href=\"../../lib/utils/flattened-nodes-observer.html\">\n </head>\n <body>\n \n@@ -22,179 +22,180 @@\n     <template>\n       <slot id=\"slot\"></slot>\n     </template>\n-    <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import { FlattenedNodesObserver } from '../../lib/utils/flattened-nodes-observer.js';\n-class TestSelfObserve extends Element {\n-  static get is() { return 'test-self-observe';}\n-\n-  connectedCallback() {\n-    super.connectedCallback();\n-    this._observer = new FlattenedNodesObserver(this, (info) => {\n-      this.info = info;\n-    });\n-  }\n-  disconnectedCallback() {\n-    super.disconnectedCallback();\n-    this._observer.disconnect();\n-  }\n-}\n-customElements.define(TestSelfObserve.is, TestSelfObserve);\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class TestSelfObserve extends Polymer.Element {\n+        static get is() { return 'test-self-observe';}\n+\n+        connectedCallback() {\n+          super.connectedCallback();\n+          this._observer = new Polymer.FlattenedNodesObserver(this, (info) => {\n+            this.info = info;\n+          });\n+        }\n+        disconnectedCallback() {\n+          super.disconnectedCallback();\n+          this._observer.disconnect();\n+        }\n+      }\n+      customElements.define(TestSelfObserve.is, TestSelfObserve);\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id='test-static'>\n     <template>\n       <div>static</div>\n     </template>\n-    <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import '../../lib/utils/flattened-nodes-observer.js';\n-class TestStatic extends Element {\n-  static get is() { return 'test-static'; }\n-}\n-customElements.define(TestStatic.is, TestStatic);\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class TestStatic extends Polymer.Element {\n+        static get is() { return 'test-static'; }\n+      }\n+      customElements.define(TestStatic.is, TestStatic);\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id='test-slot'>\n     <template>\n       <span id=\"slotContainer\">[<slot id=\"slot\"></slot>]</span>\n     </template>\n-    <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import '../../lib/utils/flattened-nodes-observer.js';\n-class TestSlot extends Element {\n-  static get is() { return 'test-slot'; }\n-}\n-customElements.define(TestSlot.is, TestSlot);\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class TestSlot extends Polymer.Element {\n+        static get is() { return 'test-slot'; }\n+      }\n+      customElements.define(TestSlot.is, TestSlot);\n+    });\n+    </script>\n   </dom-module>\n",
					"match": false,
					"packageHash": "7f5e6e75b8f79293201811295edbceb8bd8bec553faa7d89fd7cf469bbec2f1c",
					"size": 32556,
					"sourceHash": "a22b98c0c8aa418d43e98e93206160a4c780e2b227d56ca6bd6096ee9dc2f81e",
					"status": "content"
				},
				"test/unit/gestures-elements.js": {
					"match": false,
					"packageHash": "2f7a6ae3e9bfb1ba45012f4d6ad68ccf3c9de32bf3bf89bcdb39f9355bb1f316",
					"size": 2793,
					"status": "missing-in-source"
				},
				"test/unit/gestures.html": {
					"diff": "--- published/test/unit/gestures.html\n+++ rebuilt/test/unit/gestures.html\n@@ -15,548 +15,543 @@\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n \n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./gestures-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"gestures-elements.html\">\n \n </head>\n <body>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './gestures-elements.js';\n-import { afterNextRender } from '../../lib/utils/render-status.js';\n-import * as gestures from '../../lib/utils/gestures.js';\n-import { resetMouseCanceller, deepTargetFind, recognizers as recognizers$0, addListener, removeListener } from '../../lib/utils/gestures.js';\n-\n-suite('simulate events', function() {\n-\n-  var app;\n-\n-  setup(function(done) {\n-    app = document.createElement('x-app');\n-    document.body.appendChild(app);\n-    afterNextRender(null, done);\n-  });\n-\n-  teardown(function() {\n-    document.body.removeChild(app);\n-    resetMouseCanceller();\n-  });\n-\n-  test('tap on x-foo and check localTarget and rootTarget', function() {\n-    var foo = app.$.foo;\n-    foo.dispatchEvent(new CustomEvent('click', {bubbles: true, composed: true}));\n-    assert.equal(app._testLocalTarget, app, 'local target');\n-    assert.equal(app._testRootTarget, foo, 'root target');\n-    let touches = [{\n-      clientX: 0,\n-      clientY: 0,\n-      identifier: 1,\n-      // target is set to the element with `addEventListener`, which is app\n-      target: app\n-    }];\n-    let touchstart = new CustomEvent('touchstart', {bubbles: true, composed: true});\n-    touchstart.changedTouches = touchstart.touches = touches;\n-    foo.dispatchEvent(touchstart);\n-    let touchend = new CustomEvent('touchend', {bubbles: true, composed: true});\n-    touchend.touches = touchend.changedTouches = touches;\n-    foo.dispatchEvent(touchend);\n-    assert.equal(app._testLocalTarget, app, 'local target touch');\n-    assert.equal(app._testRootTarget, foo, 'root target touch');\n-  });\n-\n-  test('tap on x-foo.div and check target info', function() {\n-    var foo = app.$.foo;\n-    var div = foo.$.div;\n-    div.dispatchEvent(new CustomEvent('click', {bubbles: true, composed: true}));\n-    assert.equal(app._testLocalTarget, app, 'app local target');\n-    assert.equal(app._testRootTarget, div, 'app root target');\n-    assert.equal(foo._testLocalTarget, foo, 'foo local target');\n-    assert.equal(foo._testRootTarget, div, 'foo root target');\n-    let touches = [{\n-      clientX: 0,\n-      clientY: 0,\n-      identifier: 1,\n-      // target is set to the element with `addEventListener`, which is app\n-      target: app\n-    }];\n-    let touchstart = new CustomEvent('touchstart', {bubbles: true, composed: true});\n-    touchstart.touches = touchstart.changedTouches = touches;\n-    let touchend = new CustomEvent('touchend', {composed: true, bubbles: true});\n-    touchend.touches = touchend.changedTouches = touches;\n-    div.dispatchEvent(touchstart);\n-    div.dispatchEvent(touchend);\n-    assert.equal(app._testLocalTarget, app, 'app local target touch');\n-    assert.equal(app._testRootTarget, div, 'app root target touch');\n-    assert.equal(foo._testLocalTarget, foo, 'foo local target touch');\n-    assert.equal(foo._testRootTarget, div, 'foo root target touch');\n-  });\n-\n-  test('HTMLElement.click triggers tap', function() {\n-    // put the element off screen to prevent x/y weirdness from .click()\n-    app.style.cssText = 'position: absolute; left: -1000px; top: -1000px;';\n-    // make a mousedown *very* far away to tickle the distance check\n-    var ev = new CustomEvent('mousedown', {composed: true});\n-    ev.clientX = 1e8;\n-    ev.clientY = 1e8;\n-    app.dispatchEvent(ev);\n-    app.click();\n-    assert.equal(app._testLocalTarget, app, 'app local target');\n-    assert.equal(app._testRootTarget, app, 'app root target');\n-  });\n-});\n-\n-suite('Event Setup and Teardown', function() {\n",
					"match": false,
					"packageHash": "658145e9a1f206f40c83c4e79890437b0481a3132054ea490b15da196bc75294",
					"size": 19464,
					"sourceHash": "6d22134e9bd12cf4da008daf832fc0dd20acfef702abe33d862b5220d9f8b53b",
					"status": "content"
				},
				"test/unit/globals.html": {
					"diff": "--- published/test/unit/globals.html\n+++ rebuilt/test/unit/globals.html\n@@ -13,14 +13,13 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-/* global origOwnProps:true */\n-window.origOwnProps = Object.getOwnPropertyNames(window).reduce(function(props, prop) {\n-  return props[prop] = true && props;\n-}, {});\n-</script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <script>\n+  /* global origOwnProps:true */\n+    window.origOwnProps = Object.getOwnPropertyNames(window).reduce(function(props, prop) {\n+      return props[prop] = true && props;\n+    }, {});\n+  </script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n <!-- Exercise the core features of Polymer -->\n \n@@ -34,37 +33,35 @@\n     <style include=\"shared-styles\">:host{ --foo: var(--bar); };</style>\n     <div class$=\"{{stuff.is.here}}\">{{bindings(are, cool)}}</div>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'global-test',\n-  properties: {\n-    foo: {\n-      notify: true,\n-      reflectToAttribute: true,\n-      observer: 'observeFoo',\n-      value: 'foo'\n-    }\n-  },\n-  observers: ['observeFooDeep(foo.*)'],\n-  hostAttributes: {\n-    tabIndex: 0\n-  },\n-  listeners: {\n-    tap: 'handleTap'\n-  },\n-  observeFooDeep() {},\n-  observeFoo() {}\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'global-test',\n+      properties: {\n+        foo: {\n+          notify: true,\n+          reflectToAttribute: true,\n+          observer: 'observeFoo',\n+          value: 'foo'\n+        }\n+      },\n+      observers: ['observeFooDeep(foo.*)'],\n+      hostAttributes: {\n+        tabIndex: 0\n+      },\n+      listeners: {\n+        tap: 'handleTap'\n+      },\n+      observeFooDeep() {},\n+      observeFoo() {}\n+    });\n+  });\n+  </script>\n </dom-module>\n \n <global-test></global-test>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n+<script>\n \n suite('globals', function() {\n \n@@ -102,6 +99,7 @@\n   });\n \n });\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "a979af60adb64a4ee120c8871650afc96ee2e8cd7401cd54c23c9a1b088e5837",
					"size": 2854,
					"sourceHash": "085b7e9cf371a1d406f893a4a5e0ced1eaa42be31be00abc5acfb0e9fc9a2c34",
					"status": "content"
				},
				"test/unit/importHref.html": {
					"diff": "--- published/test/unit/importHref.html\n+++ rebuilt/test/unit/importHref.html\n@@ -13,30 +13,27 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../lib/utils/import-href.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/utils/import-href.html\">\n <body>\n \n <x-test></x-test>\n \n-<script type=\"module\">\n-import { importHref as importHref$0 } from '../../lib/utils/import-href.js';\n-import { Element } from '../../polymer-element.js';\n-import { Base } from '../../polymer.js';\n+<script>\n \n suite('importHref', function() {\n \n   let parsedEl = document.querySelector('x-test');\n \n   test('importing polymer via Polymer.importHref', function(done) {\n-    assert.notOk(Element);\n-    importHref$0('../../polymer.html', function() {\n-      assert.ok(Element);\n+    assert.notOk(Polymer.Element);\n+    Polymer.importHref('../../polymer.html', function() {\n+      assert.ok(Polymer.Element);\n       done();\n     });\n   });\n \n   test('element loaded with Polymer.Base.importHref upgrades properly', function(done) {\n-    Base.importHref('sub/x-test.html', function() {\n+    Polymer.Base.importHref('sub/x-test.html', function() {\n       assert.ok(parsedEl.$.sub, 'parsed element not upgraded with template when import loaded');\n       assert.notOk(parsedEl.$.sub.$, 'sub element of imported element should not yet be upgraded');\n       var el = document.createElement('x-test');\n@@ -55,14 +52,15 @@\n   });\n \n   test('load is triggered on second call', function(done) {\n-    Base.importHref('sub/x-test.html', function() {\n-      Base.importHref('sub/x-test.html', function() {\n+    Polymer.Base.importHref('sub/x-test.html', function() {\n+      Polymer.Base.importHref('sub/x-test.html', function() {\n         done();\n       });\n     });\n   });\n \n });\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "c1f275547d162f7c0fb13abae8382daf6a42a60d0933a1f39750ee35d19afb7f",
					"size": 2380,
					"sourceHash": "ad6ac5b1b606214a8ea90c220e386447a09231a774910c9acc82c48647c975e2",
					"status": "content"
				},
				"test/unit/inheritance.html": {
					"diff": "--- published/test/unit/inheritance.html\n+++ rebuilt/test/unit/inheritance.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n   <dom-module id=\"base-el\">\n@@ -37,77 +37,80 @@\n       <span>base element: <code>foo = [[foo]]</code></span>\n     </template>\n \n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Element } from '../../polymer-element.js';\n-class BaseEl extends Element {\n-  static get is() { return 'base-el'; }\n-  static get properties() {\n-    return { foo: { type: String, value: 5 } };\n-  }\n-  constructor() {\n-    super();\n-    this.handleCustomEvent = sinon.spy();\n-  }\n-}\n-customElements.define(BaseEl.is, BaseEl);\n-window.BaseEl = BaseEl;\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class BaseEl extends Polymer.Element {\n+        static get is() { return 'base-el'; }\n+        static get properties() {\n+          return { foo: { type: String, value: 5 } };\n+        }\n+        constructor() {\n+          super();\n+          this.handleCustomEvent = sinon.spy();\n+        }\n+      }\n+      customElements.define(BaseEl.is, BaseEl);\n+      window.BaseEl = BaseEl;\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"child-el\">\n-    <script type=\"module\">\n-import '../../polymer.js';\n-class ChildEl extends window.BaseEl {\n-  static get is() { return 'child-el'; }\n-  static get properties() {\n-    return { bar: { type: String, value: 3 } };\n-  }\n-}\n-customElements.define(ChildEl.is, ChildEl);\n-window.ChildEl = ChildEl;\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class ChildEl extends window.BaseEl {\n+        static get is() { return 'child-el'; }\n+        static get properties() {\n+          return { bar: { type: String, value: 3 } };\n+        }\n+      }\n+      customElements.define(ChildEl.is, ChildEl);\n+      window.ChildEl = ChildEl;\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"grand-child-el\">\n-    <script type=\"module\">\n-import '../../polymer.js';\n-class GrandChildEl extends window.ChildEl {\n-  static get is() { return 'grand-child-el'; }\n-  static get properties() {\n-    return { bar: { type: String, value: 3 } };\n-  }\n-}\n-customElements.define(GrandChildEl.is, GrandChildEl);\n-window.GrandChildEl = GrandChildEl;\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      class GrandChildEl extends window.ChildEl {\n+        static get is() { return 'grand-child-el'; }\n+        static get properties() {\n+          return { bar: { type: String, value: 3 } };\n+        }\n+      }\n+      customElements.define(GrandChildEl.is, GrandChildEl);\n+      window.GrandChildEl = GrandChildEl;\n+    });\n+    </script>\n   </dom-module>\n",
					"match": false,
					"packageHash": "83ce797f897d0f5ff0e330a77ee93896b428e3adfc6a0fcb380817289559baad",
					"size": 7540,
					"sourceHash": "9ab6e8843ca98c6f16c55bb4ecdb1d82d9cc7da0f4c18cbf379f583b1bf70e92",
					"status": "content"
				},
				"test/unit/logging.html": {
					"diff": "--- published/test/unit/logging.html\n+++ rebuilt/test/unit/logging.html\n@@ -13,79 +13,78 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n   <dom-module id=\"x-logging\">\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-logging',\n-  properties: {\n-    stream: {\n-      value: () => [],\n-      type: Array\n-    }\n-  },\n-  _logger(level, args) {\n-    this.stream.push({level, args});\n-  }\n-});\n-</script>\n+    <script>\n+      HTMLImports.whenReady(() => {\n+        Polymer({\n+          is: 'x-logging',\n+          properties: {\n+            stream: {\n+              value: () => [],\n+              type: Array\n+            }\n+          },\n+          _logger(level, args) {\n+            this.stream.push({level, args});\n+          }\n+        });\n+      });\n+    </script>\n   </dom-module>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { LegacyElementMixin } from '../../lib/legacy/legacy-element-mixin.js';\n-class XMixin extends LegacyElementMixin(HTMLElement) {\n-  static get is() { return 'x-mixin'; }\n-  static get properties() {\n-    return {\n-      stream: {\n-        value: () => [],\n-        type: Array\n+  <script>\n+  HTMLImports.whenReady(() => {\n+    class XMixin extends Polymer.LegacyElementMixin(HTMLElement) {\n+      static get is() { return 'x-mixin'; }\n+      static get properties() {\n+        return {\n+          stream: {\n+            value: () => [],\n+            type: Array\n+          }\n+        };\n+      }\n+      _logger(level, args) {\n+        this.stream.push({level, args});\n       }\n-    };\n-  }\n-  _logger(level, args) {\n-    this.stream.push({level, args});\n-  }\n-}\n-customElements.define(XMixin.is, XMixin);\n-</script>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-suite('Logging', () => {\n-  let fnEl, classEl;\n-  suiteSetup(() => {\n-    fnEl = document.createElement('x-logging');\n-    document.body.appendChild(fnEl);\n-    classEl = document.createElement('x-mixin');\n-    document.body.appendChild(classEl);\n+    }\n+    customElements.define(XMixin.is, XMixin);\n   });\n-  test('API', () => {\n-    ['_log', '_warn', '_error', '_logf', '_logger'].forEach((n) => {\n-      assert.isFunction(fnEl[n], `${n} not defined on Polymer() element`);\n-      assert.isFunction(classEl[n], `${n} not defined on Polymer.Element element`);\n+  </script>\n+  <script>\n+  suite('Logging', () => {\n+    let fnEl, classEl;\n+    suiteSetup(() => {\n+      fnEl = document.createElement('x-logging');\n+      document.body.appendChild(fnEl);\n",
					"match": false,
					"packageHash": "619397921259d04dcbd7c34292b756f13ad60d964762d05f09df9c1618d8d8ad",
					"size": 2925,
					"sourceHash": "55a88a53c40e1f0298975d41df7d29612e54ebb643e2151a1c6d29f878916718",
					"status": "content"
				},
				"test/unit/mixin-behaviors.html": {
					"diff": "--- published/test/unit/mixin-behaviors.html\n+++ rebuilt/test/unit/mixin-behaviors.html\n@@ -13,331 +13,327 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-window.LifeCycleBehavior1 = {\n-  _calledCreated: 0,\n-  _calledAttached: 0,\n-  _calledAttributeChanged: 0,\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    window.LifeCycleBehavior1 = {\n+      _calledCreated: 0,\n+      _calledAttached: 0,\n+      _calledAttributeChanged: 0,\n \n-  properties: {\n-    foo: {\n-      type: String\n-    }\n-  },\n-\n-  created() {\n-    this._calledCreated++;\n-  },\n-\n-  attached() {\n-    this._calledAttached++;\n-  },\n-\n-  attributeChanged() {\n-    this._calledAttributeChanged++;\n-  }\n-};\n-\n-window.LifeCycleBehavior2 = {\n-  created() {\n-    this._calledCreated++;\n-  },\n-\n-  attached() {\n-    this._calledAttached++;\n-  },\n-\n-};\n-\n-window.BehaviorA = {\n-  properties: {\n+      properties: {\n+        foo: {\n+          type: String\n+        }\n+      },\n \n-    label: {\n-      type: String,\n-      observer: '_labelChanged'\n-    },\n+      created() {\n+        this._calledCreated++;\n+      },\n \n-    hasOptionsA: {\n-      readOnly: true,\n-      notify: true\n-    },\n+      attached() {\n+        this._calledAttached++;\n+      },\n \n-    overridableProperty: {\n-      value: false\n-    },\n+      attributeChanged() {\n+        this._calledAttributeChanged++;\n+      }\n+    };\n \n-    overridablePropertyB: {\n-      value: false\n-    },\n+    window.LifeCycleBehavior2 = {\n+      created() {\n+        this._calledCreated++;\n+      },\n \n-    hasBehaviorA: {\n-      value: true\n-    },\n+      attached() {\n+        this._calledAttached++;\n+      },\n \n",
					"match": false,
					"packageHash": "5895a7ef58de3252e107e8a9ecc649e1dd8f96658f073e3015f2e848e75c983e",
					"size": 13878,
					"sourceHash": "10728eaac677c93fa2804193ed313e72f4693f338150cf158a24a0833bc65e54",
					"status": "content"
				},
				"test/unit/mixin-utils.html": {
					"diff": "--- published/test/unit/mixin-utils.html\n+++ rebuilt/test/unit/mixin-utils.html\n@@ -13,108 +13,106 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { dedupingMixin } from '../../lib/utils/mixin.js';\n-suite('Mixin Utilities', () => {\n-  suite('Mixin Caching', () => {\n-    let mixinFn;\n-    let cachingMixinFn;\n-    suiteSetup(() => {\n-      mixinFn = (base) => class mixin extends base {\n-        mixed(){ return true; }\n-      };\n-      cachingMixinFn = dedupingMixin(mixinFn);\n-    });\n-    test('cachingMixin applies mixins', () => {\n-      let app = cachingMixinFn(class {});\n-      let inst = new app();\n-      assert.isFunction(inst.mixed);\n-      assert.equal(inst.mixed(), true);\n-    });\n-    test('Mixins are cached when the base class is identical', () => {\n-      class base {}\n-      let applicationOne = cachingMixinFn(base);\n-      let applicationTwo = cachingMixinFn(base);\n-      assert.equal(applicationOne, applicationTwo);\n-    });\n-    test('Original Mixin function keeps the cache', () => {\n-      assert.ok(mixinFn.__mixinApplications);\n-      assert.instanceOf(mixinFn.__mixinApplications, WeakMap);\n-      assert.notOk(cachingMixinFn.__mixinApplications);\n-    });\n-  });\n-  suite('Mixin Deduplicating', () => {\n-    let mixinFn, dedupingMixinFn;\n-    suiteSetup(() => {\n-      mixinFn = (base) => class mixin extends base {\n-        mixed(){ return true; }\n-      };\n-      dedupingMixinFn = dedupingMixin(mixinFn);\n-    });\n-    test('dedupingMixin applies mixins', () => {\n-      let app = dedupingMixinFn(class {});\n-      let inst = new app();\n-      assert.isFunction(inst.mixed);\n-      assert.equal(inst.mixed(), true);\n-    });\n-    test('dedupingMixin also caches', () => {\n-      class base {}\n-      let appOne = dedupingMixinFn(base);\n-      let appTwo = dedupingMixinFn(base);\n-      assert.equal(appOne, appTwo);\n-    });\n-    test('Mixins apply only if unique on the base class', () => {\n-      class base {}\n-      let appOne = dedupingMixinFn(base);\n-      class intermediate extends appOne {}\n-      let appTwo = dedupingMixinFn(intermediate);\n-      assert.equal(intermediate, appTwo);\n-      let inst = new appTwo();\n-      assert.equal(inst.mixed(), true);\n-    });\n-    test('Multiple deduplicating mixins apply uniquely', () => {\n-      let mixinFn1 = dedupingMixin((base) => class one extends base {\n-        one(){ return true; }\n-      });\n-      let mixinFn2 = dedupingMixin((base) => class two extends base {\n-        two(){ return true; }\n-      });\n-      class base {}\n-      let app1 = mixinFn1(base);\n-      let app2 = mixinFn2(app1);\n-      let app3 = mixinFn1(app2);\n-      assert.equal(app3, app2);\n-      let inst = new app3();\n-      assert.equal(inst.one(), true);\n-      assert.equal(inst.two(), true);\n+  <script>\n+  suite('Mixin Utilities', () => {\n+    suite('Mixin Caching', () => {\n+      let mixinFn;\n+      let cachingMixinFn;\n+      suiteSetup(() => {\n+        mixinFn = (base) => class mixin extends base {\n+          mixed(){ return true; }\n+        };\n+        cachingMixinFn = Polymer.dedupingMixin(mixinFn);\n+      });\n+      test('cachingMixin applies mixins', () => {\n+        let app = cachingMixinFn(class {});\n+        let inst = new app();\n+        assert.isFunction(inst.mixed);\n",
					"match": false,
					"packageHash": "2169c9b0615e00a022e10992d1a62fa0e48263702ed138f40465c724a116ad18",
					"size": 4194,
					"sourceHash": "43b1e2278dc61037a1db7b0003019c4cd25779be65642ab9e485c10f8ab12aad",
					"status": "content"
				},
				"test/unit/path-effects-elements.js": {
					"match": false,
					"packageHash": "4c56aaa3e199c0acc5f910fbb5b0fd17ed481128f695cecf01d6b5be76e54a9a",
					"size": 5208,
					"status": "missing-in-source"
				},
				"test/unit/path-effects.html": {
					"diff": "--- published/test/unit/path-effects.html\n+++ rebuilt/test/unit/path-effects.html\n@@ -13,14 +13,13 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./path-effects-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"path-effects-elements.html\">\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import './path-effects-elements.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n+<script>\n+\n+(function() {\n \n // Safari 9 has a horrible bug related to array enumeration after defining\n // a non-enumerable property on it (we do for `.splices`); for now we work\n@@ -1089,6 +1088,10 @@\n   });\n \n });\n+\n+\n+})();\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "35bbf24a67aeccf2d79242be9b13683a5f63aef0848d6a982cdb4b2169f795a4",
					"size": 38633,
					"sourceHash": "09faa2d83f94e6b7c5c1f5f119da577f071ab239b8cf7669999525ebb0a97430",
					"status": "content"
				},
				"test/unit/path.html": {
					"diff": "--- published/test/unit/path.html\n+++ rebuilt/test/unit/path.html\n@@ -13,76 +13,74 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../lib/utils/path.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/utils/path.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import * as path from '../../lib/utils/path.js';\n-import { isDeep } from '../../lib/utils/path.js';\n-suite('path utilities', function() {\n+<script>\n+  suite('path utilities', function() {\n \n-  var Path;\n+    var Path;\n \n-  setup(function() {\n-    Path = path;\n+    setup(function() {\n+      Path = Polymer.Path;\n+    });\n+\n+    test('root()', function() {\n+      assert.equal(Path.root('foo'), 'foo');\n+      assert.equal(Path.root('foo.bar'), 'foo');\n+    });\n+\n+    test('isDeep()', function() {\n+      assert.equal(Path.isDeep('foo'), false);\n+      assert.equal(Path.isDeep('foo.bar'), true);\n+    });\n+\n+    test('isAncestor()', function() {\n+      assert.equal(Path.isAncestor('foo.bar', 'foo'),          true);\n+\n+      assert.equal(Path.isAncestor('foo.bar', 'foo.bar'),      false);\n+      assert.equal(Path.isAncestor('foo.bar', 'foo.baz'),      false);\n+      assert.equal(Path.isAncestor('foo.bar', 'fooz'),         false);\n+      assert.equal(Path.isAncestor('foo.bar', 'bar'),          false);\n+      assert.equal(Path.isAncestor('foo.bar', 'foo.bars'),     false);\n+      assert.equal(Path.isAncestor('foo.bar', 'foo.bar.quux'), false);\n+\n+\n+      assert.equal(Path.isAncestor('foo.bar.baz', 'foo'),      true);\n+      assert.equal(Path.isAncestor('foo.bar.baz', 'foo.bar'),  true);\n+\n+      assert.equal(Path.isAncestor('foo.bar.baz', 'foo.baz'),  false);\n+      assert.equal(Path.isAncestor('foo.bar.baz', 'foo.bars'), false);\n+    });\n+\n+    test('isDescendant()', function() {\n+      assert.equal(Path.isDescendant('foo.bar', 'foo.bar.baz'),  true);\n+      assert.equal(Path.isDescendant('foo.bar', 'foo.bar'),      false);\n+      assert.equal(Path.isDescendant('foo.bar', 'foo.bars'),     false);\n+      assert.equal(Path.isDescendant('foo.bar', 'foo'),          false);\n+      assert.equal(Path.isDescendant('foo.bar', 'bar'),          false);\n+\n+      assert.equal(Path.isDescendant('foo', 'foo.bar'), true);\n+      assert.equal(Path.isDescendant('foo', 'foo'),     false);\n+    });\n+\n+    test('translate()', function() {\n+      assert.equal(Path.translate('foo', 'baz', 'foo.bar'),\n+                   'baz.bar');\n+      assert.equal(Path.translate('foo', 'quux', 'foo.bar.baz'),\n+                   'quux.bar.baz');\n+      assert.equal(Path.translate('foo.bar', 'quux', 'foo.bar.baz'),\n+                   'quux.baz');\n+    });\n+\n+    test('matches()', function() {\n+      assert.equal(Path.matches('foo.bar','foo'),          true);\n+      assert.equal(Path.matches('foo.bar','foo.bar'),      true);\n+      assert.equal(Path.matches('foo.bar','foo.bar.baz'),  true);\n+      assert.equal(Path.matches('foo.bar','fooz'),         false);\n+      assert.equal(Path.matches('foo.bar','foo.baz'),      false);\n+      assert.equal(Path.matches('foo.bar','foo.bars'),     false);\n+    });\n   });\n-\n-  test('root()', function() {\n-    assert.equal(Path.root('foo'), 'foo');\n-    assert.equal(Path.root('foo.bar'), 'foo');\n-  });\n-\n-  test('isDeep()', function() {\n-    assert.equal(isDeep('foo'), false);\n-    assert.equal(isDeep('foo.bar'), true);\n-  });\n-\n-  test('isAncestor()', function() {\n-    assert.equal(Path.isAncestor('foo.bar', 'foo'),          true);\n-\n-    assert.equal(Path.isAncestor('foo.bar', 'foo.bar'),      false);\n-    assert.equal(Path.isAncestor('foo.bar', 'foo.baz'),      false);\n",
					"match": false,
					"packageHash": "a2ec83f3f969af79dbe947743a59e13135f0d4a93a2da22629a7dc7b77153b9e",
					"size": 3344,
					"sourceHash": "85d160282f1bff3f945c8d79df450e1abebb421d879e4211f886f1dde01352d5",
					"status": "content"
				},
				"test/unit/polymer-dom-observeNodes.html": {
					"diff": "--- published/test/unit/polymer-dom-observeNodes.html\n+++ rebuilt/test/unit/polymer-dom-observeNodes.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -21,165 +21,164 @@\n     <template>\n       <slot id=\"slot\"></slot>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-import { dom } from '../../lib/legacy/polymer.dom.js';\n-Polymer({\n-  is:'test-self-observe',\n-  attached: function() {\n-    this._observer = dom(this).observeNodes(function(info) {\n-      this.info = info;\n-    });\n-  },\n-  detached: function() {\n-    dom(this).unobserveNodes(this._observer);\n-  }\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is:'test-self-observe',\n+        attached: function() {\n+          this._observer = Polymer.dom(this).observeNodes(function(info) {\n+            this.info = info;\n+          });\n+        },\n+        detached: function() {\n+          Polymer.dom(this).unobserveNodes(this._observer);\n+        }\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id='test-static'>\n     <template>\n       <div>static</div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is:'test-static'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is:'test-static'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id='test-slot'>\n     <template>\n       <span id=\"slotContainer\">[<slot id=\"slot\"></slot>]</span>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is:'test-slot'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is:'test-slot'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id='test-slot1'>\n     <template>\n       <test-slot id=\"slot\"><slot></slot></test-slot>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is:'test-slot1'\n-});\n-</script>\n+    <script>\n",
					"match": false,
					"packageHash": "1dc062e8575dea61eca638321b477b8a0ab667c76686901cdd391e43d3115ea2",
					"size": 31680,
					"sourceHash": "0d1871b87b226ef07de1c6d17d11b570e7caefc34144bd7704d81e2b31dd7e52",
					"status": "content"
				},
				"test/unit/polymer-dom.html": {
					"diff": "--- published/test/unit/polymer-dom.html\n+++ rebuilt/test/unit/polymer-dom.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -21,55 +21,55 @@\n     <template>\n       <div id=\"container\"><slot id=\"slot\"></slot></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-slot'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-slot'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-container-slot\">\n     <template>\n       <x-slot id=\"container\"><div id=\"first\">first</div><slot id=\"slot\"></slot><div id=\"last\">last</div></x-slot>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-container-slot'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-container-slot'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-event-scoped\">\n     <template>\n       <div id=\"scoped\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-event-scoped',\n-  fireComposed: function() {\n-    return this.fire('composed', null, {node: this.$.scoped});\n-  }\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-event-scoped',\n+        fireComposed: function() {\n+          return this.fire('composed', null, {node: this.$.scoped});\n+        }\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-focusable-in-shadow\">\n     <template>\n       <input id=\"focusable\"></input>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-focusable-in-shadow'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-focusable-in-shadow'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n    <test-fixture id=\"scoped\">\n@@ -90,263 +90,261 @@\n     </template>\n",
					"match": false,
					"packageHash": "17bee73ac8fe27926cec079c86a988022a79f0fa5d20515400e3d4cb098b36c5",
					"size": 10384,
					"sourceHash": "f77554169ac208cb5be38d4b6323926819a936663f10a212aeb073c9998097ff",
					"status": "content"
				},
				"test/unit/polymer-element-with-apply-import.js": {
					"match": false,
					"packageHash": "4684986821d383a6a278a297f8e6b01e7e43113bae613cf888db1112189c5ba2",
					"size": 951,
					"status": "missing-in-source"
				},
				"test/unit/polymer-element-with-apply.html": {
					"diff": "--- published/test/unit/polymer-element-with-apply.html\n+++ rebuilt/test/unit/polymer-element-with-apply.html\n@@ -12,7 +12,7 @@\n <head>\n   <script src=\"../../../webcomponentsjs/webcomponents-loader.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"./polymer-element-with-apply-import.js\"></script>\n+  <link rel=\"import\" href=\"polymer-element-with-apply-import.html\">\n </head>\n <body>\n   <custom-style>\n@@ -39,28 +39,27 @@\n     </template>\n   </test-fixture>\n \n-  <script type=\"module\">\n-import './polymer-element-with-apply-import.js';\n-suite('Polymer.Element with ApplyShim', function() {\n-  test('mixin from custom style', function() {\n-    var el = fixture('apply');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'background-color'), 'rgb(0, 0, 255)');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'height'), '200px');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'width'), '200px');\n-  });\n-  test('nested', function() {\n-    var el = fixture('outer');\n-    var inner = el.shadowRoot.querySelector('apply-element');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'background-color'), 'rgb(123, 123, 123)');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'height'), '200px');\n-    assert.equal(ShadyCSS.getComputedStyleValue(el, 'width'), '200px');\n+  <script>\n+  suite('Polymer.Element with ApplyShim', function() {\n+    test('mixin from custom style', function() {\n+      var el = fixture('apply');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'background-color'), 'rgb(0, 0, 255)');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'height'), '200px');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'width'), '200px');\n+    });\n+    test('nested', function() {\n+      var el = fixture('outer');\n+      var inner = el.shadowRoot.querySelector('apply-element');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'background-color'), 'rgb(123, 123, 123)');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'height'), '200px');\n+      assert.equal(ShadyCSS.getComputedStyleValue(el, 'width'), '200px');\n \n-    assert.equal(ShadyCSS.getComputedStyleValue(inner, 'background-color'), 'rgb(255, 0, 0)');\n-    assert.equal(ShadyCSS.getComputedStyleValue(inner, 'height'), '100px');\n-    assert.equal(ShadyCSS.getComputedStyleValue(inner, 'width'), '100px');\n-    assert.equal(ShadyCSS.getComputedStyleValue(inner, 'margin-top'), '50px');\n+      assert.equal(ShadyCSS.getComputedStyleValue(inner, 'background-color'), 'rgb(255, 0, 0)');\n+      assert.equal(ShadyCSS.getComputedStyleValue(inner, 'height'), '100px');\n+      assert.equal(ShadyCSS.getComputedStyleValue(inner, 'width'), '100px');\n+      assert.equal(ShadyCSS.getComputedStyleValue(inner, 'margin-top'), '50px');\n+    });\n   });\n-});\n-</script>\n+  </script>\n </body>\n </html>\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "683df6c0d86cfa7e52a73d0d1e38f092fa944f50a4411482efc0e78a888ab883",
					"size": 2362,
					"sourceHash": "3752038c12f2c42d234f8780dbbe82fe3febfb09f50fbeb1725820cebf614557",
					"status": "content"
				},
				"test/unit/polymer.element.html": {
					"diff": "--- published/test/unit/polymer.element.html\n+++ rebuilt/test/unit/polymer.element.html\n@@ -13,253 +13,259 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer-element.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer-element.html\">\n <body>\n \n   <dom-module id=\"my-element\">\n     <template>\n       <div id=\"content\">{{prop}}</div>\n     </template>\n-    <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n+    <script>\n+    HTMLImports.whenReady(function() {\n \n-class MyElement extends Element {\n+      class MyElement extends Polymer.Element {\n \n-  static get is() { return 'my-element'; }\n+        static get is() { return 'my-element'; }\n \n-  static get properties() {\n-    return {\n-      prop: {\n-        value: 'base',\n-        observer: '_propObserver'\n-      },\n-      computedPropDep: {\n-        value: true\n-      },\n-      computedProp: {\n-        computed: '_compute(computedPropDep)'\n-      }\n-    };\n-  }\n-\n-  static get observers() {\n-    return [\n-      '_methodObserver(prop)'\n-    ];\n-  }\n-\n-  constructor() {\n-    super();\n-    this._propObserver = sinon.spy();\n-    this._methodObserver = sinon.spy();\n-    this._tapListener = sinon.spy();\n-    this._calledConstructor++;\n-  }\n-\n-  connectedCallback() {\n-    super.connectedCallback();\n-    this._calledConnectedCallback++;\n-  }\n-\n-  attributeChangedCallback() {\n-    super.attributeChangedCallback.apply(this, arguments);\n-    this._callAttributeChangedCallback++;\n-  }\n-\n-  ready() {\n-    super.ready();\n-    this._ensureAttribute('tabIndex', 0);\n-    this.addEventListener('click', (e) => this._tapListener(e));\n-    this._calledReady++;\n-  }\n-\n-  _compute(value) {\n-    return value;\n-  }\n-}\n-\n-MyElement.prototype._calledConstructor = 0;\n-MyElement.prototype._calledConnectedCallback = 0;\n-MyElement.prototype._calledReady = 0;\n-MyElement.prototype._callAttributeChangedCallback = 0;\n+        static get properties() {\n+          return {\n+            prop: {\n+              value: 'base',\n+              observer: '_propObserver'\n+            },\n+            computedPropDep: {\n+              value: true\n+            },\n+            computedProp: {\n+              computed: '_compute(computedPropDep)'\n+            }\n+          };\n+        }\n+\n+        static get observers() {\n+          return [\n+            '_methodObserver(prop)'\n+          ];\n+        }\n",
					"match": false,
					"packageHash": "1db0e2a5575090f92876f211028130e278a8fffd0ead04d23dd9ce1ef6754c8c",
					"size": 15578,
					"sourceHash": "90f82d59373c667ec5651de756fd203db8ef37ba1d42a571887356aa196133b1",
					"status": "content"
				},
				"test/unit/polymer.legacyelement.html": {
					"diff": "--- published/test/unit/polymer.legacyelement.html\n+++ rebuilt/test/unit/polymer.legacyelement.html\n@@ -13,91 +13,93 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n   <dom-module id=\"my-element\">\n     <template>\n       <div id=\"content\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { LegacyElementMixin } from '../../lib/legacy/legacy-element-mixin.js';\n-\n-class MyElement extends LegacyElementMixin(HTMLElement) {\n-\n-  static get is() { return 'my-element'; }\n-\n-  static get properties() {\n-    return {\n-      prop: {\n-        value: 'base'\n+    <script>\n+    HTMLImports.whenReady(function() {\n+\n+      class MyElement extends Polymer.LegacyElementMixin(HTMLElement) {\n+\n+        static get is() { return 'my-element'; }\n+\n+        static get properties() {\n+          return {\n+            prop: {\n+              value: 'base'\n+            }\n+          };\n+        }\n+\n+        created() {\n+          super.created();\n+          this._calledCreated++;\n+        }\n+\n+        attached() {\n+          super.attached();\n+          this._calledAttached++;\n+        }\n+\n+        attributeChanged() {\n+          super.attributeChanged.apply(this, arguments);\n+          this._callAttributeChanged++;\n+        }\n+\n+        ready() {\n+          super.ready();\n+          this._calledReady++;\n+        }\n       }\n-    };\n-  }\n \n-  created() {\n-    super.created();\n-    this._calledCreated++;\n-  }\n-\n-  attached() {\n-    super.attached();\n-    this._calledAttached++;\n-  }\n-\n-  attributeChanged() {\n-    super.attributeChanged.apply(this, arguments);\n-    this._callAttributeChanged++;\n-  }\n-\n-  ready() {\n-    super.ready();\n-    this._calledReady++;\n-  }\n-}\n-\n-MyElement.prototype._calledCreated = 0;\n-MyElement.prototype._calledAttached = 0;\n-MyElement.prototype._calledReady = 0;\n-MyElement.prototype._callAttributeChanged = 0;\n+      MyElement.prototype._calledCreated = 0;\n+      MyElement.prototype._calledAttached = 0;\n+      MyElement.prototype._calledReady = 0;\n+      MyElement.prototype._callAttributeChanged = 0;\n \n-customElements.define(MyElement.is, MyElement);\n+      customElements.define(MyElement.is, MyElement);\n \n-window.MyElement = MyElement;\n-</script>\n+      window.MyElement = MyElement;\n",
					"match": false,
					"packageHash": "131add2dda38b6ca0bb4bdda45807e3bc63b03f05db4b7eee9bece646c3146da",
					"size": 4525,
					"sourceHash": "30440fe1fa132e1cd4ae73a98bd0d2de26bc688031d33be6dffa8ac49a5e70a4",
					"status": "content"
				},
				"test/unit/property-accessors.html": {
					"diff": "--- published/test/unit/property-accessors.html\n+++ rebuilt/test/unit/property-accessors.html\n@@ -13,33 +13,32 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n <x-foo prop1=\"a\" prop2=\"b\"></x-foo>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import { PropertyAccessors } from '../../lib/mixins/property-accessors.js';\n-class XFoo extends PropertyAccessors(HTMLElement) {\n-  static get observedAttributes() {\n-    return ['prop1', 'prop2'];\n-  }\n-  constructor() {\n-    super();\n-    this._propertiesChanged = sinon.spy();\n-  }\n-  connectedCallback() {\n-    this._enableProperties();\n-  }\n-}\n-XFoo.createPropertiesForAttributes();\n-window.XFoo = XFoo;\n-customElements.define('x-foo', XFoo);\n+<script>\n+  HTMLImports.whenReady(function() {\n+    class XFoo extends Polymer.PropertyAccessors(HTMLElement) {\n+      static get observedAttributes() {\n+        return ['prop1', 'prop2'];\n+      }\n+      constructor() {\n+        super();\n+        this._propertiesChanged = sinon.spy();\n+      }\n+      connectedCallback() {\n+        this._enableProperties();\n+      }\n+    }\n+    XFoo.createPropertiesForAttributes();\n+    window.XFoo = XFoo;\n+    customElements.define('x-foo', XFoo);\n+  });\n </script>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n+<script>\n \n suite('property-accessors', function() {\n \n@@ -115,6 +114,7 @@\n   });\n \n });\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "b655c29f3f8b9a7da7a980680a78b67d46153eb5c8ef65a3b522fc2973213a45",
					"size": 4806,
					"sourceHash": "e487c3b9799da4cbd89777210781a7daf84224b8b3b68b811149db0a00b999a9",
					"status": "content"
				},
				"test/unit/property-effects-elements.js": {
					"match": false,
					"packageHash": "c1bc2ef4cd40eba4a4231f9c1af182ec7817c5c663802e8c5928f96aec87ed49",
					"size": 25091,
					"status": "missing-in-source"
				},
				"test/unit/property-effects-template.html": {
					"diff": "--- published/test/unit/property-effects-template.html\n+++ rebuilt/test/unit/property-effects-template.html\n@@ -13,22 +13,21 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer-element.js\"></script>\n-  <script type=\"module\" src=\"../../lib/mixins/gesture-event-listeners.js\"></script>\n-  <script type=\"module\" src=\"../../lib/elements/dom-if.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer-element.html\">\n+  <link rel=\"import\" href=\"../../lib/mixins/gesture-event-listeners.html\">\n+  <link rel=\"import\" href=\"../../lib/elements/dom-if.html\">\n <body>\n \n-<script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import '../../lib/mixins/gesture-event-listeners.js';\n-import '../../lib/elements/dom-if.js';\n-class XElementChild extends Element {\n-  ready() {\n-    super.ready();\n-    window.lifecycleOrder.log(this, 'ready');\n-  }\n-}\n-customElements.define('x-element-child', XElementChild);\n+<script>\n+  HTMLImports.whenReady(() => {\n+    class XElementChild extends Polymer.Element {\n+      ready() {\n+        super.ready();\n+        window.lifecycleOrder.log(this, 'ready');\n+      }\n+    }\n+    customElements.define('x-element-child', XElementChild);\n+  });\n </script>\n \n <dom-module id=\"x-element\">\n@@ -38,26 +37,25 @@\n     <x-element-child id=\"hasBinding\" prop=\"{{prop}}\" path=\"{{path}}\" log></x-element>\n     <x-element-child id=\"events\" on-click=\"handleClick\" on-tap=\"handleTap\"></x-element-child>\n   </template>\n-  <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import '../../lib/mixins/gesture-event-listeners.js';\n-import '../../lib/elements/dom-if.js';\n-class XElement extends Element {\n-  static get is() { return 'x-element'; }\n-  static get observers() { return ['propChanged(prop)', 'pathChanged(path)']; }\n-  static get properties() { return { prop: { notify: true }, path: { notify: true } }; }\n-  constructor() {\n-    super();\n-    this.propChanged = sinon.spy();\n-    this.pathChanged = sinon.spy();\n-  }\n-  ready() {\n-    super.ready();\n-    window.lifecycleOrder.log(this, 'ready');\n-  }\n-}\n-customElements.define('x-element', XElement);\n-</script>\n+  <script>\n+  HTMLImports.whenReady(() => {\n+    class XElement extends Polymer.Element {\n+      static get is() { return 'x-element'; }\n+      static get observers() { return ['propChanged(prop)', 'pathChanged(path)']; }\n+      static get properties() { return { prop: { notify: true }, path: { notify: true } }; }\n+      constructor() {\n+        super();\n+        this.propChanged = sinon.spy();\n+        this.pathChanged = sinon.spy();\n+      }\n+      ready() {\n+        super.ready();\n+        window.lifecycleOrder.log(this, 'ready');\n+      }\n+    }\n+    customElements.define('x-element', XElement);\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-runtime\">\n@@ -108,53 +106,51 @@\n   <template id=\"templateWithDifferentProps\">\n     <div id=\"bound\">[[otherProp]]</div>\n   </template>\n-  <script type=\"module\">\n-import { Element } from '../../polymer-element.js';\n-import { GestureEventListeners } from '../../lib/mixins/gesture-event-listeners.js';\n-import '../../lib/elements/dom-if.js';\n-import { DomModule } from '../../lib/elements/dom-module.js';\n-class XRuntime extends GestureEventListeners(Element) {\n-  static get is() { return 'x-runtime'; }\n-  static get observers() { return ['propChanged(prop)', 'pathChanged(obj.path)']; }\n-  constructor() {\n-    super();\n-    this.propChanged = sinon.spy();\n-    this.pathChanged = sinon.spy();\n",
					"match": false,
					"packageHash": "6b23ee54293b9586df39f075c6a68d949701098a6eb6710f1d4d36a51afbd840",
					"size": 32257,
					"sourceHash": "1dd752e795bd0a18a434023747a7d5d6e93c6faeba027eaf570854880329a7c1",
					"status": "content"
				},
				"test/unit/property-effects.html": {
					"diff": "--- published/test/unit/property-effects.html\n+++ rebuilt/test/unit/property-effects.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./property-effects-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"property-effects-elements.html\">\n <body>\n <dom-repeat id=\"class-repeat\" items='[\"class1\", \"class2\"]'>\n   <template>\n@@ -22,12 +22,7 @@\n   </template>\n </dom-repeat>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import './property-effects-elements.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-import { setSanitizeDOMValue, sanitizeDOMValue } from '../../lib/utils/settings.js';\n-import { PropertyEffects } from '../../lib/mixins/property-effects.js';\n+<script>\n \n suite('single-element binding effects', function() {\n \n@@ -1299,13 +1294,13 @@\n suite('DOM sanitization', function() {\n \n   setup(function() {\n-    setSanitizeDOMValue(sinon.spy(function(value) {\n+    Polymer.sanitizeDOMValue = sinon.spy(function(value) {\n       return (value && value.toString().indexOf('javascript') >= 0) ? 'notallowed!' : value;\n-    }));\n+    });\n   });\n \n   teardown(function() {\n-    setSanitizeDOMValue(null);\n+    Polymer.sanitizeDOMValue = null;\n   });\n \n   test('bound property', function() {\n@@ -1315,7 +1310,7 @@\n     assert.equal(el.$.boundChild.sanitizeValue, 'ok');\n     el.sanitizeValue = 'javascript';\n     assert.equal(el.$.boundChild.sanitizeValue, 'notallowed!');\n-    assert.deepEqual(sanitizeDOMValue.lastCall.args,\n+    assert.deepEqual(Polymer.sanitizeDOMValue.lastCall.args,\n       ['javascript', 'sanitizeValue', 'property', el.$.boundChild]);\n   });\n \n@@ -1326,7 +1321,7 @@\n     assert.equal(el.$.sanitizeText.textContent, 'ok');\n     el.sanitizeText = 'javascript';\n     assert.equal(el.$.sanitizeText.textContent, 'notallowed!');\n-    assert.deepEqual(sanitizeDOMValue.lastCall.args,\n+    assert.deepEqual(Polymer.sanitizeDOMValue.lastCall.args,\n       ['javascript', 'textContent', 'text', el.$.sanitizeText.firstChild]);\n   });\n \n@@ -1337,7 +1332,7 @@\n     assert.equal(el.$.boundChild.getAttribute('attrvalue'), 'ok');\n     el.attrvalue = 'javascript';\n     assert.equal(el.$.boundChild.getAttribute('attrvalue'), 'notallowed!');\n-    assert.deepEqual(sanitizeDOMValue.lastCall.args,\n+    assert.deepEqual(Polymer.sanitizeDOMValue.lastCall.args,\n       ['javascript', 'attrvalue', 'attribute', el.$.boundChild]);\n   });\n \n@@ -1348,7 +1343,7 @@\n     assert.equal(el.getAttribute('reflectedstring'), 'ok');\n     el.reflectedstring = 'javascript';\n     assert.equal(el.getAttribute('reflectedstring'), 'notallowed!');\n-    assert.deepEqual(sanitizeDOMValue.lastCall.args,\n+    assert.deepEqual(Polymer.sanitizeDOMValue.lastCall.args,\n       ['javascript', 'reflectedstring', 'attribute', el]);\n   });\n \n@@ -1547,7 +1542,7 @@\n   let BaseClass;\n \n   suiteSetup(function() {\n-    BaseClass = class extends PropertyEffects(HTMLElement) {\n+    BaseClass = class extends Polymer.PropertyEffects(HTMLElement) {\n       connectedCallback() {\n         this.pcSpy = sinon.spy();\n         this._enableProperties();\n@@ -1764,6 +1759,7 @@\n   });\n \n });\n+\n </script>\n \n </body>\n",
					"match": false,
					"packageHash": "220adf3e96c8d776f1454b5dfb1300a60f1ff5f56eb664f9b776bcbaed6ec415",
					"size": 65405,
					"sourceHash": "a6fea2bae757d4e40d8e900f954b1eb95a2dd13837d7ba9f0fb5739262ae7a96",
					"status": "content"
				},
				"test/unit/ready-attached-order-class.html": {
					"diff": "--- published/test/unit/ready-attached-order-class.html\n+++ rebuilt/test/unit/ready-attached-order-class.html\n@@ -13,87 +13,86 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-window.clearTestLists = function() {\n-  window.actualAttachedList = [];\n-  window.actualReadyList = [];\n-  window.actualReadyBeforeAtachedList = [];\n-};\n-\n-window.clearTestLists();\n-\n-window.readyMixin = function(base) {\n-  return class readyMixin extends base {\n-    static get properties() {\n-      return {\n-        prop: {\n-          value: true,\n-          observer: '_propChanged'\n-        }\n-      };\n-    }\n+<script>\n+  window.clearTestLists = function() {\n+    window.actualAttachedList = [];\n+    window.actualReadyList = [];\n+    window.actualReadyBeforeAtachedList = [];\n+  };\n \n-    _propChanged() {\n-      this.observerShadowRoot = Boolean(this.shadowRoot);\n-    }\n-    ready() {\n-      super.ready();\n-      this._readied = true;\n-      this.readyList = window.actualReadyList.slice();\n-      this.readyShadowRoot = Boolean(this.shadowRoot);\n-      window.actualReadyList.push(this);\n-    }\n+  window.clearTestLists();\n \n-    connectedCallback() {\n-      this._eventList = [];\n-      this.addEventListener('e', (e) => {\n-        this._eventList.push(e.composedPath()[0]);\n-      });\n-      super.connectedCallback();\n-      this.dispatchEvent(new Event('e', {composed: true, bubbles: true}));\n-      this.attachedShadowRoot = Boolean(this.shadowRoot);\n-      this.attachedTime$Keys = Object.keys(this.$);\n-      this.attachedList = window.actualAttachedList.slice();\n-      window.actualAttachedList.push(this);\n-      if (!this._readied) {\n-        window.actualReadyBeforeAtachedList.push(this);\n+  window.readyMixin = function(base) {\n+    return class readyMixin extends base {\n+      static get properties() {\n+        return {\n+          prop: {\n+            value: true,\n+            observer: '_propChanged'\n+          }\n+        };\n       }\n-    }\n+\n+      _propChanged() {\n+        this.observerShadowRoot = Boolean(this.shadowRoot);\n+      }\n+      ready() {\n+        super.ready();\n+        this._readied = true;\n+        this.readyList = window.actualReadyList.slice();\n+        this.readyShadowRoot = Boolean(this.shadowRoot);\n+        window.actualReadyList.push(this);\n+      }\n+\n+      connectedCallback() {\n+        this._eventList = [];\n+        this.addEventListener('e', (e) => {\n+          this._eventList.push(e.composedPath()[0]);\n+        });\n+        super.connectedCallback();\n+        this.dispatchEvent(new Event('e', {composed: true, bubbles: true}));\n+        this.attachedShadowRoot = Boolean(this.shadowRoot);\n+        this.attachedTime$Keys = Object.keys(this.$);\n+        this.attachedList = window.actualAttachedList.slice();\n+        window.actualAttachedList.push(this);\n+        if (!this._readied) {\n+          window.actualReadyBeforeAtachedList.push(this);\n+        }\n",
					"match": false,
					"packageHash": "32e05b7e8c1b1703c2d39955ac364a06a30199771ed94cf73b871932301e2387",
					"size": 8113,
					"sourceHash": "1797b392e1a7b4d752b42c810cd856f275d90d80986ca20b6ff735881b2b7a41",
					"status": "content"
				},
				"test/unit/ready-attached-order.html": {
					"diff": "--- published/test/unit/ready-attached-order.html\n+++ rebuilt/test/unit/ready-attached-order.html\n@@ -13,75 +13,74 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-window.clearTestLists = function() {\n-  window.actualAttachedList = [];\n-  window.actualReadyList = [];\n-  window.actualReadyBeforeAtachedList = [];\n-};\n-\n-window.clearTestLists();\n-\n-window.readyBehavior = {\n-  properties: {\n-    prop: {\n-      value: true,\n-      observer: '_propChanged'\n+<script>\n+  window.clearTestLists = function() {\n+    window.actualAttachedList = [];\n+    window.actualReadyList = [];\n+    window.actualReadyBeforeAtachedList = [];\n+  };\n+\n+  window.clearTestLists();\n+\n+  window.readyBehavior = {\n+    properties: {\n+      prop: {\n+        value: true,\n+        observer: '_propChanged'\n+      },\n     },\n-  },\n-  _propChanged: function() {\n-    this.observerShadowRoot = Boolean(this.shadowRoot);\n-  },\n-  ready: function() {\n-    this._readied = true;\n-    this.readyList = window.actualReadyList.slice();\n-    this.readyShadowRoot = Boolean(this.shadowRoot);\n-    window.actualReadyList.push(this);\n-  },\n-\n-  attached: function() {\n-    this.attachedShadowRoot = Boolean(this.shadowRoot);\n-    this.attachedTime$Keys = Object.keys(this.$);\n-    this.attachedList = window.actualAttachedList.slice();\n-    window.actualAttachedList.push(this);\n-    if (!this._readied) {\n-      window.actualReadyBeforeAtachedList.push(this);\n+    _propChanged: function() {\n+      this.observerShadowRoot = Boolean(this.shadowRoot);\n+    },\n+    ready: function() {\n+      this._readied = true;\n+      this.readyList = window.actualReadyList.slice();\n+      this.readyShadowRoot = Boolean(this.shadowRoot);\n+      window.actualReadyList.push(this);\n+    },\n+\n+    attached: function() {\n+      this.attachedShadowRoot = Boolean(this.shadowRoot);\n+      this.attachedTime$Keys = Object.keys(this.$);\n+      this.attachedList = window.actualAttachedList.slice();\n+      window.actualAttachedList.push(this);\n+      if (!this._readied) {\n+        window.actualReadyBeforeAtachedList.push(this);\n+      }\n     }\n-  }\n-};\n+  };\n </script>\n \n <dom-module id=\"x-zot\">\n   <template>\n     x-zot<slot></slot>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-zot',\n-  behaviors: [window.readyBehavior]\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'x-zot',\n",
					"match": false,
					"packageHash": "92265bf45f82377b5561224ae515aad79929a9ca3baa4e6289336e02d49a4d43",
					"size": 7001,
					"sourceHash": "1276651c5655af63311a7b2bb1d65ff3209ebe8eec49fcb910197de47306fd40",
					"status": "content"
				},
				"test/unit/render-status.html": {
					"diff": "--- published/test/unit/render-status.html\n+++ rebuilt/test/unit/render-status.html\n@@ -13,62 +13,59 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import { beforeNextRender as beforeNextRender$0, afterNextRender as afterNextRender$0 } from '../../lib/utils/render-status.js';\n-import { LegacyElementMixin } from '../../lib/legacy/legacy-element-mixin.js';\n-class XFoo extends LegacyElementMixin(HTMLElement) {\n-  ready() {\n-    super.ready();\n-    sinon.spy(this, 'beforeNextRender');\n-    sinon.spy(this, 'stillBeforeNextRender');\n-    beforeNextRender$0(this, this.beforeNextRender,\n-      ['before']);\n-  }\n-\n-  beforeNextRender() {\n-    beforeNextRender$0(this, this.stillBeforeNextRender,\n-      ['still-before']);\n-  }\n-  stillBeforeNextRender() {\n-    if (this.beforeDone) {\n-      this.beforeDone();\n+<script>\n+  HTMLImports.whenReady(function() {\n+    class XFoo extends Polymer.LegacyElementMixin(HTMLElement) {\n+      ready() {\n+        super.ready();\n+        sinon.spy(this, 'beforeNextRender');\n+        sinon.spy(this, 'stillBeforeNextRender');\n+        Polymer.RenderStatus.beforeNextRender(this, this.beforeNextRender,\n+          ['before']);\n+      }\n+\n+      beforeNextRender() {\n+        Polymer.RenderStatus.beforeNextRender(this, this.stillBeforeNextRender,\n+          ['still-before']);\n+      }\n+      stillBeforeNextRender() {\n+        if (this.beforeDone) {\n+          this.beforeDone();\n+        }\n+      }\n     }\n-  }\n-}\n-customElements.define('x-foo', XFoo);\n-\n-class XBar extends LegacyElementMixin(HTMLElement) {\n-  ready() {\n-    super.ready();\n-    sinon.spy(this, 'afterNextRender');\n-    sinon.spy(this, 'afterAfterNextRender');\n-    afterNextRender$0(this, (a) => {\n-      this.afterNextRender(a);\n-    }, ['after']);\n-  }\n-\n-  afterNextRender() {\n-    afterNextRender$0(this, (a) => {\n-      this.afterAfterNextRender(a);\n-    }, ['after-after']);\n-  }\n-  afterAfterNextRender() {\n-    if (this.afterDone) {\n-      this.afterDone();\n-    }\n-  }\n+    customElements.define('x-foo', XFoo);\n+\n+    class XBar extends Polymer.LegacyElementMixin(HTMLElement) {\n+      ready() {\n+        super.ready();\n+        sinon.spy(this, 'afterNextRender');\n+        sinon.spy(this, 'afterAfterNextRender');\n+        Polymer.RenderStatus.afterNextRender(this, (a) => {\n+          this.afterNextRender(a);\n+        }, ['after']);\n+      }\n+\n+      afterNextRender() {\n+        Polymer.RenderStatus.afterNextRender(this, (a) => {\n+          this.afterAfterNextRender(a);\n+        }, ['after-after']);\n+      }\n+      afterAfterNextRender() {\n+        if (this.afterDone) {\n+          this.afterDone();\n+        }\n+      }\n \n-}\n-customElements.define('x-bar', XBar);\n",
					"match": false,
					"packageHash": "41a88509cab136e90b111bac0b10e7dea8f51f428027cce3cd6d46cb3cb24b61",
					"size": 3857,
					"sourceHash": "a42d6372aad097cd8e70730dd46f2f15d24108de857a05fa334f89be06126dad",
					"status": "content"
				},
				"test/unit/resolveurl.html": {
					"diff": "--- published/test/unit/resolveurl.html\n+++ rebuilt/test/unit/resolveurl.html\n@@ -18,8 +18,8 @@\n       rootPath: 'earlyRootPath/'\n     };\n   </script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./sub/resolveurl-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link id=\"elements\" rel=\"import\" href=\"sub/resolveurl-elements.html\">\n </head>\n <body>\n   <x-resolve></x-resolve>\n@@ -39,129 +39,124 @@\n   <dom-module id=\"x-resolve\">\n   </dom-module>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './sub/resolveurl-elements.js';\n-import { Element } from '../../polymer-element.js';\n-class XResolve extends Element {\n-  static get is() { return 'x-resolve'; }\n-}\n-customElements.define(XResolve.is, XResolve);\n-</script>\n-\n-\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import './sub/resolveurl-elements.js';\n-import { Element } from '../../polymer-element.js';\n-import { setRootPath } from '../../lib/utils/settings.js';\n-suite('ResolveUrl', function() {\n-\n-  test('Urls in styles and attributes', function() {\n-    var el = document.createElement('p-r');\n-    document.body.appendChild(el);\n-    var rx = /sub\\/foo\\.z/;\n-    var style = el.shadowRoot.querySelector('style') || document.querySelector('style[scope=p-r]');\n-    assert.match(style.textContent, rx, 'url not relative to main document');\n-    assert.match(el.$.div.getAttribute('style'), rx, 'style url not relative to main document');\n-    assert.match(el.$.img.src, rx, 'src url not relative to main document');\n-    assert.match(el.$.a.href, rx, 'href url not relative to main document');\n-    assert.match(el.$.import.getAttribute('url'), rx, 'url url not relative to main document');\n-    assert.match(el.$.resolveUrl.getAttribute('url'), rx, 'url url not relative to main document');\n-    assert.notMatch(el.$.root.getAttribute('url'), rx, 'url url not relative to main document');\n-    assert.notMatch(el.$.rel.href, rx, 'relative href url not relative to main document');\n-    assert.match(el.$.rel.href, /\\?123$/, 'relative href does not preserve query string');\n-    assert.equal(el.$.action.getAttribute('action'), 'foo.z', 'action attribute relativized for incorrect element type');\n-    assert.match(el.$.formAction.action, rx, 'action attribute relativized for incorrect element type');\n-    assert.equal(el.$.hash.getAttribute('href'), '#foo.z', 'hash-only url should not be resolved');\n-    assert.equal(el.$.absolute.getAttribute('href'), '/foo.z', 'absolute urls should not be resolved');\n-    assert.equal(el.$.protocol.getAttribute('href'), 'data:foo.z', 'urls with other protocols should not be resolved');\n-    document.body.removeChild(el);\n-  });\n-\n-  test('url changes via setting importPath/rootPath on element instance', function() {\n-    var el = document.createElement('p-r');\n-    document.body.appendChild(el);\n-    el.rootPath = 'instanceRoot/';\n-    el.importPath = 'instanceImport/';\n-    var matchRoot = /instanceRoot\\//;\n-    var matchImport = /instanceImport\\//;\n-    assert.match(el.$.div.getAttribute('style'), matchImport);\n-    assert.match(el.$.import.getAttribute('url'), matchImport);\n-    assert.match(el.$.root.getAttribute('url'), matchRoot);\n-    document.body.removeChild(el);\n-  });\n-\n-  test('rootPath set early', function() {\n-    class XEarly extends Element {\n-      static get is() { return 'x-late';}\n-    }\n-    customElements.define('x-early', XEarly);\n-    var el = document.createElement('x-early');\n-    document.body.appendChild(el);\n-    var matchRoot = /earlyRootPath\\//i;\n-    assert.match(el.$.root.getAttribute('src'), matchRoot);\n-    document.body.removeChild(el);\n-  });\n-\n-  test('url changes via setting importPath/rootPath when defining element', function() {\n-    setRootPath('defineRoot/');\n-    class XLate extends Element {\n-      static get is() { return 'x-late';}\n-      static get importPath() { return 'defineImport/';}\n-    }\n-    customElements.define(XLate.is, XLate);\n-    var el = document.createElement('x-late');\n-    document.body.appendChild(el);\n-    var matchRoot = /defineRoot\\//i;\n-    var matchImport = /defineImport\\//i;\n-    var style = el.shadowRoot.querySelector('style') || document.querySelector('style[scope=x-late]');\n-    assert.match(style.textContent, matchImport);\n-    assert.match(el.$.import.getAttribute('src'), matchImport);\n-    assert.match(el.$.root.getAttribute('src'), matchRoot);\n-    document.body.removeChild(el);\n-  });\n-\n",
					"match": false,
					"packageHash": "af680b5ae90e5481987cc0bf4f8a9a834bd4da90ffbd0d5093970ac73b26ee3c",
					"size": 6778,
					"sourceHash": "ce923e37db64d22a7c700983ca255f1fd7f5ccc0061fa1f7798e103e180433e4",
					"status": "content"
				},
				"test/unit/shady-content.html": {
					"diff": "--- published/test/unit/shady-content.html\n+++ rebuilt/test/unit/shady-content.html\n@@ -22,7 +22,7 @@\n   </script>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -31,31 +31,31 @@\n     x-dist\n     <div id=\"distWrapper\"><slot id=\"content\"></slot></div>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-dist'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-dist'});\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-dist-simple\">\n   <template>\n     <slot id=\"content\"></slot>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-dist-simple'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-dist-simple'});\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-dist-star\">\n   <template><slot></slot></template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-dist-star'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-dist-star'});\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-dist-inside-deep-tree\">\n@@ -71,42 +71,42 @@\n     </div>\n     <div></div>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-dist-inside-deep-tree'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-dist-inside-deep-tree'});\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-no-dist\">\n   <template><span id=\"static\">x-no-dist</span></template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-no-dist'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-no-dist'});\n+  });\n+  </script>\n </dom-module>\n \n <dom-module id=\"x-compose-dist\">\n   <template>\n     <x-dist id=\"dist\"></x-dist>\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-compose-dist'});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({is: 'x-compose-dist'});\n",
					"match": false,
					"packageHash": "7c86856c2e5083fd06c163d7727367a70bc7647cb89ad50bb1b5e3ec59780c77",
					"size": 48470,
					"sourceHash": "72e584fc3980b14fba0f470d62967f8199ff2163088334b412b8dfa9b1dfc3b3",
					"status": "content"
				},
				"test/unit/shady-dynamic.html": {
					"diff": "--- published/test/unit/shady-dynamic.html\n+++ rebuilt/test/unit/shady-dynamic.html\n@@ -22,7 +22,7 @@\n   </script>\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -31,11 +31,11 @@\n     x-project: [<slot></slot>]\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-project'\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-project'\n+  });\n });\n </script>\n \n@@ -44,11 +44,11 @@\n     <x-project>x-reproject: [<slot></slot>]</x-project>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-reproject'\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-reproject'\n+  });\n });\n </script>\n \n@@ -57,15 +57,15 @@\n     <x-reproject>x-rereproject: [<slot></slot>]</x-reproject>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-rereproject',\n-  attachedCount: 0,\n-  attached: function() {\n-    this.attachedCount++;\n-  }\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-rereproject',\n+    attachedCount: 0,\n+    attached: function() {\n+      this.attachedCount++;\n+    }\n+  });\n });\n </script>\n \n@@ -74,11 +74,11 @@\n     <x-rereproject><span id=\"projected\">projected</span></x-rereproject>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-test'\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-test'\n+  });\n });\n </script>\n \n@@ -87,11 +87,11 @@\n     <span>Local dom without insertion point.</span>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-test-no-distribute'\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-test-no-distribute'\n",
					"match": false,
					"packageHash": "742b103a7f75cf1f29d45bd856d088128f2ba4e676c47789c6a52882d05f7a70",
					"size": 69705,
					"sourceHash": "b7ca3da0da9efa8bf10bb17daf9e96e41716b1f005634bab40c71ffa6b26ee69",
					"status": "content"
				},
				"test/unit/shady-events.html": {
					"diff": "--- published/test/unit/shady-events.html\n+++ rebuilt/test/unit/shady-events.html\n@@ -21,7 +21,7 @@\n </script>\n <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n <script src=\"../../../web-component-tester/browser.js\"></script>\n-<script type=\"module\" src=\"../../polymer.js\"></script>\n+<link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -29,51 +29,51 @@\n     <template>\n       <div id=\"scoped\" on-composed=\"childHandler\" on-scoped=\"childHandler\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-event-scoped',\n-  properties: {\n-    hostEvents: {\n-      type: Array,\n-      value: function() {\n-        return [];\n-      }\n-    },\n-    childEvents: {\n-      type: Array,\n-      value: function() {\n-        return [];\n-      }\n-    }\n-  },\n-  listeners: {\n-    'composed': 'hostHandler',\n-    'scoped': 'hostHandler'\n-  },\n-  hostHandler: function(e) {\n-    this.hostEvents.push({\n-      target: e.target,\n-      type: e.type,\n-      path: e.composedPath()\n-    });\n-  },\n-  childHandler: function(e) {\n-    this.childEvents.push({\n-      target: e.target,\n-      type: e.type,\n-      path: e.composedPath()\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-event-scoped',\n+        properties: {\n+          hostEvents: {\n+            type: Array,\n+            value: function() {\n+              return [];\n+            }\n+          },\n+          childEvents: {\n+            type: Array,\n+            value: function() {\n+              return [];\n+            }\n+          }\n+        },\n+        listeners: {\n+          'composed': 'hostHandler',\n+          'scoped': 'hostHandler'\n+        },\n+        hostHandler: function(e) {\n+          this.hostEvents.push({\n+            target: e.target,\n+            type: e.type,\n+            path: e.composedPath()\n+          });\n+        },\n+        childHandler: function(e) {\n+          this.childEvents.push({\n+            target: e.target,\n+            type: e.type,\n+            path: e.composedPath()\n+          });\n+        },\n+        fireComposed: function() {\n+          return this.fire('composed', null, {node: this.$.scoped});\n+        },\n+        fireScoped: function(){\n+          return this.fire('scoped', null, {node: this.$.scoped, composed: false});\n+        }\n+      });\n     });\n-  },\n-  fireComposed: function() {\n-    return this.fire('composed', null, {node: this.$.scoped});\n-  },\n-  fireScoped: function(){\n-    return this.fire('scoped', null, {node: this.$.scoped, composed: false});\n",
					"match": false,
					"packageHash": "a52f8795534a46c64a9d81e6ff08f669fa4917f236c4979dc470450a7e0f5a85",
					"size": 7362,
					"sourceHash": "f6a609fdc464970ad3d0b292a228d1c71f1bfc3ddd8bb7f83ed64bd6bf21a9db",
					"status": "content"
				},
				"test/unit/shady.html": {
					"diff": "--- published/test/unit/shady.html\n+++ rebuilt/test/unit/shady.html\n@@ -11,19 +11,22 @@\n <html>\n <head>\n   <meta charset=\"utf-8\">\n-  <script src=\"../../../webcomponentsjs/webcomponents-lite.js\" register=\"true\" shadydom=\"true\"></script>\n+  <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"\n+    register=\"true\" shadydom=\"true\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n <template></template>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-var template = document.querySelector('template');\n-Polymer({\n-  is: 'x-content-test',\n-  _template: template\n+<script>\n+\n+// TODO(sorvell): cannot register element in main document under polyfill.\n+HTMLImports.whenReady(function() {\n+  var template = document.querySelector('template');\n+  Polymer({\n+    is: 'x-content-test',\n+    _template: template\n+  });\n });\n \n /*\n@@ -474,6 +477,7 @@\n     assert.equal(a[i], b[i], msg);\n   }\n }\n+\n </script>\n </body>\n </html>\n",
					"match": false,
					"packageHash": "e1c8ebfb8e2d9787588868a55243ed734c46f1ea4d8c42e134450d7170ce57b6",
					"size": 16076,
					"sourceHash": "d872d3699aae3f2976bb0d0965835d147f95884ab6c614819d6823aebd659680",
					"status": "content"
				},
				"test/unit/styling-cross-scope-apply.html": {
					"diff": "--- published/test/unit/styling-cross-scope-apply.html\n+++ rebuilt/test/unit/styling-cross-scope-apply.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -37,11 +37,11 @@\n         <div class=\"story-content\" id=\"content\">Content</div>\n       </div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'story-card'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'story-card'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-child-scope\">\n@@ -97,11 +97,11 @@\n       <div id=\"mixin8\">mixin8</div>\n       <div id=\"mixin9\">mixin9</div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-child-scope'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-child-scope'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-keyframes\">\n@@ -149,20 +149,20 @@\n       </style>\n       x-keyframes\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-keyframes',\n-  properties: {\n-    animated: {\n-      type: Boolean,\n-      value: false,\n-      reflectToAttribute: true\n-    }\n-  }\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-keyframes',\n+        properties: {\n+          animated: {\n+            type: Boolean,\n+            value: false,\n+            reflectToAttribute: true\n+          }\n+        }\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-scope\">\n@@ -278,11 +278,11 @@\n       <story-card id=\"card\"></story-card>\n       <div id=\"override\">override</div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-scope'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-scope'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-var-produce-via-consume\">\n@@ -297,13 +297,13 @@\n       }\n     </style>\n",
					"match": false,
					"packageHash": "481e52b12edb8b3cc39d3cf2d52087dbf0820b322f7e1c49b346b5a0f46f464f",
					"size": 17404,
					"sourceHash": "c77905cd2d549875aae676a4921958ed7878a0722c8d79e28f33f86ce5aad408",
					"status": "content"
				},
				"test/unit/styling-cross-scope-unknown-host.html": {
					"diff": "--- published/test/unit/styling-cross-scope-unknown-host.html\n+++ rebuilt/test/unit/styling-cross-scope-unknown-host.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n   <custom-style>\n@@ -31,17 +31,18 @@\n     </style>\n   </custom-style>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-'use strict';\n-class UnknownHost extends HTMLElement {\n-  constructor() {\n-    super();\n-    this.attachShadow({mode: 'open'});\n-  }\n-}\n-customElements.define('unknown-host', UnknownHost);\n-</script>\n+  <script>\n+    HTMLImports.whenReady(function() {\n+      'use strict';\n+      class UnknownHost extends HTMLElement {\n+        constructor() {\n+          super();\n+          this.attachShadow({mode: 'open'});\n+        }\n+      }\n+      customElements.define('unknown-host', UnknownHost);\n+    });\n+  </script>\n \n   <dom-module id=\"x-foo\">\n     <template>\n@@ -54,13 +55,13 @@\n     </style>\n       x-foo\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-foo'\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-foo'\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-nest\">\n@@ -72,61 +73,62 @@\n     </style>\n       <unknown-host id=\"unknown\"></unknown-host>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-nest',\n-\n-  attached: function() {\n-    this.$.unknown.shadowRoot.appendChild(document.createElement('x-foo'));\n-  }\n-});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({\n+        is: 'x-nest',\n+\n+        attached: function() {\n+          this.$.unknown.shadowRoot.appendChild(document.createElement('x-foo'));\n+        }\n+      });\n+    });\n+    </script>\n   </dom-module>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-suite('scoped-styling-unknown-host', function() {\n-\n-  function assertComputed(element, value, pseudo) {\n-    var computed = getComputedStyle(element, pseudo);\n-    assert.equal(computed['border-top-width'], value, 'computed style incorrect');\n-  }\n-\n-  /* eslint-disable no-unused-vars */\n",
					"match": false,
					"packageHash": "36ca36629768ad9b4e50e1a5112de3cb3abc4e9e25b380490d7ae10bcac42e8b",
					"size": 3416,
					"sourceHash": "dfaf0078b685ed031d93ac828d0afaf576041ebbb6ed1a1e49b1013b88278645",
					"status": "content"
				},
				"test/unit/styling-cross-scope-var.html": {
					"diff": "--- published/test/unit/styling-cross-scope-var.html\n+++ rebuilt/test/unit/styling-cross-scope-var.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n   <style>\n   .variable-override {\n     border-top-width: 10px;\n@@ -52,11 +52,11 @@\n       <div id=\"scope\">From x-scope</div>\n       <div id=\"child\">From x-child-scope</div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-grand-child-scope'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-grand-child-scope'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-host-property\">\n@@ -74,22 +74,22 @@\n       </style>\n       Host property\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-host-property'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-host-property'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-host-host-property\">\n     <template>\n       <x-host-property id=\"hosted\"></x-host-property>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-host-host-property'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-host-host-property'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-produce-use-property\">\n@@ -102,11 +102,11 @@\n       </style>\n       <x-host-host-property id=\"hosted\"></x-host-host-property>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-produce-use-property'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-produce-use-property'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-child-scope\">\n@@ -140,11 +140,11 @@\n       <x-grand-child-scope id=\"gc3\"></x-grand-child-scope>\n       <x-grand-child-scope id=\"gc4\"></x-grand-child-scope>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-child-scope'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({is: 'x-child-scope'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-overrides\">\n@@ -161,11 +161,11 @@\n       overrides:\n       <x-grand-child-scope id=\"gc1\"></x-grand-child-scope>\n     </template>\n-    <script type=\"module\">\n",
					"match": false,
					"packageHash": "5d9e2a54507d94420810b1a1da2ef0d159c86d28842aa9407faa84f0bdf5ddb1",
					"size": 31168,
					"sourceHash": "b9dd35a153465eb7c1e0b4923e3ad85f1dca61ac20b134f969e90aee5a95d6b7",
					"status": "content"
				},
				"test/unit/styling-import-shared-styles.js": {
					"match": false,
					"packageHash": "ab40a03fe9c978939542b4ba0cd7d482d0e7926160d03968da35d79c20de745b",
					"size": 437,
					"status": "missing-in-source"
				},
				"test/unit/styling-import.html": {
					"diff": "--- published/test/unit/styling-import.html\n+++ rebuilt/test/unit/styling-import.html\n@@ -13,8 +13,8 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./styling-import-shared-styles.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"styling-import-shared-styles.html\">\n </head>\n <body>\n \n@@ -25,12 +25,11 @@\n       <div id=\"two\"></div>\n       <div id=\"three\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import './styling-import-shared-styles.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({ is: 'x-include-module'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({ is: 'x-include-module'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-include-import\">\n@@ -46,12 +45,11 @@\n       <div id=\"two\"></div>\n       <div id=\"three\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import './styling-import-shared-styles.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({ is: 'x-include-import'});\n-</script>\n+    <script>\n+    HTMLImports.whenReady(function() {\n+      Polymer({ is: 'x-include-import'});\n+    });\n+    </script>\n   </dom-module>\n \n   <dom-module id=\"x-import-order\">\n@@ -64,59 +62,56 @@\n       </style>\n       <div id=\"two\"></div>\n     </template>\n-    <script type=\"module\">\n-import '../../polymer.js';\n-import './styling-import-shared-styles.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({is: 'x-import-order'});\n-</script>\n+    <script>\n+      HTMLImports.whenReady(function() {\n+        Polymer({is: 'x-import-order'});\n+      });\n+    </script>\n   </dom-module>\n \n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import './styling-import-shared-styles.js';\n-import { flush } from '../../lib/utils/flush.js';\n-suite('style-imports', function() {\n-\n-function assertComputed(element, value) {\n-  var computed = getComputedStyle(element);\n-  assert.equal(computed['border-top-width'], value, 'computed style incorrect');\n-}\n-\n-test('styles included via link rel=\"import\" type=\"css\"', function() {\n-  var el = document.createElement('x-include-import');\n-  document.body.appendChild(el);\n-  flush();\n-  assertComputed(el.$.one, '1px');\n-  assertComputed(el.$.two, '2px');\n-  assertComputed(el.$.three, '3px');\n-  assertComputed(el, '0px', 'style outside template not ignored');\n-  document.body.removeChild(el);\n-\n-});\n-\n-test('styles included via include that loads via link rel=\"import\" type=\"css\"', function() {\n-  var el = document.createElement('x-include-module');\n-  document.body.appendChild(el);\n-  flush();\n-  assertComputed(el.$.one, '1px');\n-  assertComputed(el.$.two, '2px');\n-  assertComputed(el.$.three, '3px');\n-  assertComputed(el, '0px', 'style outside template not ignored');\n-  document.body.removeChild(el);\n+<script>\n",
					"match": false,
					"packageHash": "4ea929f67d23b727c81a3bc7d3ee7a4c110d4dcabac91c4c03c53410a4185e55",
					"size": 3763,
					"sourceHash": "cff01f1454b1f9ac8470ce86d16d5307441e604ddb45c53024d2947ae1de3533",
					"status": "content"
				},
				"test/unit/styling-only-with-template.html": {
					"diff": "--- published/test/unit/styling-only-with-template.html\n+++ rebuilt/test/unit/styling-only-with-template.html\n@@ -14,7 +14,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n \n <body>\n@@ -40,41 +40,40 @@\n   <dom-if><template></template></dom-if>\n   <dom-repeat><template></template></dom-repeat>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Element } from '../../polymer-element.js';\n-class XFoo extends Element {\n-  connectedCallback() {\n-    this.spy = sinon.spy(window.ShadyCSS, 'styleElement');\n-    super.connectedCallback();\n-    this.spy.restore();\n-  }\n-}\n-customElements.define('x-foo', XFoo);\n-</script>\n-\n-  <script type=\"module\">\n-import '../../polymer.js';\n-suite('styling-only-template', function () {\n-\n-  function assertComputed(element, value, pseudo) {\n-    var computed = getComputedStyle(element, pseudo);\n-    assert.equal(computed['border-top-width'], value, 'computed style incorrect');\n-  }\n-\n-  test('elements without templates do not call ShadyCSS', () => {\n-    let el = document.createElement('x-foo');\n-    document.body.appendChild(el);\n-    assert.ok(el.spy);\n-    assert.isTrue(el.spy.notCalled);\n-  });\n-\n-  test('dom-repeat and dom-if do not break custom-style', () => {\n-    // force custom-style flushing\n-    let target = document.querySelector('#target');\n-    window.ShadyCSS.styleDocument();\n-    assertComputed(target, '2px');\n-  });\n-});\n-</script>\n+  <script>\n+    addEventListener('WebComponentsReady', () => {\n+      class XFoo extends Polymer.Element {\n+        connectedCallback() {\n+          this.spy = sinon.spy(window.ShadyCSS, 'styleElement');\n+          super.connectedCallback();\n+          this.spy.restore();\n+        }\n+      }\n+      customElements.define('x-foo', XFoo);\n+    });\n+  </script>\n+\n+  <script>\n+      suite('styling-only-template', function () {\n+\n+        function assertComputed(element, value, pseudo) {\n+          var computed = getComputedStyle(element, pseudo);\n+          assert.equal(computed['border-top-width'], value, 'computed style incorrect');\n+        }\n+\n+        test('elements without templates do not call ShadyCSS', () => {\n+          let el = document.createElement('x-foo');\n+          document.body.appendChild(el);\n+          assert.ok(el.spy);\n+          assert.isTrue(el.spy.notCalled);\n+        });\n+\n+        test('dom-repeat and dom-if do not break custom-style', () => {\n+          // force custom-style flushing\n+          let target = document.querySelector('#target');\n+          window.ShadyCSS.styleDocument();\n+          assertComputed(target, '2px');\n+        });\n+      });\n+  </script>\n </body>\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "21ddc7df0c184c25cdeb178db4f7a4f1fa31f00e91d27d1b097b570a2b91f1e4",
					"size": 2284,
					"sourceHash": "75ad77d3e3bfe8ad9868c8b94f848dead3e92e706277245cebe6916cc7ea8922",
					"status": "content"
				},
				"test/unit/styling-scoped.html": {
					"diff": "--- published/test/unit/styling-scoped.html\n+++ rebuilt/test/unit/styling-scoped.html\n@@ -12,18 +12,19 @@\n <head>\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-let define = window.customElements.define;\n-let order = [];\n-window.customElements.define = function(name, fn, options) {\n-  order.push(name);\n-  return define.call(window.customElements, name, fn, options);\n-};\n-customElements.defineOrder = order;\n-</script>\n+  <script>\n+  (function() {\n+    let define = window.customElements.define;\n+    let order = [];\n+    window.customElements.define = function(name, fn, options) {\n+      order.push(name);\n+      return define.call(window.customElements, name, fn, options);\n+    };\n+    customElements.defineOrder = order;\n+  })();\n+  </script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n   <style>\n     #priority[style-scope=x-styled], #priority.style-scope.x-styled {\n       border: 1px solid black;\n@@ -75,20 +76,20 @@\n     </style>\n     x-keyframes\n   </template>\n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-keyframes',\n-  properties: {\n-    animated: {\n-      type: Boolean,\n-      value: false,\n-      reflectToAttribute: true\n-    }\n-  }\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'x-keyframes',\n+      properties: {\n+        animated: {\n+          type: Boolean,\n+          value: false,\n+          reflectToAttribute: true\n+        }\n+      }\n+    });\n+  });\n+  </script>\n </dom-module>\n <dom-module id=\"x-gchild\">\n   <template>\n@@ -97,11 +98,11 @@\n     <div id=\"target\">x-gchild</div>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-gchild'\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n+    is: 'x-gchild'\n+  });\n });\n </script>\n \n@@ -117,14 +118,14 @@\n     <x-gchild id=\"gchild2\" class=\"wide\"></x-gchild>\n   </template>\n </dom-module>\n-<script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-child',\n-  hostAttributes: {\n-    class: 'nug'\n-  }\n+<script>\n+HTMLImports.whenReady(function() {\n+  Polymer({\n",
					"match": false,
					"packageHash": "cf39ff5055a5eac4956a544e3f9874c33deead7f6173b450d4618b1dbe0b0480",
					"size": 28907,
					"sourceHash": "42cff48b62ae480ea1c193dbb06cd56f5a636ac29d5cfd70e988c1283842144c",
					"status": "content"
				},
				"test/unit/sub/resolveurl-elements.js": {
					"match": false,
					"packageHash": "3018afec2dbae742dfd408496a6d730eafc124cef45eadbee9c051ed5fb84fd6",
					"size": 1327,
					"status": "missing-in-source"
				},
				"test/unit/sub/style-import.js": {
					"match": false,
					"packageHash": "e04e1aa6c985794708b0c7c58c79e9f028a68e3a0a56fcb1ba796e09335129e2",
					"size": 553,
					"status": "missing-in-source"
				},
				"test/unit/sub/x-sub.html": {
					"diff": "--- published/test/unit/sub/x-sub.html\n+++ rebuilt/test/unit/sub/x-sub.html\n@@ -2,11 +2,10 @@\n   <template>\n     <div id=\"test\">test</div>\n   </template>\n-  <script type=\"module\">\n-import { Element } from '../../../polymer-element.js';\n-class XSub extends Element {\n-  static get is() { return 'x-sub' }\n-}\n-customElements.define(XSub.is, XSub);\n-</script>\n+  <script>\n+    class XSub extends Polymer.Element {\n+      static get is() { return 'x-sub' }\n+    }\n+    customElements.define(XSub.is, XSub);\n+  </script>\n </dom-module>\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "a65dc81478ef81a570a6b7948bcf0d244758d6037578529fcaf53f3683a84c10",
					"size": 290,
					"sourceHash": "66b0baf4e6bba90c0c063d9c2f2972836a93ae7b752ddb2c13fcd04d5d3f4c23",
					"status": "content"
				},
				"test/unit/sub/x-test.html": {
					"diff": "--- published/test/unit/sub/x-test.html\n+++ rebuilt/test/unit/sub/x-test.html\n@@ -2,10 +2,9 @@\n   <template>\n     <x-sub id=\"sub\">sub</x-sub>\n   </template>\n-  <script type=\"module\">\n-import { Polymer } from '../../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'x-test'\n-})\n-</script>\n+  <script>\n+    Polymer({\n+      is: 'x-test'\n+    })\n+  </script>\n </dom-module>\n\\ No newline at end of file\n",
					"match": false,
					"packageHash": "e21e2de73bfc7c620cebf9d8354b22196ede4e3e4e786a178b0ece39497fd3c6",
					"size": 221,
					"sourceHash": "467f343c4c0dd0ea655b446ce4ed97494f78f899b50b957bedb2a0be8b1ac633",
					"status": "content"
				},
				"test/unit/template-stamp.html": {
					"diff": "--- published/test/unit/template-stamp.html\n+++ rebuilt/test/unit/template-stamp.html\n@@ -15,7 +15,7 @@\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n \n-  <script type=\"module\" src=\"../../lib/mixins/template-stamp.js\"></script>\n+  <link rel=\"import\" href=\"../../lib/mixins/template-stamp.html\">\n </head>\n <body>\n \n@@ -31,68 +31,69 @@\n     </template>\n   </template>\n \n-  <script type=\"module\">\n-import { TemplateStamp } from '../../lib/mixins/template-stamp.js';\n-class TemplateStamper extends TemplateStamp(HTMLElement) {\n-  connectedCallback() {\n-    this.handleClick = sinon.spy(event => {\n-      this.handleClickTarget = event.target;\n+  <script>\n+    HTMLImports.whenReady(() => {\n+      class TemplateStamper extends Polymer.TemplateStamp(HTMLElement) {\n+        connectedCallback() {\n+          this.handleClick = sinon.spy(event => {\n+            this.handleClickTarget = event.target;\n+          });\n+          let template = document.getElementById('test-template');\n+          this.dom = this._stampTemplate(template);\n+          this.attachShadow({mode:'open'}).appendChild(this.dom);\n+        }\n+      }\n+      customElements.define('template-stamper', TemplateStamper);\n     });\n-    let template = document.getElementById('test-template');\n-    this.dom = this._stampTemplate(template);\n-    this.attachShadow({mode:'open'}).appendChild(this.dom);\n-  }\n-}\n-customElements.define('template-stamper', TemplateStamper);\n-</script>\n-\n-  <script type=\"module\">\n-import '../../lib/mixins/template-stamp.js';\n-\n-suite('template-stamp', () => {\n-\n-  test('id map', () => {\n-    let el = document.createElement('template-stamper');\n-    document.body.appendChild(el);\n-    assert.equal(el.dom.$.a.textContent, 'a');\n-    assert.equal(el.dom.$.b.textContent, 'b');\n-    document.body.removeChild(el);\n-  });\n-\n-  test('declarative events', () => {\n-    let el = document.createElement('template-stamper');\n-    document.body.appendChild(el);\n-    el.dom.$.eventHandler.click();\n-    assert.equal(el.handleClick.callCount, 1);\n-    assert.equal(el.handleClick.firstCall.args[0].type, 'click');\n-    assert.equal(el.handleClickTarget, el.dom.$.eventHandler);\n-    document.body.removeChild(el);\n-  });\n-\n-  test('cached template content', () => {\n-    let el = document.createElement('template-stamper');\n-    document.body.appendChild(el);\n-    let content = el.constructor._contentForTemplate(el.dom.$.nestedTemplate);\n-    assert.isTrue(content instanceof DocumentFragment);\n-    assert.notOk(content.ownerDocument.defaultView);\n-    assert.equal(content.firstChild.getAttribute('on-click'), null);\n-    document.body.removeChild(el);\n-  });\n-\n-  test('preserved template content', () => {\n-    let el = document.createElement('template-stamper');\n-    document.body.appendChild(el);\n-    let content = el.dom.$.preservedTemplate.content;\n-    assert.isTrue(content instanceof DocumentFragment);\n-    assert.equal(content.childNodes[1].getAttribute('on-click'), 'shouldNotBeRemoved');\n-    document.body.removeChild(el);\n-  });\n-\n-});\n-\n-// Note template parsing API is tested in `property-effects-template.html`,\n-// combined with adding property effects\n-</script>\n+  </script>\n+\n+  <script>\n+\n+    suite('template-stamp', () => {\n+\n+      test('id map', () => {\n+        let el = document.createElement('template-stamper');\n+        document.body.appendChild(el);\n+        assert.equal(el.dom.$.a.textContent, 'a');\n",
					"match": false,
					"packageHash": "33323a7196a4e33507b93e0c8a3ce756f1ac653960537cf3bced5bc78568e20a",
					"size": 3396,
					"sourceHash": "463107a59b8127048aab5c5970f89c49603fc9fcc4d5576a5f277912dffb9fef",
					"status": "content"
				},
				"test/unit/template-whitespace.html": {
					"diff": "--- published/test/unit/template-whitespace.html\n+++ rebuilt/test/unit/template-whitespace.html\n@@ -13,7 +13,7 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n </head>\n <body>\n \n@@ -21,13 +21,13 @@\n \n   <template> <div>A</div> <div>B</div> </template>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'has-whitespace'\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'has-whitespace'\n+    });\n+  });\n+  </script>\n \n </dom-module>\n \n@@ -41,13 +41,13 @@\n     <div>B</div>\n   </template>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'no-whitespace'\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'no-whitespace'\n+    });\n+  });\n+  </script>\n \n </dom-module>\n \n@@ -65,13 +65,13 @@\n     <div>B</div>\n   </template>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'no-whitespace-style'\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'no-whitespace-style'\n+    });\n+  });\n+  </script>\n \n </dom-module>\n \n@@ -86,13 +86,13 @@\n     </div>\n   </template>\n \n-  <script type=\"module\">\n-import '../../polymer.js';\n-import { Polymer } from '../../lib/legacy/polymer-fn.js';\n-Polymer({\n-  is: 'no-whitespace-nested'\n-});\n-</script>\n+  <script>\n+  HTMLImports.whenReady(function() {\n+    Polymer({\n+      is: 'no-whitespace-nested'\n+    });\n+  });\n+  </script>\n \n </dom-module>\n \n@@ -110,19 +110,19 @@\n     <div id=\"compound\"> {{a}} {{b}} </div>\n   </template>\n \n-  <script type=\"module\">\n",
					"match": false,
					"packageHash": "11cd77fadad59d9981a7f3ff298a390df0e489fb2d3df87346824cea5ed3e3ab",
					"size": 5331,
					"sourceHash": "e7c3131714417fbe5ea779414d0250937527e3107339a3267ef0f0ec464d26a8",
					"status": "content"
				},
				"test/unit/templatize-elements.js": {
					"match": false,
					"packageHash": "5a1285eef043120f785a25a6501a77629e8e16edee6d93501329ac7e5ee973a9",
					"size": 5156,
					"status": "missing-in-source"
				},
				"test/unit/templatize.html": {
					"diff": "--- published/test/unit/templatize.html\n+++ rebuilt/test/unit/templatize.html\n@@ -13,322 +13,321 @@\n   <meta charset=\"utf-8\">\n   <script src=\"../../../webcomponentsjs/webcomponents-lite.js\"></script>\n   <script src=\"../../../web-component-tester/browser.js\"></script>\n-  <script type=\"module\" src=\"../../polymer.js\"></script>\n-  <script type=\"module\" src=\"./templatize-elements.js\"></script>\n+  <link rel=\"import\" href=\"../../polymer.html\">\n+  <link rel=\"import\" href=\"templatize-elements.html\">\n </head>\n <body>\n \n-<script type=\"module\">\n-import '../../polymer.js';\n-import './templatize-elements.js';\n-\n-suite('templatize basic', function() {\n-\n-  let host;\n-  let childA;\n-\n-  setup(function() {\n-    host = document.createElement('x-host');\n-    document.body.appendChild(host);\n-    host.$.templatizeA.go(true);\n-    childA = host.shadowRoot.querySelector('#childA');\n-    assert.ok(childA);\n-  });\n-\n-  teardown(function() {\n-    document.body.removeChild(host);\n-  });\n-\n-  test('stamped with initial data', function() {\n-    assert.equal(childA.outerProp, 'outerProp');\n-    assert.equal(childA.outerObj, host.outerObj);\n-    assert.equal(childA.outerObjProp, 'outerObj.prop');\n-    assert.equal(childA.prop, 'prop-a');\n-    assert.equal(childA.obj, host.objA);\n-    assert.equal(childA.objProp, 'objA.prop');\n-  });\n-\n-  test('host properties propagated in', function() {\n-    host.outerProp = 'outerProp++';\n-    assert.equal(childA.outerProp, 'outerProp++');\n-    host.outerObj = { prop: 'outerObj++.prop' };\n-    assert.equal(childA.outerObj, host.outerObj);\n-    assert.equal(childA.outerObjProp, 'outerObj++.prop');\n-  });\n-\n-  test('host paths propagated in', function() {\n-    sinon.spy(childA, 'outerObjChanged');\n-    host.set('outerObj.prop', 'outerObj.prop++');\n-    assert.equal(childA.outerObjProp, 'outerObj.prop++');\n-    assert.isTrue(childA.outerObjChanged.calledOnce);\n-    assert.equal(childA.outerObjChanged.getCall(0).args[0].path, 'outerObj.prop');\n-    assert.equal(childA.outerObjChanged.getCall(0).args[0].value, 'outerObj.prop++');\n-  });\n-\n-  test('host properties propagated out', function() {\n-    childA.outerProp = 'outerProp++';\n-    assert.equal(host.outerProp, 'outerProp++');\n-    childA.outerObj = { prop: 'outerObj++.prop' };\n-    assert.equal(host.outerObj.prop, 'outerObj++.prop');\n-  });\n-\n-  test('host paths propagated out', function() {\n-    sinon.spy(host, 'outerObjChanged');\n-    childA.set('outerObj.prop', 'outerObj.prop++');\n-    assert.equal(host.outerObj.prop, 'outerObj.prop++');\n-    assert.isTrue(host.outerObjChanged.calledOnce);\n-    assert.equal(host.outerObjChanged.getCall(0).args[0].path, 'outerObj.prop');\n-    assert.equal(host.outerObjChanged.getCall(0).args[0].value, 'outerObj.prop++');\n-  });\n-\n-  test('instance properties propagated in', function() {\n-    host.propA = 'prop-a++';\n-    assert.equal(childA.prop, 'prop-a++');\n-    host.objA = { prop: 'objA++.prop' };\n-    assert.equal(childA.obj, host.objA);\n-    assert.equal(childA.objProp, 'objA++.prop');\n-  });\n-\n-  test('instance paths propagated in', function() {\n-    sinon.spy(childA, 'objChanged');\n-    host.set('objA.prop', 'objA.prop++');\n-    assert.equal(childA.obj.prop, 'objA.prop++');\n-    assert.isTrue(childA.objChanged.calledOnce);\n-    assert.equal(childA.objChanged.getCall(0).args[0].path, 'obj.prop');\n-    assert.equal(childA.objChanged.getCall(0).args[0].value, 'objA.prop++');\n-  });\n-\n-  test('instance properties propagated out', function() {\n-    childA.prop = 'prop-a++';\n-    assert.equal(host.propA, 'prop-a++');\n-    childA.obj = { prop: 'objA++.prop' };\n-    assert.equal(host.objA.prop, 'objA++.prop');\n-  });\n-\n",
					"match": false,
					"packageHash": "30a6cff5aed96f214bdda683d4b0d5878cadbc43dfb8f9cda363728f84c18ca4",
					"size": 11525,
					"sourceHash": "88a482fef1edc2557e397520ffd4c980730387005cb6b3d8b458383a12989a5d",
					"status": "content"
				},
				"lib/elements/array-selector.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/elements/custom-style.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/elements/dom-bind.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/elements/dom-if.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/elements/dom-module.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/elements/dom-repeat.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/class.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/legacy-element-mixin.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/mutable-data-behavior.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/polymer-fn.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/polymer.dom.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/legacy/templatizer-behavior.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/element-mixin.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/gesture-event-listeners.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/mutable-data.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/property-accessors.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/property-effects.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/mixins/template-stamp.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/array-splice.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/async.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/boot.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/case-map.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/debounce.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/flattened-nodes-observer.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/flush.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/gestures.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/import-href.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/mixin.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/path.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/render-status.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/resolve-url.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/settings.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/style-gather.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/templatize.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"lib/utils/unresolved.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"polymer-element.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"polymer.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/smoke/style-props/src/elements-defaults.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/smoke/style-props/src/elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/smoke/style-props/src/scopes.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/smoke/style-props/src/settings.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/array-selector-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/attributes-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/custom-style-import.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dom-bind-elements1.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dom-bind-elements2.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dom-if-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dom-repeat-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dynamic-imports/dynamic-element.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/dynamic-imports/inner-element.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/events-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/gestures-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/path-effects-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/polymer-element-with-apply-import.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/property-effects-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/styling-import-shared-styles.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/sub/resolveurl-elements.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/sub/style-import.html": {
					"match": false,
					"status": "missing-in-package"
				},
				"test/unit/templatize-elements.html": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 69,
				"matchingFiles": 27,
				"missingInPackage": 59,
				"missingInSource": 60,
				"score": 0.12558139534883722,
				"totalFiles": 215
			}
		}
	}
]
