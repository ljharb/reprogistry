[
	{
		"reproduceVersion": "0.0.0-local",
		"timestamp": "2026-01-05T23:56:01.505Z",
		"os": "linux",
		"arch": "x64",
		"strategy": "npm:11.7.0",
		"reproduced": false,
		"attested": false,
		"package": {
			"spec": "blanket@1.2.2",
			"name": "blanket",
			"version": "1.2.2",
			"location": "https://registry.npmjs.org/blanket/-/blanket-1.2.2.tgz",
			"integrity": "sha512-84ZwbvHmEEqyZGhOrxpHSG5yuKWsbq3sQlTgVxDSkjxNyKGfJF5QA5RZUAGl89s/WJl9FDSkpsjrPRhfil53rw==",
			"publishedAt": "2016-02-18T17:38:42.377Z",
			"publishedWith": {
				"node": "0.10.30",
				"npm": "2.7.5"
			}
		},
		"source": {
			"integrity": "sha512-KtwaT+293Z5hhODI1Ik5Ba7E653yfKoec3nno4A6lxOU7dE2jwSkRWNS3LM4WNNDin9Cqaqpt5CT5dWTQI9Uwg==",
			"location": "git://github.com/alex-seville/blanket.git",
			"spec": "github:alex-seville/blanket#ccd515861ef9d0d071344c01481526010da255f6"
		},
		"comparisonHash": "9ef46a5bd31291e57cbab41e2f17c57bd6da0b5b",
		"diff": {
			"files": {
				".npmignore": {
					"match": false,
					"packageHash": "ff2e8f4001bac5aa5d044a95210366d28c0eff36d0800ebe4cb34fa929514601",
					"size": 116,
					"status": "missing-in-source"
				},
				"HISTORY.md": {
					"match": false,
					"packageHash": "09da092b86b740b30fed1fc91671be01b59ef9224d1fd752b61c0b58ebee551d",
					"size": 2945,
					"status": "missing-in-source"
				},
				"LICENSE": {
					"diff": "--- published/LICENSE\n+++ rebuilt/LICENSE\n@@ -10,6 +10,8 @@\n Software is furnished to do so, subject to the following\n conditions:\n \n+* The software may not be used by individuals, corporations, governments, or other groups for systems or activities that actively and knowingly endanger, harm, or otherwise threaten the physical, mental, economic, or general well-being of other individuals or groups in violation of the [United Nations Universal Declaration of Human Rights](https://www.un.org/en/universal-declaration-human-rights/).\n+\n The above copyright notice and this permission notice shall be\n included in all copies or substantial portions of the Software.\n \n",
					"match": false,
					"packageHash": "7635f6477eec11e0ecd613c964ffeed48df45597b4b9268c0b3756ed5df1c140",
					"size": 1068,
					"sourceHash": "df54bdfd21c3c9bea977cb6348890635a3a5e67f7033416d9b05eac4718d8305",
					"status": "content"
				},
				"README.md": {
					"diff": "--- published/README.md\n+++ rebuilt/README.md\n@@ -2,6 +2,11 @@\n \n A seamless JavaScript code coverage library.\n \n+**FYI: Please note that this repo is not actively maintained**\n+\n+**If you're looking for a more active project for JavaScript code coverage, I recommend [Istanbul](https://github.com/gotwarlost/istanbul).**\n+\n+\n [Project home page](http://blanketjs.org/)  \n [Blanket_js on Twitter](http://www.twitter.com/blanket_js) for updates and news.\n \n@@ -21,7 +26,6 @@\n * [Development](#development)\n * [Contact](#contact)\n * [Contributors](#contributors)  \n-* [Roadmap](#roadmap)\n * [Revision History](#revision-history)\n \n **NOTE:** Blanket.js will throw XHR cross domain errors if run with the file:// protocol.  See [Special Features Guide](docs/special_features.md) for more details and workarounds.\n@@ -117,13 +121,12 @@\n \n And thanks also to: [RequireJS](http://requirejs.org/), [Esprima](http://esprima.org/), [node-falafel](https://github.com/substack/node-falafel), [Mocha](http://visionmedia.github.com/mocha/), [Qunit](http://qunitjs.com/).\n \n-## Roadmap\n-\n-v1.1.5 - Refactor reporter API.\n-\n \n ## Revision History\n \n+Feb 18-15 - 1.2.2\n+PR's merged, but this project is not actively maintained.\n+\n May 1-13 - 1.1.4  \n Loaded reverting for grunt-blanket, branch tracking reporter fixed, coverage on-the-go (displaying coverage results while a single page is being used).  \n \n",
					"match": false,
					"packageHash": "7d5b8cecf67e00fac0747d422dcc1c8750e7435323622c4df09dee71b39bb082",
					"size": 5189,
					"sourceHash": "ccea6b3d3e1963f3394fde7465afe13677b0716599b24c8a15d4ce7cd7e67a25",
					"status": "content"
				},
				"package.json": {
					"diff": "--- published/package.json\n+++ rebuilt/package.json\n@@ -1,7 +1,7 @@\n {\n   \"name\": \"blanket\",\n   \"description\": \"seamless js code coverage\",\n-  \"version\": \"1.2.2\",\n+  \"version\": \"1.2.3\",\n   \"homepage\": \"https://github.com/alex-seville/blanket\",\n   \"author\": {\n     \"name\": \"Alex-Seville\",\n",
					"match": false,
					"packageHash": "571fd46fca1bbbecfbcb79ecb2c8587d6ab1877130258a9fa30a70a0c4bf1a42",
					"size": 1672,
					"sourceHash": "992db8fa0306d3c1e58b542ed3b64c07fa41c191f1c12413204e21e748537d41",
					"status": "content"
				},
				"src/blanketRequire.js": {
					"diff": "--- published/src/blanketRequire.js\n+++ rebuilt/src/blanketRequire.js\n@@ -38,13 +38,19 @@\n         },\n         collectPageScripts: function(){\n             var toArray = Array.prototype.slice;\n-            var scripts = toArray.call(document.scripts);\n             var selectedScripts=[],scriptNames=[];\n             var filter = _blanket.options(\"filter\");\n+\n+            function selectAllScripts() {\n+              var browserScripts = toArray.call(document.scripts);\n+              var blanketScripts = toArray.call(document.getElementsByTagName('blanket'));\n+              return browserScripts.concat(blanketScripts);\n+            }\n+\n             if(filter != null){\n                 //global filter in place, data-cover-only\n                 var antimatch = _blanket.options(\"antifilter\");\n-                selectedScripts = toArray.call(document.scripts)\n+                selectedScripts = selectAllScripts()\n                                 .filter(function(s){\n                                     return toArray.call(s.attributes).filter(function(sn){\n                                         return sn.nodeName === \"src\" && _blanket.utils.matchPatternAttribute(sn.nodeValue,filter) &&\n@@ -52,7 +58,7 @@\n                                     }).length === 1;\n                                 });\n             }else{\n-                selectedScripts = toArray.call(document.querySelectorAll(\"script[data-cover]\"));\n+                selectedScripts = toArray.call(document.querySelectorAll(\"script[data-cover], blanket\"));\n             }\n             scriptNames = selectedScripts.map(function(s){\n                                     return _blanket.utils.qualifyURL(\n",
					"match": false,
					"packageHash": "fe3d41fdbdf5a5936f2bcc7fe544c7f714f24f42e456154fa523dbb2bb7991fc",
					"size": 14658,
					"sourceHash": "8e04dc3874f26d772024b1bef3cd79677d3095fd91691b799faeb1a60707147a",
					"status": "content"
				},
				"src/config.js": {
					"diff": "--- published/src/config.js\n+++ rebuilt/src/config.js\n@@ -35,10 +35,10 @@\n                                 }\n                             }\n                         }\n-                        if (es.nodeName === \"data-cover-testReadyCallback\"){\n+                        if (es.nodeName.toLowerCase() === \"data-cover-testreadycallback\"){\n                             newOptions.testReadyCallback = es.nodeValue;\n                         }\n-                        if (es.nodeName === \"data-cover-customVariable\"){\n+                        if (es.nodeName.toLowerCase() === \"data-cover-customvariable\"){\n                             newOptions.customVariable = es.nodeValue;\n                         }\n                         if (es.nodeName === \"data-cover-flags\"){\n@@ -82,4 +82,4 @@\n     if (blanket.options(\"commonJS\")){\n         blanket._commonjs = {};\n     }\n-})();\n\\ No newline at end of file\n+})();\n",
					"match": false,
					"packageHash": "b3f6892c6e2f4327142c58ced469e035a97d5964ef5cbd787f41daf3a54419c7",
					"size": 4124,
					"sourceHash": "f02a81b7c1cf068851eb7642bdf5ac5d963f6c8200eb100c72c617bb42be5724",
					"status": "content"
				},
				"src/index.js": {
					"diff": "--- published/src/index.js\n+++ rebuilt/src/index.js\n@@ -25,10 +25,6 @@\n     }\n \n     var blanketConfigs = packageConfigs ? extend(packageConfigs,userOptions) : userOptions,\n-\n-        pattern = blanketConfigs  ?\n-                          blanketConfigs.pattern :\n-                          \"src\",\n         blanket = require(\"./blanket\").blanket,\n         oldLoader = require.extensions['.js'],\n         newLoader;\n@@ -37,7 +33,9 @@\n         return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n     }\n     if (blanketConfigs){\n-        var newOptions={};\n+        var newOptions={\n+            'filter': 'src' // Default filter to src\n+        };\n         Object.keys(blanketConfigs).forEach(function (option) {\n             var optionValue = blanketConfigs[option];\n             if(option === \"data-cover-only\" || option === \"pattern\"){\n@@ -74,6 +72,9 @@\n             }\n         });\n         blanket.options(newOptions);\n+    } else {\n+        // If no config is specified, default filter to src.\n+        blanket.options('filter', 'src');\n     }\n \n     //helper functions\n@@ -157,7 +158,7 @@\n \n                 blanket.instrument({\n                     inputFile: content,\n-                    inputFileName: inputFilename\n+                    inputFileName: blanket.normalizeBackslashes(inputFilename)\n                 },function(instrumented){\n                     var baseDirPath = blanket.normalizeBackslashes(path.dirname(filename))+'/.';\n                     try{\n",
					"match": false,
					"packageHash": "5b1cb85af559e3b1049d4d2bdbc1c7c7b72e7adcb0aeeef432651595f6f93458",
					"size": 9362,
					"sourceHash": "cf9315058649f7b7e6022108804e876696803351708e144490b8d8b80069b85b",
					"status": "content"
				},
				"src/qunit/reporter.js": {
					"diff": "--- published/src/qunit/reporter.js\n+++ rebuilt/src/qunit/reporter.js\n@@ -8,9 +8,9 @@\n         hasBranchTracking = Object.keys(coverage.files).some(function(elem){\n           return typeof coverage.files[elem].branchData !== 'undefined';\n         }),\n-        bodyContent = \"<div id='blanket-main'><div class='blanket bl-title'><div class='bl-cl bl-file'><a href='http://alex-seville.github.com/blanket/' target='_blank' class='bl-logo'>Blanket.js</a> results</div><div class='bl-cl rs'>Coverage (%)</div><div class='bl-cl rs'>Covered/Total Smts.</div>\"+(hasBranchTracking ? \"<div class='bl-cl rs'>Covered/Total Branches</div>\":\"\")+\"<div style='clear:both;'></div></div>\",\n-        fileTemplate = \"<div class='blanket {{statusclass}}'><div class='bl-cl bl-file'><span class='bl-nb'>{{fileNumber}}.</span><a href='javascript:blanket_toggleSource(\\\"file-{{fileNumber}}\\\")'>{{file}}</a></div><div class='bl-cl rs'>{{percentage}} %</div><div class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</div>\"+( hasBranchTracking ? \"<div class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</div>\" : \"\" )+\"<div id='file-{{fileNumber}}' class='bl-source' style='display:none;'>{{source}}</div><div style='clear:both;'></div></div>\";\n-        grandTotalTemplate = \"<div class='blanket grand-total {{statusclass}}'><div class='bl-cl'>{{rowTitle}}</div><div class='bl-cl rs'>{{percentage}} %</div><div class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</div>\"+( hasBranchTracking ? \"<div class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</div>\" : \"\" ) + \"<div style='clear:both;'></div></div>\";\n+        bodyContent = \"<table id='blanket-main'><tr><th class='blanket bl-title'><th class='bl-cl bl-file'><a href='http://alex-seville.github.com/blanket/' target='_blank' class='bl-logo'>Blanket.js</a> results</th><th class='bl-cl rs'>Coverage (%)</th><th class='bl-cl rs'>Covered/Total Smts.</th>\"+(hasBranchTracking ? \"<th class='bl-cl rs'>Covered/Total Branches</th>\":\"\")+\"<th style='clear:both;'></th></tr></table>\",\n+        fileTemplate = \"<tr><td class='blanket {{statusclass}}'><td class='bl-cl bl-file'><span class='bl-nb'>{{fileNumber}}.</span><a href='javascript:blanket_toggleSource(\\\"file-{{fileNumber}}\\\")'>{{file}}</a></td><td class='bl-cl rs'>{{percentage}} %</td><td class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</td>\"+( hasBranchTracking ? \"<td class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</td>\" : \"\" )+\"<td id='file-{{fileNumber}}' class='bl-source' style='display:none;'>{{source}}</td><td style='clear:both;'></td></td></tr>\";\n+        grandTotalTemplate = \"<tr><td class='blanket grand-total {{statusclass}}'><td class='bl-cl'>{{rowTitle}}</td><td class='bl-cl rs'>{{percentage}} %</td><td class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</td>\"+( hasBranchTracking ? \"<td class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</td>\" : \"\" ) + \"<td style='clear:both;'></td></td></tr>\";\n \n     function blanket_toggleSource(id) {\n         var element = document.getElementById(id);\n@@ -44,8 +44,7 @@\n             .replace(/\\\"/g, \"&quot;\")\n             .replace(/\\'/g, \"&apos;\")\n             .replace(/`/g, \"&grave;\")\n-            .replace(/[$]/g, \"&dollar;\")\n-            .replace(/&/g, \"&amp;\");\n+            .replace(/[$]/g, \"&dollar;\");\n     }\n \n     function isBranchFollowed(data,bool){\n@@ -96,7 +95,7 @@\n       }\n       var thisline = cols[colsIndex];\n       //consequent\n-      \n+\n       var cons = thisline.consequent;\n       if (cons.start.line > lineNum){\n         branchStack.unshift([thisline.alternate,thisline]);\n@@ -105,7 +104,7 @@\n       }else{\n         var style = \"<span class='\" + (isBranchFollowed(thisline,true) ? 'branchOkay' : 'branchWarning') + \"'>\";\n         newsrc += escapeInvalidXmlChars(src.slice(0,cons.start.column-offset)) + style;\n-        \n+\n         if (cols.length > colsIndex+1 &&\n           cols[colsIndex+1].consequent.start.line === lineNum &&\n           cols[colsIndex+1].consequent.start.column-offset < cols[colsIndex].consequent.end.column-offset)\n@@ -181,12 +180,12 @@\n             numberOfFilesCovered = 0,\n             code = [],\n             i;\n-        \n+\n \n         var end = [];\n         for(i = 0; i < statsForFile.source.length; i +=1){\n             var src = statsForFile.source[i];\n-            \n+\n             if (branchStack.length > 0 ||\n                 typeof statsForFile.branchData !== 'undefined')\n             {\n@@ -194,10 +193,10 @@\n                 {\n                   var cols = statsForFile.branchData[i+1].filter(isUndefined);\n                   var colsIndex=0;\n-                  \n-                    \n+\n+\n                   src = branchReport(colsIndex,src,cols,0,i+1).src;\n-                  \n+\n                 }else if (branchStack.length){\n                   src = branchReport(0,src,null,0,i+1).src;\n                 }else{\n@@ -243,7 +242,7 @@\n         totals.passedBranches += passedBranches;\n         totals.totalBranches += totalBranches;\n \n-        // if \"data-cover-modulepattern\" was provided, \n+        // if \"data-cover-modulepattern\" was provided,\n         // track totals per module name as well as globally\n         if (modulePatternRegex) {\n             var moduleName = file.match(modulePatternRegex)[1];\n@@ -284,7 +283,7 @@\n         bodyContent += output;\n     }\n \n-    // create temporary function for use by the global totals reporter, \n+    // create temporary function for use by the global totals reporter,\n     // as well as the per-module totals reporter\n     var createAggregateTotal = function(numSt, numCov, numBranch, numCovBr, moduleName) {\n \n@@ -302,8 +301,8 @@\n         bodyContent += totalsOutput;\n     };\n \n-    // if \"data-cover-modulepattern\" was provided, \n-    // output the per-module totals alongside the global totals    \n+    // if \"data-cover-modulepattern\" was provided,\n+    // output the per-module totals alongside the global totals\n     if (modulePatternRegex) {\n         for (var thisModuleName in totals.moduleTotalStatements) {\n",
					"match": false,
					"packageHash": "157bc45ee40107825a2c647e12808248e249feab997a99f6679002b3b52f3f44",
					"size": 15754,
					"sourceHash": "2289bf3e547979a64bc19f22148763e241824681cfb24a8d8d9849bc5ed01aa1",
					"status": "content"
				},
				"src/node-loaders/dynamic-loader.js": {
					"match": false,
					"status": "missing-in-package"
				},
				"src/node-loaders/iced-coffee-script.js": {
					"match": false,
					"status": "missing-in-package"
				}
			},
			"summary": {
				"differentFiles": 7,
				"matchingFiles": 25,
				"missingInPackage": 2,
				"missingInSource": 2,
				"score": 0.6944444444444444,
				"totalFiles": 36
			}
		}
	}
]
